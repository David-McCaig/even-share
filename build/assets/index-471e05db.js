var mL=Object.defineProperty;var gL=(t,e,n)=>e in t?mL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var vL=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ae=(t,e,n)=>(gL(t,typeof e!="symbol"?e+"":e,n),n);var zpe=vL((qn,Kn)=>{function yL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Pg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rP={exports:{}},kg={},iP={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf=Symbol.for("react.element"),_L=Symbol.for("react.portal"),bL=Symbol.for("react.fragment"),wL=Symbol.for("react.strict_mode"),EL=Symbol.for("react.profiler"),xL=Symbol.for("react.provider"),TL=Symbol.for("react.context"),SL=Symbol.for("react.forward_ref"),IL=Symbol.for("react.suspense"),CL=Symbol.for("react.memo"),AL=Symbol.for("react.lazy"),eS=Symbol.iterator;function RL(t){return t===null||typeof t!="object"?null:(t=eS&&t[eS]||t["@@iterator"],typeof t=="function"?t:null)}var sP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oP=Object.assign,aP={};function hc(t,e,n){this.props=t,this.context=e,this.refs=aP,this.updater=n||sP}hc.prototype.isReactComponent={};hc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lP(){}lP.prototype=hc.prototype;function nw(t,e,n){this.props=t,this.context=e,this.refs=aP,this.updater=n||sP}var rw=nw.prototype=new lP;rw.constructor=nw;oP(rw,hc.prototype);rw.isPureReactComponent=!0;var tS=Array.isArray,cP=Object.prototype.hasOwnProperty,iw={current:null},uP={key:!0,ref:!0,__self:!0,__source:!0};function dP(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)cP.call(e,r)&&!uP.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:uf,type:t,key:s,ref:o,props:i,_owner:iw.current}}function PL(t,e){return{$$typeof:uf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sw(t){return typeof t=="object"&&t!==null&&t.$$typeof===uf}function kL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nS=/\/+/g;function Qy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kL(""+t.key):e.toString(36)}function up(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case uf:case _L:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Qy(o,0):r,tS(i)?(n="",t!=null&&(n=t.replace(nS,"$&/")+"/"),up(i,e,n,"",function(c){return c})):i!=null&&(sw(i)&&(i=PL(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(nS,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",tS(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Qy(s,a);o+=up(s,e,n,l,i)}else if(l=RL(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Qy(s,a++),o+=up(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nh(t,e,n){if(t==null)return t;var r=[],i=0;return up(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $L(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vn={current:null},dp={transition:null},OL={ReactCurrentDispatcher:vn,ReactCurrentBatchConfig:dp,ReactCurrentOwner:iw};be.Children={map:nh,forEach:function(t,e,n){nh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nh(t,function(){e++}),e},toArray:function(t){return nh(t,function(e){return e})||[]},only:function(t){if(!sw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=hc;be.Fragment=bL;be.Profiler=EL;be.PureComponent=nw;be.StrictMode=wL;be.Suspense=IL;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OL;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=oP({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=iw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)cP.call(e,l)&&!uP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:uf,type:t.type,key:i,ref:s,props:r,_owner:o}};be.createContext=function(t){return t={$$typeof:TL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xL,_context:t},t.Consumer=t};be.createElement=dP;be.createFactory=function(t){var e=dP.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:SL,render:t}};be.isValidElement=sw;be.lazy=function(t){return{$$typeof:AL,_payload:{_status:-1,_result:t},_init:$L}};be.memo=function(t,e){return{$$typeof:CL,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=dp.transition;dp.transition={};try{t()}finally{dp.transition=e}};be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};be.useCallback=function(t,e){return vn.current.useCallback(t,e)};be.useContext=function(t){return vn.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return vn.current.useDeferredValue(t)};be.useEffect=function(t,e){return vn.current.useEffect(t,e)};be.useId=function(){return vn.current.useId()};be.useImperativeHandle=function(t,e,n){return vn.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return vn.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return vn.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return vn.current.useMemo(t,e)};be.useReducer=function(t,e,n){return vn.current.useReducer(t,e,n)};be.useRef=function(t){return vn.current.useRef(t)};be.useState=function(t){return vn.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return vn.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return vn.current.useTransition()};be.version="18.2.0";iP.exports=be;var p=iP.exports;const ne=Pg(p),Hp=yL({__proto__:null,default:ne},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NL=p,ML=Symbol.for("react.element"),DL=Symbol.for("react.fragment"),LL=Object.prototype.hasOwnProperty,FL=NL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VL={key:!0,ref:!0,__self:!0,__source:!0};function fP(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LL.call(e,r)&&!VL.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ML,type:t,key:s,ref:o,props:i,_owner:FL.current}}kg.Fragment=DL;kg.jsx=fP;kg.jsxs=fP;rP.exports=kg;var T=rP.exports,k_={},hP={exports:{}},er={},pP={exports:{}},mP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,$){var L=O.length;O.push($);e:for(;0<L;){var z=L-1>>>1,G=O[z];if(0<i(G,$))O[z]=$,O[L]=G,L=z;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var $=O[0],L=O.pop();if(L!==$){O[0]=L;e:for(var z=0,G=O.length,K=G>>>1;z<K;){var q=2*(z+1)-1,Q=O[q],ee=q+1,he=O[ee];if(0>i(Q,L))ee<G&&0>i(he,Q)?(O[z]=he,O[ee]=L,z=ee):(O[z]=Q,O[q]=L,z=q);else if(ee<G&&0>i(he,L))O[z]=he,O[ee]=L,z=ee;else break e}}return $}function i(O,$){var L=O.sortIndex-$.sortIndex;return L!==0?L:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,h=!1,g=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=O)r(c),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(c)}}function w(O){if(m=!1,b(O),!g)if(n(l)!==null)g=!0,V(E);else{var $=n(c);$!==null&&H(w,$.startTime-O)}}function E(O,$){g=!1,m&&(m=!1,v(I),I=-1),h=!0;var L=f;try{for(b($),d=n(l);d!==null&&(!(d.expirationTime>$)||O&&!R());){var z=d.callback;if(typeof z=="function"){d.callback=null,f=d.priorityLevel;var G=z(d.expirationTime<=$);$=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),b($)}else r(l);d=n(l)}if(d!==null)var K=!0;else{var q=n(c);q!==null&&H(w,q.startTime-$),K=!1}return K}finally{d=null,f=L,h=!1}}var x=!1,S=null,I=-1,A=5,C=-1;function R(){return!(t.unstable_now()-C<A)}function P(){if(S!==null){var O=t.unstable_now();C=O;var $=!0;try{$=S(!0,O)}finally{$?k():(x=!1,S=null)}}else x=!1}var k;if(typeof _=="function")k=function(){_(P)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,D=M.port2;M.port1.onmessage=P,k=function(){D.postMessage(null)}}else k=function(){y(P,0)};function V(O){S=O,x||(x=!0,k())}function H(O,$){I=y(function(){O(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,V(E))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var $=3;break;default:$=f}var L=f;f=$;try{return O()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var L=f;f=O;try{return $()}finally{f=L}},t.unstable_scheduleCallback=function(O,$,L){var z=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?z+L:z):L=z,O){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=L+G,O={id:u++,callback:$,priorityLevel:O,startTime:L,expirationTime:G,sortIndex:-1},L>z?(O.sortIndex=L,e(c,O),n(l)===null&&O===n(c)&&(m?(v(I),I=-1):m=!0,H(w,L-z))):(O.sortIndex=G,e(l,O),g||h||(g=!0,V(E))),O},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(O){var $=f;return function(){var L=f;f=$;try{return O.apply(this,arguments)}finally{f=L}}}})(mP);pP.exports=mP;var jL=pP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP=p,Yn=jL;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vP=new Set,ed={};function wa(t,e){jl(t,e),jl(t+"Capture",e)}function jl(t,e){for(ed[t]=e,t=0;t<e.length;t++)vP.add(e[t])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$_=Object.prototype.hasOwnProperty,UL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rS={},iS={};function zL(t){return $_.call(iS,t)?!0:$_.call(rS,t)?!1:UL.test(t)?iS[t]=!0:(rS[t]=!0,!1)}function BL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WL(t,e,n,r){if(e===null||typeof e>"u"||BL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xt[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xt[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xt[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xt[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xt[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xt[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xt[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xt[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xt[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ow=/[\-:]([a-z])/g;function aw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ow,aw);Xt[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ow,aw);Xt[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ow,aw);Xt[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xt[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xt[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function lw(t,e,n,r){var i=Xt.hasOwnProperty(e)?Xt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WL(e,n,i,r)&&(n=null),r||i===null?zL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zi=gP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rh=Symbol.for("react.element"),sl=Symbol.for("react.portal"),ol=Symbol.for("react.fragment"),cw=Symbol.for("react.strict_mode"),O_=Symbol.for("react.profiler"),yP=Symbol.for("react.provider"),_P=Symbol.for("react.context"),uw=Symbol.for("react.forward_ref"),N_=Symbol.for("react.suspense"),M_=Symbol.for("react.suspense_list"),dw=Symbol.for("react.memo"),ms=Symbol.for("react.lazy"),bP=Symbol.for("react.offscreen"),sS=Symbol.iterator;function jc(t){return t===null||typeof t!="object"?null:(t=sS&&t[sS]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,Yy;function du(t){if(Yy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yy=e&&e[1]||""}return`
`+Yy+t}var Xy=!1;function Jy(t,e){if(!t||Xy)return"";Xy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?du(t):""}function HL(t){switch(t.tag){case 5:return du(t.type);case 16:return du("Lazy");case 13:return du("Suspense");case 19:return du("SuspenseList");case 0:case 2:case 15:return t=Jy(t.type,!1),t;case 11:return t=Jy(t.type.render,!1),t;case 1:return t=Jy(t.type,!0),t;default:return""}}function D_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ol:return"Fragment";case sl:return"Portal";case O_:return"Profiler";case cw:return"StrictMode";case N_:return"Suspense";case M_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _P:return(t.displayName||"Context")+".Consumer";case yP:return(t._context.displayName||"Context")+".Provider";case uw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dw:return e=t.displayName||null,e!==null?e:D_(t.type)||"Memo";case ms:e=t._payload,t=t._init;try{return D_(t(e))}catch{}}return null}function qL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D_(e);case 8:return e===cw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ks(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KL(t){var e=wP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ih(t){t._valueTracker||(t._valueTracker=KL(t))}function EP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function qp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function L_(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function oS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ks(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xP(t,e){e=e.checked,e!=null&&lw(t,"checked",e,!1)}function F_(t,e){xP(t,e);var n=Ks(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?V_(t,e.type,n):e.hasOwnProperty("defaultValue")&&V_(t,e.type,Ks(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function aS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function V_(t,e,n){(e!=="number"||qp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fu=Array.isArray;function El(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ks(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function j_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(fu(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ks(n)}}function TP(t,e){var n=Ks(e.value),r=Ks(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function SP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function U_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?SP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sh,IP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sh=sh||document.createElement("div"),sh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function td(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ru={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GL=["Webkit","ms","Moz","O"];Object.keys(Ru).forEach(function(t){GL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ru[e]=Ru[t]})});function CP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ru.hasOwnProperty(t)&&Ru[t]?(""+e).trim():e+"px"}function AP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=CP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var QL=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function z_(t,e){if(e){if(QL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function B_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W_=null;function fw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var H_=null,xl=null,Tl=null;function uS(t){if(t=hf(t)){if(typeof H_!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Dg(e),H_(t.stateNode,t.type,e))}}function RP(t){xl?Tl?Tl.push(t):Tl=[t]:xl=t}function PP(){if(xl){var t=xl,e=Tl;if(Tl=xl=null,uS(t),e)for(t=0;t<e.length;t++)uS(e[t])}}function kP(t,e){return t(e)}function $P(){}var Zy=!1;function OP(t,e,n){if(Zy)return t(e,n);Zy=!0;try{return kP(t,e,n)}finally{Zy=!1,(xl!==null||Tl!==null)&&($P(),PP())}}function nd(t,e){var n=t.stateNode;if(n===null)return null;var r=Dg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var q_=!1;if(Vi)try{var Uc={};Object.defineProperty(Uc,"passive",{get:function(){q_=!0}}),window.addEventListener("test",Uc,Uc),window.removeEventListener("test",Uc,Uc)}catch{q_=!1}function YL(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Pu=!1,Kp=null,Gp=!1,K_=null,XL={onError:function(t){Pu=!0,Kp=t}};function JL(t,e,n,r,i,s,o,a,l){Pu=!1,Kp=null,YL.apply(XL,arguments)}function ZL(t,e,n,r,i,s,o,a,l){if(JL.apply(this,arguments),Pu){if(Pu){var c=Kp;Pu=!1,Kp=null}else throw Error(U(198));Gp||(Gp=!0,K_=c)}}function Ea(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function NP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dS(t){if(Ea(t)!==t)throw Error(U(188))}function eF(t){var e=t.alternate;if(!e){if(e=Ea(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return dS(i),t;if(s===r)return dS(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function MP(t){return t=eF(t),t!==null?DP(t):null}function DP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=DP(t);if(e!==null)return e;t=t.sibling}return null}var LP=Yn.unstable_scheduleCallback,fS=Yn.unstable_cancelCallback,tF=Yn.unstable_shouldYield,nF=Yn.unstable_requestPaint,dt=Yn.unstable_now,rF=Yn.unstable_getCurrentPriorityLevel,hw=Yn.unstable_ImmediatePriority,FP=Yn.unstable_UserBlockingPriority,Qp=Yn.unstable_NormalPriority,iF=Yn.unstable_LowPriority,VP=Yn.unstable_IdlePriority,$g=null,si=null;function sF(t){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot($g,t,void 0,(t.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:lF,oF=Math.log,aF=Math.LN2;function lF(t){return t>>>=0,t===0?32:31-(oF(t)/aF|0)|0}var oh=64,ah=4194304;function hu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=hu(a):(s&=o,s!==0&&(r=hu(s)))}else o=n&~i,o!==0?r=hu(o):s!==0&&(r=hu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rr(e),i=1<<n,r|=t[n],e&=~i;return r}function cF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Rr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=cF(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function G_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jP(){var t=oh;return oh<<=1,!(oh&4194240)&&(oh=64),t}function e0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function df(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rr(e),t[e]=n}function dF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function pw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function UP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zP,mw,BP,WP,HP,Q_=!1,lh=[],$s=null,Os=null,Ns=null,rd=new Map,id=new Map,_s=[],fF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hS(t,e){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":rd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":id.delete(e.pointerId)}}function zc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hf(e),e!==null&&mw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hF(t,e,n,r,i){switch(e){case"focusin":return $s=zc($s,t,e,n,r,i),!0;case"dragenter":return Os=zc(Os,t,e,n,r,i),!0;case"mouseover":return Ns=zc(Ns,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return rd.set(s,zc(rd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,id.set(s,zc(id.get(s)||null,t,e,n,r,i)),!0}return!1}function qP(t){var e=Vo(t.target);if(e!==null){var n=Ea(e);if(n!==null){if(e=n.tag,e===13){if(e=NP(n),e!==null){t.blockedOn=e,HP(t.priority,function(){BP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Y_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);W_=r,n.target.dispatchEvent(r),W_=null}else return e=hf(n),e!==null&&mw(e),t.blockedOn=n,!1;e.shift()}return!0}function pS(t,e,n){fp(t)&&n.delete(e)}function pF(){Q_=!1,$s!==null&&fp($s)&&($s=null),Os!==null&&fp(Os)&&(Os=null),Ns!==null&&fp(Ns)&&(Ns=null),rd.forEach(pS),id.forEach(pS)}function Bc(t,e){t.blockedOn===e&&(t.blockedOn=null,Q_||(Q_=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,pF)))}function sd(t){function e(i){return Bc(i,t)}if(0<lh.length){Bc(lh[0],t);for(var n=1;n<lh.length;n++){var r=lh[n];r.blockedOn===t&&(r.blockedOn=null)}}for($s!==null&&Bc($s,t),Os!==null&&Bc(Os,t),Ns!==null&&Bc(Ns,t),rd.forEach(e),id.forEach(e),n=0;n<_s.length;n++)r=_s[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_s.length&&(n=_s[0],n.blockedOn===null);)qP(n),n.blockedOn===null&&_s.shift()}var Sl=Zi.ReactCurrentBatchConfig,Xp=!0;function mF(t,e,n,r){var i=Re,s=Sl.transition;Sl.transition=null;try{Re=1,gw(t,e,n,r)}finally{Re=i,Sl.transition=s}}function gF(t,e,n,r){var i=Re,s=Sl.transition;Sl.transition=null;try{Re=4,gw(t,e,n,r)}finally{Re=i,Sl.transition=s}}function gw(t,e,n,r){if(Xp){var i=Y_(t,e,n,r);if(i===null)u0(t,e,r,Jp,n),hS(t,r);else if(hF(i,t,e,n,r))r.stopPropagation();else if(hS(t,r),e&4&&-1<fF.indexOf(t)){for(;i!==null;){var s=hf(i);if(s!==null&&zP(s),s=Y_(t,e,n,r),s===null&&u0(t,e,r,Jp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else u0(t,e,r,null,n)}}var Jp=null;function Y_(t,e,n,r){if(Jp=null,t=fw(r),t=Vo(t),t!==null)if(e=Ea(t),e===null)t=null;else if(n=e.tag,n===13){if(t=NP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Jp=t,null}function KP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rF()){case hw:return 1;case FP:return 4;case Qp:case iF:return 16;case VP:return 536870912;default:return 16}default:return 16}}var xs=null,vw=null,hp=null;function GP(){if(hp)return hp;var t,e=vw,n=e.length,r,i="value"in xs?xs.value:xs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return hp=i.slice(t,1<r?1-r:void 0)}function pp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ch(){return!0}function mS(){return!1}function tr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ch:mS,this.isPropagationStopped=mS,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ch)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ch)},persist:function(){},isPersistent:ch}),e}var pc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yw=tr(pc),ff=Je({},pc,{view:0,detail:0}),vF=tr(ff),t0,n0,Wc,Og=Je({},ff,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_w,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wc&&(Wc&&t.type==="mousemove"?(t0=t.screenX-Wc.screenX,n0=t.screenY-Wc.screenY):n0=t0=0,Wc=t),t0)},movementY:function(t){return"movementY"in t?t.movementY:n0}}),gS=tr(Og),yF=Je({},Og,{dataTransfer:0}),_F=tr(yF),bF=Je({},ff,{relatedTarget:0}),r0=tr(bF),wF=Je({},pc,{animationName:0,elapsedTime:0,pseudoElement:0}),EF=tr(wF),xF=Je({},pc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TF=tr(xF),SF=Je({},pc,{data:0}),vS=tr(SF),IF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RF(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AF[t])?!!e[t]:!1}function _w(){return RF}var PF=Je({},ff,{key:function(t){if(t.key){var e=IF[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CF[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_w,charCode:function(t){return t.type==="keypress"?pp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kF=tr(PF),$F=Je({},Og,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yS=tr($F),OF=Je({},ff,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_w}),NF=tr(OF),MF=Je({},pc,{propertyName:0,elapsedTime:0,pseudoElement:0}),DF=tr(MF),LF=Je({},Og,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FF=tr(LF),VF=[9,13,27,32],bw=Vi&&"CompositionEvent"in window,ku=null;Vi&&"documentMode"in document&&(ku=document.documentMode);var jF=Vi&&"TextEvent"in window&&!ku,QP=Vi&&(!bw||ku&&8<ku&&11>=ku),_S=String.fromCharCode(32),bS=!1;function YP(t,e){switch(t){case"keyup":return VF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var al=!1;function UF(t,e){switch(t){case"compositionend":return XP(e);case"keypress":return e.which!==32?null:(bS=!0,_S);case"textInput":return t=e.data,t===_S&&bS?null:t;default:return null}}function zF(t,e){if(al)return t==="compositionend"||!bw&&YP(t,e)?(t=GP(),hp=vw=xs=null,al=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QP&&e.locale!=="ko"?null:e.data;default:return null}}var BF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BF[t.type]:e==="textarea"}function JP(t,e,n,r){RP(r),e=Zp(e,"onChange"),0<e.length&&(n=new yw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $u=null,od=null;function WF(t){ck(t,0)}function Ng(t){var e=ul(t);if(EP(e))return t}function HF(t,e){if(t==="change")return e}var ZP=!1;if(Vi){var i0;if(Vi){var s0="oninput"in document;if(!s0){var ES=document.createElement("div");ES.setAttribute("oninput","return;"),s0=typeof ES.oninput=="function"}i0=s0}else i0=!1;ZP=i0&&(!document.documentMode||9<document.documentMode)}function xS(){$u&&($u.detachEvent("onpropertychange",ek),od=$u=null)}function ek(t){if(t.propertyName==="value"&&Ng(od)){var e=[];JP(e,od,t,fw(t)),OP(WF,e)}}function qF(t,e,n){t==="focusin"?(xS(),$u=e,od=n,$u.attachEvent("onpropertychange",ek)):t==="focusout"&&xS()}function KF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ng(od)}function GF(t,e){if(t==="click")return Ng(e)}function QF(t,e){if(t==="input"||t==="change")return Ng(e)}function YF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Or=typeof Object.is=="function"?Object.is:YF;function ad(t,e){if(Or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$_.call(e,i)||!Or(t[i],e[i]))return!1}return!0}function TS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function SS(t,e){var n=TS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=TS(n)}}function tk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nk(){for(var t=window,e=qp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=qp(t.document)}return e}function ww(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XF(t){var e=nk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&tk(n.ownerDocument.documentElement,n)){if(r!==null&&ww(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=SS(n,s);var o=SS(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JF=Vi&&"documentMode"in document&&11>=document.documentMode,ll=null,X_=null,Ou=null,J_=!1;function IS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;J_||ll==null||ll!==qp(r)||(r=ll,"selectionStart"in r&&ww(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ou&&ad(Ou,r)||(Ou=r,r=Zp(X_,"onSelect"),0<r.length&&(e=new yw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ll)))}function uh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cl={animationend:uh("Animation","AnimationEnd"),animationiteration:uh("Animation","AnimationIteration"),animationstart:uh("Animation","AnimationStart"),transitionend:uh("Transition","TransitionEnd")},o0={},rk={};Vi&&(rk=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function Mg(t){if(o0[t])return o0[t];if(!cl[t])return t;var e=cl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rk)return o0[t]=e[n];return t}var ik=Mg("animationend"),sk=Mg("animationiteration"),ok=Mg("animationstart"),ak=Mg("transitionend"),lk=new Map,CS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ho(t,e){lk.set(t,e),wa(e,[t])}for(var a0=0;a0<CS.length;a0++){var l0=CS[a0],ZF=l0.toLowerCase(),e6=l0[0].toUpperCase()+l0.slice(1);ho(ZF,"on"+e6)}ho(ik,"onAnimationEnd");ho(sk,"onAnimationIteration");ho(ok,"onAnimationStart");ho("dblclick","onDoubleClick");ho("focusin","onFocus");ho("focusout","onBlur");ho(ak,"onTransitionEnd");jl("onMouseEnter",["mouseout","mouseover"]);jl("onMouseLeave",["mouseout","mouseover"]);jl("onPointerEnter",["pointerout","pointerover"]);jl("onPointerLeave",["pointerout","pointerover"]);wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t6=new Set("cancel close invalid load scroll toggle".split(" ").concat(pu));function AS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ZL(r,e,void 0,t),t.currentTarget=null}function ck(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;AS(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;AS(i,a,c),s=l}}}if(Gp)throw t=K_,Gp=!1,K_=null,t}function Ve(t,e){var n=e[rb];n===void 0&&(n=e[rb]=new Set);var r=t+"__bubble";n.has(r)||(uk(e,t,2,!1),n.add(r))}function c0(t,e,n){var r=0;e&&(r|=4),uk(n,t,r,e)}var dh="_reactListening"+Math.random().toString(36).slice(2);function ld(t){if(!t[dh]){t[dh]=!0,vP.forEach(function(n){n!=="selectionchange"&&(t6.has(n)||c0(n,!1,t),c0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dh]||(e[dh]=!0,c0("selectionchange",!1,e))}}function uk(t,e,n,r){switch(KP(e)){case 1:var i=mF;break;case 4:i=gF;break;default:i=gw}n=i.bind(null,e,n,t),i=void 0,!q_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function u0(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Vo(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}OP(function(){var c=s,u=fw(n),d=[];e:{var f=lk.get(t);if(f!==void 0){var h=yw,g=t;switch(t){case"keypress":if(pp(n)===0)break e;case"keydown":case"keyup":h=kF;break;case"focusin":g="focus",h=r0;break;case"focusout":g="blur",h=r0;break;case"beforeblur":case"afterblur":h=r0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=gS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=_F;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=NF;break;case ik:case sk:case ok:h=EF;break;case ak:h=DF;break;case"scroll":h=vF;break;case"wheel":h=FF;break;case"copy":case"cut":case"paste":h=TF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=yS}var m=(e&4)!==0,y=!m&&t==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var _=c,b;_!==null;){b=_;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,v!==null&&(w=nd(_,v),w!=null&&m.push(cd(_,w,b)))),y)break;_=_.return}0<m.length&&(f=new h(f,g,null,n,u),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==W_&&(g=n.relatedTarget||n.fromElement)&&(Vo(g)||g[ji]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=c,g=g?Vo(g):null,g!==null&&(y=Ea(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(m=gS,w="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(m=yS,w="onPointerLeave",v="onPointerEnter",_="pointer"),y=h==null?f:ul(h),b=g==null?f:ul(g),f=new m(w,_+"leave",h,n,u),f.target=y,f.relatedTarget=b,w=null,Vo(u)===c&&(m=new m(v,_+"enter",g,n,u),m.target=b,m.relatedTarget=y,w=m),y=w,h&&g)t:{for(m=h,v=g,_=0,b=m;b;b=qa(b))_++;for(b=0,w=v;w;w=qa(w))b++;for(;0<_-b;)m=qa(m),_--;for(;0<b-_;)v=qa(v),b--;for(;_--;){if(m===v||v!==null&&m===v.alternate)break t;m=qa(m),v=qa(v)}m=null}else m=null;h!==null&&RS(d,f,h,m,!1),g!==null&&y!==null&&RS(d,y,g,m,!0)}}e:{if(f=c?ul(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=HF;else if(wS(f))if(ZP)E=QF;else{E=KF;var x=qF}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=GF);if(E&&(E=E(t,c))){JP(d,E,n,u);break e}x&&x(t,f,c),t==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&V_(f,"number",f.value)}switch(x=c?ul(c):window,t){case"focusin":(wS(x)||x.contentEditable==="true")&&(ll=x,X_=c,Ou=null);break;case"focusout":Ou=X_=ll=null;break;case"mousedown":J_=!0;break;case"contextmenu":case"mouseup":case"dragend":J_=!1,IS(d,n,u);break;case"selectionchange":if(JF)break;case"keydown":case"keyup":IS(d,n,u)}var S;if(bw)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else al?YP(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(QP&&n.locale!=="ko"&&(al||I!=="onCompositionStart"?I==="onCompositionEnd"&&al&&(S=GP()):(xs=u,vw="value"in xs?xs.value:xs.textContent,al=!0)),x=Zp(c,I),0<x.length&&(I=new vS(I,t,null,n,u),d.push({event:I,listeners:x}),S?I.data=S:(S=XP(n),S!==null&&(I.data=S)))),(S=jF?UF(t,n):zF(t,n))&&(c=Zp(c,"onBeforeInput"),0<c.length&&(u=new vS("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=S))}ck(d,e)})}function cd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Zp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=nd(t,n),s!=null&&r.unshift(cd(t,s,i)),s=nd(t,e),s!=null&&r.push(cd(t,s,i))),t=t.return}return r}function qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function RS(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=nd(n,s),l!=null&&o.unshift(cd(n,l,a))):i||(l=nd(n,s),l!=null&&o.push(cd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var n6=/\r\n?/g,r6=/\u0000|\uFFFD/g;function PS(t){return(typeof t=="string"?t:""+t).replace(n6,`
`).replace(r6,"")}function fh(t,e,n){if(e=PS(e),PS(t)!==e&&n)throw Error(U(425))}function em(){}var Z_=null,eb=null;function tb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nb=typeof setTimeout=="function"?setTimeout:void 0,i6=typeof clearTimeout=="function"?clearTimeout:void 0,kS=typeof Promise=="function"?Promise:void 0,s6=typeof queueMicrotask=="function"?queueMicrotask:typeof kS<"u"?function(t){return kS.resolve(null).then(t).catch(o6)}:nb;function o6(t){setTimeout(function(){throw t})}function d0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),sd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sd(e)}function Ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $S(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mc=Math.random().toString(36).slice(2),Qr="__reactFiber$"+mc,ud="__reactProps$"+mc,ji="__reactContainer$"+mc,rb="__reactEvents$"+mc,a6="__reactListeners$"+mc,l6="__reactHandles$"+mc;function Vo(t){var e=t[Qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ji]||n[Qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$S(t);t!==null;){if(n=t[Qr])return n;t=$S(t)}return e}t=n,n=t.parentNode}return null}function hf(t){return t=t[Qr]||t[ji],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ul(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Dg(t){return t[ud]||null}var ib=[],dl=-1;function po(t){return{current:t}}function We(t){0>dl||(t.current=ib[dl],ib[dl]=null,dl--)}function Le(t,e){dl++,ib[dl]=t.current,t.current=e}var Gs={},cn=po(Gs),In=po(!1),sa=Gs;function Ul(t,e){var n=t.type.contextTypes;if(!n)return Gs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Cn(t){return t=t.childContextTypes,t!=null}function tm(){We(In),We(cn)}function OS(t,e,n){if(cn.current!==Gs)throw Error(U(168));Le(cn,e),Le(In,n)}function dk(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,qL(t)||"Unknown",i));return Je({},n,r)}function nm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gs,sa=cn.current,Le(cn,t),Le(In,In.current),!0}function NS(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=dk(t,e,sa),r.__reactInternalMemoizedMergedChildContext=t,We(In),We(cn),Le(cn,t)):We(In),Le(In,n)}var Ci=null,Lg=!1,f0=!1;function fk(t){Ci===null?Ci=[t]:Ci.push(t)}function c6(t){Lg=!0,fk(t)}function mo(){if(!f0&&Ci!==null){f0=!0;var t=0,e=Re;try{var n=Ci;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ci=null,Lg=!1}catch(i){throw Ci!==null&&(Ci=Ci.slice(t+1)),LP(hw,mo),i}finally{Re=e,f0=!1}}return null}var fl=[],hl=0,rm=null,im=0,ar=[],lr=0,oa=null,Ri=1,Pi="";function ko(t,e){fl[hl++]=im,fl[hl++]=rm,rm=t,im=e}function hk(t,e,n){ar[lr++]=Ri,ar[lr++]=Pi,ar[lr++]=oa,oa=t;var r=Ri;t=Pi;var i=32-Rr(r)-1;r&=~(1<<i),n+=1;var s=32-Rr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ri=1<<32-Rr(e)+i|n<<i|r,Pi=s+t}else Ri=1<<s|n<<i|r,Pi=t}function Ew(t){t.return!==null&&(ko(t,1),hk(t,1,0))}function xw(t){for(;t===rm;)rm=fl[--hl],fl[hl]=null,im=fl[--hl],fl[hl]=null;for(;t===oa;)oa=ar[--lr],ar[lr]=null,Pi=ar[--lr],ar[lr]=null,Ri=ar[--lr],ar[lr]=null}var Gn=null,Bn=null,Ge=!1,Ir=null;function pk(t,e){var n=ur(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function MS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gn=t,Bn=Ms(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gn=t,Bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=oa!==null?{id:Ri,overflow:Pi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ur(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gn=t,Bn=null,!0):!1;default:return!1}}function sb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ob(t){if(Ge){var e=Bn;if(e){var n=e;if(!MS(t,e)){if(sb(t))throw Error(U(418));e=Ms(n.nextSibling);var r=Gn;e&&MS(t,e)?pk(r,n):(t.flags=t.flags&-4097|2,Ge=!1,Gn=t)}}else{if(sb(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ge=!1,Gn=t}}}function DS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gn=t}function hh(t){if(t!==Gn)return!1;if(!Ge)return DS(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tb(t.type,t.memoizedProps)),e&&(e=Bn)){if(sb(t))throw mk(),Error(U(418));for(;e;)pk(t,e),e=Ms(e.nextSibling)}if(DS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bn=Ms(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bn=null}}else Bn=Gn?Ms(t.stateNode.nextSibling):null;return!0}function mk(){for(var t=Bn;t;)t=Ms(t.nextSibling)}function zl(){Bn=Gn=null,Ge=!1}function Tw(t){Ir===null?Ir=[t]:Ir.push(t)}var u6=Zi.ReactCurrentBatchConfig;function Tr(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var sm=po(null),om=null,pl=null,Sw=null;function Iw(){Sw=pl=om=null}function Cw(t){var e=sm.current;We(sm),t._currentValue=e}function ab(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Il(t,e){om=t,Sw=pl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tn=!0),t.firstContext=null)}function pr(t){var e=t._currentValue;if(Sw!==t)if(t={context:t,memoizedValue:e,next:null},pl===null){if(om===null)throw Error(U(308));pl=t,om.dependencies={lanes:0,firstContext:t}}else pl=pl.next=t;return e}var jo=null;function Aw(t){jo===null?jo=[t]:jo.push(t)}function gk(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Aw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ui(t,r)}function Ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gs=!1;function Rw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vk(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ds(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ui(t,n)}return i=r.interleaved,i===null?(e.next=e,Aw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ui(t,n)}function mp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pw(t,n)}}function LS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function am(t,e,n,r){var i=t.updateQueue;gs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var f=a.lane,h=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(f=e,h=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(h,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(h,d,f):g,f==null)break e;d=Je({},d,f);break e;case 2:gs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else h={eventTime:h,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);la|=o,t.lanes=o,t.memoizedState=d}}function FS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var yk=new gP.Component().refs;function lb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fg={isMounted:function(t){return(t=t._reactInternals)?Ea(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),i=Fs(t),s=Di(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ds(t,s,i),e!==null&&(Pr(e,t,i,r),mp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),i=Fs(t),s=Di(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ds(t,s,i),e!==null&&(Pr(e,t,i,r),mp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=Fs(t),i=Di(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ds(t,i,r),e!==null&&(Pr(e,t,r,n),mp(e,t,r))}};function VS(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ad(n,r)||!ad(i,s):!0}function _k(t,e,n){var r=!1,i=Gs,s=e.contextType;return typeof s=="object"&&s!==null?s=pr(s):(i=Cn(e)?sa:cn.current,r=e.contextTypes,s=(r=r!=null)?Ul(t,i):Gs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function jS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fg.enqueueReplaceState(e,e.state,null)}function cb(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=yk,Rw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pr(s):(s=Cn(e)?sa:cn.current,i.context=Ul(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(lb(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fg.enqueueReplaceState(i,i.state,null),am(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===yk&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function ph(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function US(t){var e=t._init;return e(t._payload)}function bk(t){function e(v,_){if(t){var b=v.deletions;b===null?(v.deletions=[_],v.flags|=16):b.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=Vs(v,_),v.index=0,v.sibling=null,v}function s(v,_,b){return v.index=b,t?(b=v.alternate,b!==null?(b=b.index,b<_?(v.flags|=2,_):b):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,b,w){return _===null||_.tag!==6?(_=_0(b,v.mode,w),_.return=v,_):(_=i(_,b),_.return=v,_)}function l(v,_,b,w){var E=b.type;return E===ol?u(v,_,b.props.children,w,b.key):_!==null&&(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ms&&US(E)===_.type)?(w=i(_,b.props),w.ref=Hc(v,_,b),w.return=v,w):(w=wp(b.type,b.key,b.props,null,v.mode,w),w.ref=Hc(v,_,b),w.return=v,w)}function c(v,_,b,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=b0(b,v.mode,w),_.return=v,_):(_=i(_,b.children||[]),_.return=v,_)}function u(v,_,b,w,E){return _===null||_.tag!==7?(_=Qo(b,v.mode,w,E),_.return=v,_):(_=i(_,b),_.return=v,_)}function d(v,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=_0(""+_,v.mode,b),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case rh:return b=wp(_.type,_.key,_.props,null,v.mode,b),b.ref=Hc(v,null,_),b.return=v,b;case sl:return _=b0(_,v.mode,b),_.return=v,_;case ms:var w=_._init;return d(v,w(_._payload),b)}if(fu(_)||jc(_))return _=Qo(_,v.mode,b,null),_.return=v,_;ph(v,_)}return null}function f(v,_,b,w){var E=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return E!==null?null:a(v,_,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case rh:return b.key===E?l(v,_,b,w):null;case sl:return b.key===E?c(v,_,b,w):null;case ms:return E=b._init,f(v,_,E(b._payload),w)}if(fu(b)||jc(b))return E!==null?null:u(v,_,b,w,null);ph(v,b)}return null}function h(v,_,b,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(b)||null,a(_,v,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rh:return v=v.get(w.key===null?b:w.key)||null,l(_,v,w,E);case sl:return v=v.get(w.key===null?b:w.key)||null,c(_,v,w,E);case ms:var x=w._init;return h(v,_,b,x(w._payload),E)}if(fu(w)||jc(w))return v=v.get(b)||null,u(_,v,w,E,null);ph(_,w)}return null}function g(v,_,b,w){for(var E=null,x=null,S=_,I=_=0,A=null;S!==null&&I<b.length;I++){S.index>I?(A=S,S=null):A=S.sibling;var C=f(v,S,b[I],w);if(C===null){S===null&&(S=A);break}t&&S&&C.alternate===null&&e(v,S),_=s(C,_,I),x===null?E=C:x.sibling=C,x=C,S=A}if(I===b.length)return n(v,S),Ge&&ko(v,I),E;if(S===null){for(;I<b.length;I++)S=d(v,b[I],w),S!==null&&(_=s(S,_,I),x===null?E=S:x.sibling=S,x=S);return Ge&&ko(v,I),E}for(S=r(v,S);I<b.length;I++)A=h(S,v,I,b[I],w),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?I:A.key),_=s(A,_,I),x===null?E=A:x.sibling=A,x=A);return t&&S.forEach(function(R){return e(v,R)}),Ge&&ko(v,I),E}function m(v,_,b,w){var E=jc(b);if(typeof E!="function")throw Error(U(150));if(b=E.call(b),b==null)throw Error(U(151));for(var x=E=null,S=_,I=_=0,A=null,C=b.next();S!==null&&!C.done;I++,C=b.next()){S.index>I?(A=S,S=null):A=S.sibling;var R=f(v,S,C.value,w);if(R===null){S===null&&(S=A);break}t&&S&&R.alternate===null&&e(v,S),_=s(R,_,I),x===null?E=R:x.sibling=R,x=R,S=A}if(C.done)return n(v,S),Ge&&ko(v,I),E;if(S===null){for(;!C.done;I++,C=b.next())C=d(v,C.value,w),C!==null&&(_=s(C,_,I),x===null?E=C:x.sibling=C,x=C);return Ge&&ko(v,I),E}for(S=r(v,S);!C.done;I++,C=b.next())C=h(S,v,I,C.value,w),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?I:C.key),_=s(C,_,I),x===null?E=C:x.sibling=C,x=C);return t&&S.forEach(function(P){return e(v,P)}),Ge&&ko(v,I),E}function y(v,_,b,w){if(typeof b=="object"&&b!==null&&b.type===ol&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case rh:e:{for(var E=b.key,x=_;x!==null;){if(x.key===E){if(E=b.type,E===ol){if(x.tag===7){n(v,x.sibling),_=i(x,b.props.children),_.return=v,v=_;break e}}else if(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ms&&US(E)===x.type){n(v,x.sibling),_=i(x,b.props),_.ref=Hc(v,x,b),_.return=v,v=_;break e}n(v,x);break}else e(v,x);x=x.sibling}b.type===ol?(_=Qo(b.props.children,v.mode,w,b.key),_.return=v,v=_):(w=wp(b.type,b.key,b.props,null,v.mode,w),w.ref=Hc(v,_,b),w.return=v,v=w)}return o(v);case sl:e:{for(x=b.key;_!==null;){if(_.key===x)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){n(v,_.sibling),_=i(_,b.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=b0(b,v.mode,w),_.return=v,v=_}return o(v);case ms:return x=b._init,y(v,_,x(b._payload),w)}if(fu(b))return g(v,_,b,w);if(jc(b))return m(v,_,b,w);ph(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(n(v,_.sibling),_=i(_,b),_.return=v,v=_):(n(v,_),_=_0(b,v.mode,w),_.return=v,v=_),o(v)):n(v,_)}return y}var Bl=bk(!0),wk=bk(!1),pf={},oi=po(pf),dd=po(pf),fd=po(pf);function Uo(t){if(t===pf)throw Error(U(174));return t}function Pw(t,e){switch(Le(fd,e),Le(dd,t),Le(oi,pf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:U_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=U_(e,t)}We(oi),Le(oi,e)}function Wl(){We(oi),We(dd),We(fd)}function Ek(t){Uo(fd.current);var e=Uo(oi.current),n=U_(e,t.type);e!==n&&(Le(dd,t),Le(oi,n))}function kw(t){dd.current===t&&(We(oi),We(dd))}var Qe=po(0);function lm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var h0=[];function $w(){for(var t=0;t<h0.length;t++)h0[t]._workInProgressVersionPrimary=null;h0.length=0}var gp=Zi.ReactCurrentDispatcher,p0=Zi.ReactCurrentBatchConfig,aa=0,Xe=null,Et=null,At=null,cm=!1,Nu=!1,hd=0,d6=0;function Zt(){throw Error(U(321))}function Ow(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Or(t[n],e[n]))return!1;return!0}function Nw(t,e,n,r,i,s){if(aa=s,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gp.current=t===null||t.memoizedState===null?m6:g6,t=n(r,i),Nu){s=0;do{if(Nu=!1,hd=0,25<=s)throw Error(U(301));s+=1,At=Et=null,e.updateQueue=null,gp.current=v6,t=n(r,i)}while(Nu)}if(gp.current=um,e=Et!==null&&Et.next!==null,aa=0,At=Et=Xe=null,cm=!1,e)throw Error(U(300));return t}function Mw(){var t=hd!==0;return hd=0,t}function Hr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Xe.memoizedState=At=t:At=At.next=t,At}function mr(){if(Et===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=At===null?Xe.memoizedState:At.next;if(e!==null)At=e,Et=t;else{if(t===null)throw Error(U(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},At===null?Xe.memoizedState=At=t:At=At.next=t}return At}function pd(t,e){return typeof e=="function"?e(t):e}function m0(t){var e=mr(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Et,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((aa&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Xe.lanes|=u,la|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Or(r,e.memoizedState)||(Tn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Xe.lanes|=s,la|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function g0(t){var e=mr(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Or(s,e.memoizedState)||(Tn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function xk(){}function Tk(t,e){var n=Xe,r=mr(),i=e(),s=!Or(r.memoizedState,i);if(s&&(r.memoizedState=i,Tn=!0),r=r.queue,Dw(Ck.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,md(9,Ik.bind(null,n,r,i,e),void 0,null),$t===null)throw Error(U(349));aa&30||Sk(n,e,i)}return i}function Sk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ik(t,e,n,r){e.value=n,e.getSnapshot=r,Ak(e)&&Rk(t)}function Ck(t,e,n){return n(function(){Ak(e)&&Rk(t)})}function Ak(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Or(t,n)}catch{return!0}}function Rk(t){var e=Ui(t,1);e!==null&&Pr(e,t,1,-1)}function zS(t){var e=Hr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pd,lastRenderedState:t},e.queue=t,t=t.dispatch=p6.bind(null,Xe,t),[e.memoizedState,t]}function md(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Pk(){return mr().memoizedState}function vp(t,e,n,r){var i=Hr();Xe.flags|=t,i.memoizedState=md(1|e,n,void 0,r===void 0?null:r)}function Vg(t,e,n,r){var i=mr();r=r===void 0?null:r;var s=void 0;if(Et!==null){var o=Et.memoizedState;if(s=o.destroy,r!==null&&Ow(r,o.deps)){i.memoizedState=md(e,n,s,r);return}}Xe.flags|=t,i.memoizedState=md(1|e,n,s,r)}function BS(t,e){return vp(8390656,8,t,e)}function Dw(t,e){return Vg(2048,8,t,e)}function kk(t,e){return Vg(4,2,t,e)}function $k(t,e){return Vg(4,4,t,e)}function Ok(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Nk(t,e,n){return n=n!=null?n.concat([t]):null,Vg(4,4,Ok.bind(null,e,t),n)}function Lw(){}function Mk(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ow(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Dk(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ow(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Lk(t,e,n){return aa&21?(Or(n,e)||(n=jP(),Xe.lanes|=n,la|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tn=!0),t.memoizedState=n)}function f6(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=p0.transition;p0.transition={};try{t(!1),e()}finally{Re=n,p0.transition=r}}function Fk(){return mr().memoizedState}function h6(t,e,n){var r=Fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vk(t))jk(e,n);else if(n=gk(t,e,n,r),n!==null){var i=hn();Pr(n,t,r,i),Uk(n,e,r)}}function p6(t,e,n){var r=Fs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vk(t))jk(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Or(a,o)){var l=e.interleaved;l===null?(i.next=i,Aw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=gk(t,e,i,r),n!==null&&(i=hn(),Pr(n,t,r,i),Uk(n,e,r))}}function Vk(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function jk(t,e){Nu=cm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Uk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pw(t,n)}}var um={readContext:pr,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useInsertionEffect:Zt,useLayoutEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useMutableSource:Zt,useSyncExternalStore:Zt,useId:Zt,unstable_isNewReconciler:!1},m6={readContext:pr,useCallback:function(t,e){return Hr().memoizedState=[t,e===void 0?null:e],t},useContext:pr,useEffect:BS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vp(4194308,4,Ok.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vp(4194308,4,t,e)},useInsertionEffect:function(t,e){return vp(4,2,t,e)},useMemo:function(t,e){var n=Hr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=h6.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=Hr();return t={current:t},e.memoizedState=t},useState:zS,useDebugValue:Lw,useDeferredValue:function(t){return Hr().memoizedState=t},useTransition:function(){var t=zS(!1),e=t[0];return t=f6.bind(null,t[1]),Hr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,i=Hr();if(Ge){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),$t===null)throw Error(U(349));aa&30||Sk(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,BS(Ck.bind(null,r,s,t),[t]),r.flags|=2048,md(9,Ik.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Hr(),e=$t.identifierPrefix;if(Ge){var n=Pi,r=Ri;n=(r&~(1<<32-Rr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=hd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=d6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},g6={readContext:pr,useCallback:Mk,useContext:pr,useEffect:Dw,useImperativeHandle:Nk,useInsertionEffect:kk,useLayoutEffect:$k,useMemo:Dk,useReducer:m0,useRef:Pk,useState:function(){return m0(pd)},useDebugValue:Lw,useDeferredValue:function(t){var e=mr();return Lk(e,Et.memoizedState,t)},useTransition:function(){var t=m0(pd)[0],e=mr().memoizedState;return[t,e]},useMutableSource:xk,useSyncExternalStore:Tk,useId:Fk,unstable_isNewReconciler:!1},v6={readContext:pr,useCallback:Mk,useContext:pr,useEffect:Dw,useImperativeHandle:Nk,useInsertionEffect:kk,useLayoutEffect:$k,useMemo:Dk,useReducer:g0,useRef:Pk,useState:function(){return g0(pd)},useDebugValue:Lw,useDeferredValue:function(t){var e=mr();return Et===null?e.memoizedState=t:Lk(e,Et.memoizedState,t)},useTransition:function(){var t=g0(pd)[0],e=mr().memoizedState;return[t,e]},useMutableSource:xk,useSyncExternalStore:Tk,useId:Fk,unstable_isNewReconciler:!1};function Hl(t,e){try{var n="",r=e;do n+=HL(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function v0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ub(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var y6=typeof WeakMap=="function"?WeakMap:Map;function zk(t,e,n){n=Di(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fm||(fm=!0,bb=r),ub(t,e)},n}function Bk(t,e,n){n=Di(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ub(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ub(t,e),typeof r!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function WS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new y6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=$6.bind(null,t,e,n),e.then(t,t))}function HS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Di(-1,1),e.tag=2,Ds(n,e,1))),n.lanes|=1),t)}var _6=Zi.ReactCurrentOwner,Tn=!1;function dn(t,e,n,r){e.child=t===null?wk(e,null,n,r):Bl(e,t.child,n,r)}function KS(t,e,n,r,i){n=n.render;var s=e.ref;return Il(e,i),r=Nw(t,e,n,r,s,i),n=Mw(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zi(t,e,i)):(Ge&&n&&Ew(e),e.flags|=1,dn(t,e,r,i),e.child)}function GS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Hw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Wk(t,e,s,r,i)):(t=wp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ad,n(o,r)&&t.ref===e.ref)return zi(t,e,i)}return e.flags|=1,t=Vs(s,r),t.ref=e.ref,t.return=e,e.child=t}function Wk(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ad(s,r)&&t.ref===e.ref)if(Tn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Tn=!0);else return e.lanes=t.lanes,zi(t,e,i)}return db(t,e,n,r,i)}function Hk(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(gl,Dn),Dn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(gl,Dn),Dn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Le(gl,Dn),Dn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Le(gl,Dn),Dn|=r;return dn(t,e,i,n),e.child}function qk(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function db(t,e,n,r,i){var s=Cn(n)?sa:cn.current;return s=Ul(e,s),Il(e,i),n=Nw(t,e,n,r,s,i),r=Mw(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,zi(t,e,i)):(Ge&&r&&Ew(e),e.flags|=1,dn(t,e,n,i),e.child)}function QS(t,e,n,r,i){if(Cn(n)){var s=!0;nm(e)}else s=!1;if(Il(e,i),e.stateNode===null)yp(t,e),_k(e,n,r),cb(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=pr(c):(c=Cn(n)?sa:cn.current,c=Ul(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&jS(e,o,r,c),gs=!1;var f=e.memoizedState;o.state=f,am(e,r,o,i),l=e.memoizedState,a!==r||f!==l||In.current||gs?(typeof u=="function"&&(lb(e,n,u,r),l=e.memoizedState),(a=gs||VS(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,vk(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Tr(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=pr(l):(l=Cn(n)?sa:cn.current,l=Ul(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&jS(e,o,r,l),gs=!1,f=e.memoizedState,o.state=f,am(e,r,o,i);var g=e.memoizedState;a!==d||f!==g||In.current||gs?(typeof h=="function"&&(lb(e,n,h,r),g=e.memoizedState),(c=gs||VS(e,n,c,r,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return fb(t,e,n,r,s,i)}function fb(t,e,n,r,i,s){qk(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&NS(e,n,!1),zi(t,e,s);r=e.stateNode,_6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Bl(e,t.child,null,s),e.child=Bl(e,null,a,s)):dn(t,e,a,s),e.memoizedState=r.state,i&&NS(e,n,!0),e.child}function Kk(t){var e=t.stateNode;e.pendingContext?OS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&OS(t,e.context,!1),Pw(t,e.containerInfo)}function YS(t,e,n,r,i){return zl(),Tw(i),e.flags|=256,dn(t,e,n,r),e.child}var hb={dehydrated:null,treeContext:null,retryLane:0};function pb(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gk(t,e,n){var r=e.pendingProps,i=Qe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Le(Qe,i&1),t===null)return ob(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=zg(o,r,0,null),t=Qo(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=pb(n),e.memoizedState=hb,t):Fw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return b6(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Vs(a,s):(s=Qo(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?pb(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=hb,r}return s=t.child,t=s.sibling,r=Vs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fw(t,e){return e=zg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mh(t,e,n,r){return r!==null&&Tw(r),Bl(e,t.child,null,n),t=Fw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function b6(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=v0(Error(U(422))),mh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=zg({mode:"visible",children:r.children},i,0,null),s=Qo(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Bl(e,t.child,null,o),e.child.memoizedState=pb(o),e.memoizedState=hb,s);if(!(e.mode&1))return mh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=v0(s,r,void 0),mh(t,e,o,r)}if(a=(o&t.childLanes)!==0,Tn||a){if(r=$t,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ui(t,i),Pr(r,t,i,-1))}return Ww(),r=v0(Error(U(421))),mh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=O6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Bn=Ms(i.nextSibling),Gn=e,Ge=!0,Ir=null,t!==null&&(ar[lr++]=Ri,ar[lr++]=Pi,ar[lr++]=oa,Ri=t.id,Pi=t.overflow,oa=e),e=Fw(e,r.children),e.flags|=4096,e)}function XS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ab(t.return,e,n)}function y0(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Qk(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(dn(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&XS(t,n,e);else if(t.tag===19)XS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Le(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&lm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),y0(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&lm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}y0(e,!0,n,null,s);break;case"together":y0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function zi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),la|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Vs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function w6(t,e,n){switch(e.tag){case 3:Kk(e),zl();break;case 5:Ek(e);break;case 1:Cn(e.type)&&nm(e);break;case 4:Pw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Le(sm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Le(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?Gk(t,e,n):(Le(Qe,Qe.current&1),t=zi(t,e,n),t!==null?t.sibling:null);Le(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Qk(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Le(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,Hk(t,e,n)}return zi(t,e,n)}var Yk,mb,Xk,Jk;Yk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mb=function(){};Xk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Uo(oi.current);var s=null;switch(n){case"input":i=L_(t,i),r=L_(t,r),s=[];break;case"select":i=Je({},i,{value:void 0}),r=Je({},r,{value:void 0}),s=[];break;case"textarea":i=j_(t,i),r=j_(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=em)}z_(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ed.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ed.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ve("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Jk=function(t,e,n,r){n!==r&&(e.flags|=4)};function qc(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function en(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function E6(t,e,n){var r=e.pendingProps;switch(xw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(e),null;case 1:return Cn(e.type)&&tm(),en(e),null;case 3:return r=e.stateNode,Wl(),We(In),We(cn),$w(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ir!==null&&(xb(Ir),Ir=null))),mb(t,e),en(e),null;case 5:kw(e);var i=Uo(fd.current);if(n=e.type,t!==null&&e.stateNode!=null)Xk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return en(e),null}if(t=Uo(oi.current),hh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Qr]=e,r[ud]=s,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(i=0;i<pu.length;i++)Ve(pu[i],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":oS(r,s),Ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ve("invalid",r);break;case"textarea":lS(r,s),Ve("invalid",r)}z_(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&fh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&fh(r.textContent,a,t),i=["children",""+a]):ed.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ve("scroll",r)}switch(n){case"input":ih(r),aS(r,s,!0);break;case"textarea":ih(r),cS(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=em)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=SP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Qr]=e,t[ud]=r,Yk(t,e,!1,!1),e.stateNode=t;e:{switch(o=B_(n,r),n){case"dialog":Ve("cancel",t),Ve("close",t),i=r;break;case"iframe":case"object":case"embed":Ve("load",t),i=r;break;case"video":case"audio":for(i=0;i<pu.length;i++)Ve(pu[i],t);i=r;break;case"source":Ve("error",t),i=r;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),i=r;break;case"details":Ve("toggle",t),i=r;break;case"input":oS(t,r),i=L_(t,r),Ve("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Je({},r,{value:void 0}),Ve("invalid",t);break;case"textarea":lS(t,r),i=j_(t,r),Ve("invalid",t);break;default:i=r}z_(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?AP(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&IP(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&td(t,l):typeof l=="number"&&td(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ed.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ve("scroll",t):l!=null&&lw(t,s,l,o))}switch(n){case"input":ih(t),aS(t,r,!1);break;case"textarea":ih(t),cS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ks(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?El(t,!!r.multiple,s,!1):r.defaultValue!=null&&El(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=em)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return en(e),null;case 6:if(t&&e.stateNode!=null)Jk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Uo(fd.current),Uo(oi.current),hh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Qr]=e,(s=r.nodeValue!==n)&&(t=Gn,t!==null))switch(t.tag){case 3:fh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qr]=e,e.stateNode=r}return en(e),null;case 13:if(We(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&Bn!==null&&e.mode&1&&!(e.flags&128))mk(),zl(),e.flags|=98560,s=!1;else if(s=hh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Qr]=e}else zl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;en(e),s=!1}else Ir!==null&&(xb(Ir),Ir=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?xt===0&&(xt=3):Ww())),e.updateQueue!==null&&(e.flags|=4),en(e),null);case 4:return Wl(),mb(t,e),t===null&&ld(e.stateNode.containerInfo),en(e),null;case 10:return Cw(e.type._context),en(e),null;case 17:return Cn(e.type)&&tm(),en(e),null;case 19:if(We(Qe),s=e.memoizedState,s===null)return en(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)qc(s,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=lm(t),o!==null){for(e.flags|=128,qc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Le(Qe,Qe.current&1|2),e.child}t=t.sibling}s.tail!==null&&dt()>ql&&(e.flags|=128,r=!0,qc(s,!1),e.lanes=4194304)}else{if(!r)if(t=lm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ge)return en(e),null}else 2*dt()-s.renderingStartTime>ql&&n!==1073741824&&(e.flags|=128,r=!0,qc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,n=Qe.current,Le(Qe,r?n&1|2:n&1),e):(en(e),null);case 22:case 23:return Bw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dn&1073741824&&(en(e),e.subtreeFlags&6&&(e.flags|=8192)):en(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function x6(t,e){switch(xw(e),e.tag){case 1:return Cn(e.type)&&tm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wl(),We(In),We(cn),$w(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kw(e),null;case 13:if(We(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));zl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Qe),null;case 4:return Wl(),null;case 10:return Cw(e.type._context),null;case 22:case 23:return Bw(),null;case 24:return null;default:return null}}var gh=!1,sn=!1,T6=typeof WeakSet=="function"?WeakSet:Set,Z=null;function ml(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(t,e,r)}else n.current=null}function gb(t,e,n){try{n()}catch(r){tt(t,e,r)}}var JS=!1;function S6(t,e){if(Z_=Xp,t=nk(),ww(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++u===r&&(l=o),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(eb={focusedElem:t,selectionRange:n},Xp=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,y=g.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:Tr(e.type,m),y);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(w){tt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return g=JS,JS=!1,g}function Mu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&gb(e,n,s)}i=i.next}while(i!==r)}}function jg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Zk(t){var e=t.alternate;e!==null&&(t.alternate=null,Zk(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qr],delete e[ud],delete e[rb],delete e[a6],delete e[l6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function e$(t){return t.tag===5||t.tag===3||t.tag===4}function ZS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e$(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=em));else if(r!==4&&(t=t.child,t!==null))for(yb(t,e,n),t=t.sibling;t!==null;)yb(t,e,n),t=t.sibling}function _b(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_b(t,e,n),t=t.sibling;t!==null;)_b(t,e,n),t=t.sibling}var Ft=null,Sr=!1;function as(t,e,n){for(n=n.child;n!==null;)t$(t,e,n),n=n.sibling}function t$(t,e,n){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount($g,n)}catch{}switch(n.tag){case 5:sn||ml(n,e);case 6:var r=Ft,i=Sr;Ft=null,as(t,e,n),Ft=r,Sr=i,Ft!==null&&(Sr?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(Sr?(t=Ft,n=n.stateNode,t.nodeType===8?d0(t.parentNode,n):t.nodeType===1&&d0(t,n),sd(t)):d0(Ft,n.stateNode));break;case 4:r=Ft,i=Sr,Ft=n.stateNode.containerInfo,Sr=!0,as(t,e,n),Ft=r,Sr=i;break;case 0:case 11:case 14:case 15:if(!sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gb(n,e,o),i=i.next}while(i!==r)}as(t,e,n);break;case 1:if(!sn&&(ml(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,e,a)}as(t,e,n);break;case 21:as(t,e,n);break;case 22:n.mode&1?(sn=(r=sn)||n.memoizedState!==null,as(t,e,n),sn=r):as(t,e,n);break;default:as(t,e,n)}}function eI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new T6),e.forEach(function(r){var i=N6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ft=a.stateNode,Sr=!1;break e;case 3:Ft=a.stateNode.containerInfo,Sr=!0;break e;case 4:Ft=a.stateNode.containerInfo,Sr=!0;break e}a=a.return}if(Ft===null)throw Error(U(160));t$(s,o,i),Ft=null,Sr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){tt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)n$(e,t),e=e.sibling}function n$(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wr(e,t),Br(t),r&4){try{Mu(3,t,t.return),jg(3,t)}catch(m){tt(t,t.return,m)}try{Mu(5,t,t.return)}catch(m){tt(t,t.return,m)}}break;case 1:wr(e,t),Br(t),r&512&&n!==null&&ml(n,n.return);break;case 5:if(wr(e,t),Br(t),r&512&&n!==null&&ml(n,n.return),t.flags&32){var i=t.stateNode;try{td(i,"")}catch(m){tt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&xP(i,s),B_(a,o);var c=B_(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?AP(i,d):u==="dangerouslySetInnerHTML"?IP(i,d):u==="children"?td(i,d):lw(i,u,d,c)}switch(a){case"input":F_(i,s);break;case"textarea":TP(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?El(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?El(i,!!s.multiple,s.defaultValue,!0):El(i,!!s.multiple,s.multiple?[]:"",!1))}i[ud]=s}catch(m){tt(t,t.return,m)}}break;case 6:if(wr(e,t),Br(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){tt(t,t.return,m)}}break;case 3:if(wr(e,t),Br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sd(e.containerInfo)}catch(m){tt(t,t.return,m)}break;case 4:wr(e,t),Br(t);break;case 13:wr(e,t),Br(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Uw=dt())),r&4&&eI(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(sn=(c=sn)||u,wr(e,t),sn=c):wr(e,t),Br(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Z=t,u=t.child;u!==null;){for(d=Z=u;Z!==null;){switch(f=Z,h=f.child,f.tag){case 0:case 11:case 14:case 15:Mu(4,f,f.return);break;case 1:ml(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){tt(r,n,m)}}break;case 5:ml(f,f.return);break;case 22:if(f.memoizedState!==null){nI(d);continue}}h!==null?(h.return=f,Z=h):nI(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=CP("display",o))}catch(m){tt(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){tt(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wr(e,t),Br(t),r&4&&eI(t);break;case 21:break;default:wr(e,t),Br(t)}}function Br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(e$(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(td(i,""),r.flags&=-33);var s=ZS(t);_b(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ZS(t);yb(t,a,o);break;default:throw Error(U(161))}}catch(l){tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function I6(t,e,n){Z=t,r$(t)}function r$(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||gh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||sn;a=gh;var c=sn;if(gh=o,(sn=l)&&!c)for(Z=i;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?rI(i):l!==null?(l.return=o,Z=l):rI(i);for(;s!==null;)Z=s,r$(s),s=s.sibling;Z=i,gh=a,sn=c}tI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):tI(t)}}function tI(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:sn||jg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!sn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&FS(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}FS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&sd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}sn||e.flags&512&&vb(e)}catch(f){tt(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function nI(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function rI(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jg(4,e)}catch(l){tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){tt(e,i,l)}}var s=e.return;try{vb(e)}catch(l){tt(e,s,l)}break;case 5:var o=e.return;try{vb(e)}catch(l){tt(e,o,l)}}}catch(l){tt(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var C6=Math.ceil,dm=Zi.ReactCurrentDispatcher,Vw=Zi.ReactCurrentOwner,fr=Zi.ReactCurrentBatchConfig,Ee=0,$t=null,vt=null,qt=0,Dn=0,gl=po(0),xt=0,gd=null,la=0,Ug=0,jw=0,Du=null,wn=null,Uw=0,ql=1/0,Si=null,fm=!1,bb=null,Ls=null,vh=!1,Ts=null,hm=0,Lu=0,wb=null,_p=-1,bp=0;function hn(){return Ee&6?dt():_p!==-1?_p:_p=dt()}function Fs(t){return t.mode&1?Ee&2&&qt!==0?qt&-qt:u6.transition!==null?(bp===0&&(bp=jP()),bp):(t=Re,t!==0||(t=window.event,t=t===void 0?16:KP(t.type)),t):1}function Pr(t,e,n,r){if(50<Lu)throw Lu=0,wb=null,Error(U(185));df(t,n,r),(!(Ee&2)||t!==$t)&&(t===$t&&(!(Ee&2)&&(Ug|=n),xt===4&&bs(t,qt)),An(t,r),n===1&&Ee===0&&!(e.mode&1)&&(ql=dt()+500,Lg&&mo()))}function An(t,e){var n=t.callbackNode;uF(t,e);var r=Yp(t,t===$t?qt:0);if(r===0)n!==null&&fS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fS(n),e===1)t.tag===0?c6(iI.bind(null,t)):fk(iI.bind(null,t)),s6(function(){!(Ee&6)&&mo()}),n=null;else{switch(UP(r)){case 1:n=hw;break;case 4:n=FP;break;case 16:n=Qp;break;case 536870912:n=VP;break;default:n=Qp}n=d$(n,i$.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function i$(t,e){if(_p=-1,bp=0,Ee&6)throw Error(U(327));var n=t.callbackNode;if(Cl()&&t.callbackNode!==n)return null;var r=Yp(t,t===$t?qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=pm(t,r);else{e=r;var i=Ee;Ee|=2;var s=o$();($t!==t||qt!==e)&&(Si=null,ql=dt()+500,Go(t,e));do try{P6();break}catch(a){s$(t,a)}while(1);Iw(),dm.current=s,Ee=i,vt!==null?e=0:($t=null,qt=0,e=xt)}if(e!==0){if(e===2&&(i=G_(t),i!==0&&(r=i,e=Eb(t,i))),e===1)throw n=gd,Go(t,0),bs(t,r),An(t,dt()),n;if(e===6)bs(t,r);else{if(i=t.current.alternate,!(r&30)&&!A6(i)&&(e=pm(t,r),e===2&&(s=G_(t),s!==0&&(r=s,e=Eb(t,s))),e===1))throw n=gd,Go(t,0),bs(t,r),An(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:$o(t,wn,Si);break;case 3:if(bs(t,r),(r&130023424)===r&&(e=Uw+500-dt(),10<e)){if(Yp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){hn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=nb($o.bind(null,t,wn,Si),e);break}$o(t,wn,Si);break;case 4:if(bs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Rr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*C6(r/1960))-r,10<r){t.timeoutHandle=nb($o.bind(null,t,wn,Si),r);break}$o(t,wn,Si);break;case 5:$o(t,wn,Si);break;default:throw Error(U(329))}}}return An(t,dt()),t.callbackNode===n?i$.bind(null,t):null}function Eb(t,e){var n=Du;return t.current.memoizedState.isDehydrated&&(Go(t,e).flags|=256),t=pm(t,e),t!==2&&(e=wn,wn=n,e!==null&&xb(e)),t}function xb(t){wn===null?wn=t:wn.push.apply(wn,t)}function A6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Or(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bs(t,e){for(e&=~jw,e&=~Ug,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rr(e),r=1<<n;t[n]=-1,e&=~r}}function iI(t){if(Ee&6)throw Error(U(327));Cl();var e=Yp(t,0);if(!(e&1))return An(t,dt()),null;var n=pm(t,e);if(t.tag!==0&&n===2){var r=G_(t);r!==0&&(e=r,n=Eb(t,r))}if(n===1)throw n=gd,Go(t,0),bs(t,e),An(t,dt()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$o(t,wn,Si),An(t,dt()),null}function zw(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(ql=dt()+500,Lg&&mo())}}function ca(t){Ts!==null&&Ts.tag===0&&!(Ee&6)&&Cl();var e=Ee;Ee|=1;var n=fr.transition,r=Re;try{if(fr.transition=null,Re=1,t)return t()}finally{Re=r,fr.transition=n,Ee=e,!(Ee&6)&&mo()}}function Bw(){Dn=gl.current,We(gl)}function Go(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,i6(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(xw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&tm();break;case 3:Wl(),We(In),We(cn),$w();break;case 5:kw(r);break;case 4:Wl();break;case 13:We(Qe);break;case 19:We(Qe);break;case 10:Cw(r.type._context);break;case 22:case 23:Bw()}n=n.return}if($t=t,vt=t=Vs(t.current,null),qt=Dn=e,xt=0,gd=null,jw=Ug=la=0,wn=Du=null,jo!==null){for(e=0;e<jo.length;e++)if(n=jo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}jo=null}return t}function s$(t,e){do{var n=vt;try{if(Iw(),gp.current=um,cm){for(var r=Xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}cm=!1}if(aa=0,At=Et=Xe=null,Nu=!1,hd=0,Vw.current=null,n===null||n.return===null){xt=1,gd=e,vt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=HS(o);if(h!==null){h.flags&=-257,qS(h,o,a,s,e),h.mode&1&&WS(s,c,e),e=h,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){WS(s,c,e),Ww();break e}l=Error(U(426))}}else if(Ge&&a.mode&1){var y=HS(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),qS(y,o,a,s,e),Tw(Hl(l,a));break e}}s=l=Hl(l,a),xt!==4&&(xt=2),Du===null?Du=[s]:Du.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=zk(s,l,e);LS(s,v);break e;case 1:a=l;var _=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ls===null||!Ls.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=Bk(s,a,e);LS(s,w);break e}}s=s.return}while(s!==null)}l$(n)}catch(E){e=E,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(1)}function o$(){var t=dm.current;return dm.current=um,t===null?um:t}function Ww(){(xt===0||xt===3||xt===2)&&(xt=4),$t===null||!(la&268435455)&&!(Ug&268435455)||bs($t,qt)}function pm(t,e){var n=Ee;Ee|=2;var r=o$();($t!==t||qt!==e)&&(Si=null,Go(t,e));do try{R6();break}catch(i){s$(t,i)}while(1);if(Iw(),Ee=n,dm.current=r,vt!==null)throw Error(U(261));return $t=null,qt=0,xt}function R6(){for(;vt!==null;)a$(vt)}function P6(){for(;vt!==null&&!tF();)a$(vt)}function a$(t){var e=u$(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,e===null?l$(t):vt=e,Vw.current=null}function l$(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=x6(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,vt=null;return}}else if(n=E6(n,e,Dn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);xt===0&&(xt=5)}function $o(t,e,n){var r=Re,i=fr.transition;try{fr.transition=null,Re=1,k6(t,e,n,r)}finally{fr.transition=i,Re=r}return null}function k6(t,e,n,r){do Cl();while(Ts!==null);if(Ee&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(dF(t,s),t===$t&&(vt=$t=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vh||(vh=!0,d$(Qp,function(){return Cl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=fr.transition,fr.transition=null;var o=Re;Re=1;var a=Ee;Ee|=4,Vw.current=null,S6(t,n),n$(n,t),XF(eb),Xp=!!Z_,eb=Z_=null,t.current=n,I6(n),nF(),Ee=a,Re=o,fr.transition=s}else t.current=n;if(vh&&(vh=!1,Ts=t,hm=i),s=t.pendingLanes,s===0&&(Ls=null),sF(n.stateNode),An(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fm)throw fm=!1,t=bb,bb=null,t;return hm&1&&t.tag!==0&&Cl(),s=t.pendingLanes,s&1?t===wb?Lu++:(Lu=0,wb=t):Lu=0,mo(),null}function Cl(){if(Ts!==null){var t=UP(hm),e=fr.transition,n=Re;try{if(fr.transition=null,Re=16>t?16:t,Ts===null)var r=!1;else{if(t=Ts,Ts=null,hm=0,Ee&6)throw Error(U(331));var i=Ee;for(Ee|=4,Z=t.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var u=Z;switch(u.tag){case 0:case 11:case 15:Mu(8,u,s)}var d=u.child;if(d!==null)d.return=u,Z=d;else for(;Z!==null;){u=Z;var f=u.sibling,h=u.return;if(Zk(u),u===c){Z=null;break}if(f!==null){f.return=h,Z=f;break}Z=h}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mu(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Z=v;break e}Z=s.return}}var _=t.current;for(Z=_;Z!==null;){o=Z;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Z=b;else e:for(o=_;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jg(9,a)}}catch(E){tt(a,a.return,E)}if(a===o){Z=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Z=w;break e}Z=a.return}}if(Ee=i,mo(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot($g,t)}catch{}r=!0}return r}finally{Re=n,fr.transition=e}}return!1}function sI(t,e,n){e=Hl(n,e),e=zk(t,e,1),t=Ds(t,e,1),e=hn(),t!==null&&(df(t,1,e),An(t,e))}function tt(t,e,n){if(t.tag===3)sI(t,t,n);else for(;e!==null;){if(e.tag===3){sI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ls===null||!Ls.has(r))){t=Hl(n,t),t=Bk(e,t,1),e=Ds(e,t,1),t=hn(),e!==null&&(df(e,1,t),An(e,t));break}}e=e.return}}function $6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=hn(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(qt&n)===n&&(xt===4||xt===3&&(qt&130023424)===qt&&500>dt()-Uw?Go(t,0):jw|=n),An(t,e)}function c$(t,e){e===0&&(t.mode&1?(e=ah,ah<<=1,!(ah&130023424)&&(ah=4194304)):e=1);var n=hn();t=Ui(t,e),t!==null&&(df(t,e,n),An(t,n))}function O6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),c$(t,n)}function N6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),c$(t,n)}var u$;u$=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||In.current)Tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tn=!1,w6(t,e,n);Tn=!!(t.flags&131072)}else Tn=!1,Ge&&e.flags&1048576&&hk(e,im,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yp(t,e),t=e.pendingProps;var i=Ul(e,cn.current);Il(e,n),i=Nw(null,e,r,t,i,n);var s=Mw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cn(r)?(s=!0,nm(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Rw(e),i.updater=Fg,e.stateNode=i,i._reactInternals=e,cb(e,r,t,n),e=fb(null,e,r,!0,s,n)):(e.tag=0,Ge&&s&&Ew(e),dn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=D6(r),t=Tr(r,t),i){case 0:e=db(null,e,r,t,n);break e;case 1:e=QS(null,e,r,t,n);break e;case 11:e=KS(null,e,r,t,n);break e;case 14:e=GS(null,e,r,Tr(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),db(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),QS(t,e,r,i,n);case 3:e:{if(Kk(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,vk(t,e),am(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Hl(Error(U(423)),e),e=YS(t,e,r,n,i);break e}else if(r!==i){i=Hl(Error(U(424)),e),e=YS(t,e,r,n,i);break e}else for(Bn=Ms(e.stateNode.containerInfo.firstChild),Gn=e,Ge=!0,Ir=null,n=wk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zl(),r===i){e=zi(t,e,n);break e}dn(t,e,r,n)}e=e.child}return e;case 5:return Ek(e),t===null&&ob(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,tb(r,i)?o=null:s!==null&&tb(r,s)&&(e.flags|=32),qk(t,e),dn(t,e,o,n),e.child;case 6:return t===null&&ob(e),null;case 13:return Gk(t,e,n);case 4:return Pw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Bl(e,null,r,n):dn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),KS(t,e,r,i,n);case 7:return dn(t,e,e.pendingProps,n),e.child;case 8:return dn(t,e,e.pendingProps.children,n),e.child;case 12:return dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Le(sm,r._currentValue),r._currentValue=o,s!==null)if(Or(s.value,o)){if(s.children===i.children&&!In.current){e=zi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Di(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ab(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ab(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Il(e,n),i=pr(i),r=r(i),e.flags|=1,dn(t,e,r,n),e.child;case 14:return r=e.type,i=Tr(r,e.pendingProps),i=Tr(r.type,i),GS(t,e,r,i,n);case 15:return Wk(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),yp(t,e),e.tag=1,Cn(r)?(t=!0,nm(e)):t=!1,Il(e,n),_k(e,r,i),cb(e,r,i,n),fb(null,e,r,!0,t,n);case 19:return Qk(t,e,n);case 22:return Hk(t,e,n)}throw Error(U(156,e.tag))};function d$(t,e){return LP(t,e)}function M6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(t,e,n,r){return new M6(t,e,n,r)}function Hw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function D6(t){if(typeof t=="function")return Hw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uw)return 11;if(t===dw)return 14}return 2}function Vs(t,e){var n=t.alternate;return n===null?(n=ur(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Hw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ol:return Qo(n.children,i,s,e);case cw:o=8,i|=8;break;case O_:return t=ur(12,n,e,i|2),t.elementType=O_,t.lanes=s,t;case N_:return t=ur(13,n,e,i),t.elementType=N_,t.lanes=s,t;case M_:return t=ur(19,n,e,i),t.elementType=M_,t.lanes=s,t;case bP:return zg(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yP:o=10;break e;case _P:o=9;break e;case uw:o=11;break e;case dw:o=14;break e;case ms:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=ur(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Qo(t,e,n,r){return t=ur(7,t,r,e),t.lanes=n,t}function zg(t,e,n,r){return t=ur(22,t,r,e),t.elementType=bP,t.lanes=n,t.stateNode={isHidden:!1},t}function _0(t,e,n){return t=ur(6,t,null,e),t.lanes=n,t}function b0(t,e,n){return e=ur(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function L6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=e0(0),this.expirationTimes=e0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=e0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qw(t,e,n,r,i,s,o,a,l){return t=new L6(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ur(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rw(s),t}function F6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function f$(t){if(!t)return Gs;t=t._reactInternals;e:{if(Ea(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Cn(n))return dk(t,n,e)}return e}function h$(t,e,n,r,i,s,o,a,l){return t=qw(n,r,!0,t,i,s,o,a,l),t.context=f$(null),n=t.current,r=hn(),i=Fs(n),s=Di(r,i),s.callback=e??null,Ds(n,s,i),t.current.lanes=i,df(t,i,r),An(t,r),t}function Bg(t,e,n,r){var i=e.current,s=hn(),o=Fs(i);return n=f$(n),e.context===null?e.context=n:e.pendingContext=n,e=Di(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ds(i,e,o),t!==null&&(Pr(t,i,o,s),mp(t,i,o)),o}function mm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Kw(t,e){oI(t,e),(t=t.alternate)&&oI(t,e)}function V6(){return null}var p$=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gw(t){this._internalRoot=t}Wg.prototype.render=Gw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Bg(t,e,null,null)};Wg.prototype.unmount=Gw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ca(function(){Bg(null,t,null,null)}),e[ji]=null}};function Wg(t){this._internalRoot=t}Wg.prototype.unstable_scheduleHydration=function(t){if(t){var e=WP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_s.length&&e!==0&&e<_s[n].priority;n++);_s.splice(n,0,t),n===0&&qP(t)}};function Qw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function aI(){}function j6(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=mm(o);s.call(c)}}var o=h$(e,r,t,0,null,!1,!1,"",aI);return t._reactRootContainer=o,t[ji]=o.current,ld(t.nodeType===8?t.parentNode:t),ca(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=mm(l);a.call(c)}}var l=qw(t,0,!1,null,null,!1,!1,"",aI);return t._reactRootContainer=l,t[ji]=l.current,ld(t.nodeType===8?t.parentNode:t),ca(function(){Bg(e,l,n,r)}),l}function qg(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=mm(o);a.call(l)}}Bg(e,o,t,i)}else o=j6(n,e,t,i,r);return mm(o)}zP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hu(e.pendingLanes);n!==0&&(pw(e,n|1),An(e,dt()),!(Ee&6)&&(ql=dt()+500,mo()))}break;case 13:ca(function(){var r=Ui(t,1);if(r!==null){var i=hn();Pr(r,t,1,i)}}),Kw(t,1)}};mw=function(t){if(t.tag===13){var e=Ui(t,134217728);if(e!==null){var n=hn();Pr(e,t,134217728,n)}Kw(t,134217728)}};BP=function(t){if(t.tag===13){var e=Fs(t),n=Ui(t,e);if(n!==null){var r=hn();Pr(n,t,e,r)}Kw(t,e)}};WP=function(){return Re};HP=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};H_=function(t,e,n){switch(e){case"input":if(F_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Dg(r);if(!i)throw Error(U(90));EP(r),F_(r,i)}}}break;case"textarea":TP(t,n);break;case"select":e=n.value,e!=null&&El(t,!!n.multiple,e,!1)}};kP=zw;$P=ca;var U6={usingClientEntryPoint:!1,Events:[hf,ul,Dg,RP,PP,zw]},Kc={findFiberByHostInstance:Vo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},z6={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=MP(t),t===null?null:t.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||V6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yh.isDisabled&&yh.supportsFiber)try{$g=yh.inject(z6),si=yh}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U6;er.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qw(e))throw Error(U(200));return F6(t,e,null,n)};er.createRoot=function(t,e){if(!Qw(t))throw Error(U(299));var n=!1,r="",i=p$;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qw(t,1,!1,null,null,n,!1,r,i),t[ji]=e.current,ld(t.nodeType===8?t.parentNode:t),new Gw(e)};er.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=MP(e),t=t===null?null:t.stateNode,t};er.flushSync=function(t){return ca(t)};er.hydrate=function(t,e,n){if(!Hg(e))throw Error(U(200));return qg(null,t,e,!0,n)};er.hydrateRoot=function(t,e,n){if(!Qw(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=p$;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=h$(e,null,t,1,n??null,i,!1,s,o),t[ji]=e.current,ld(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wg(e)};er.render=function(t,e,n){if(!Hg(e))throw Error(U(200));return qg(null,t,e,!1,n)};er.unmountComponentAtNode=function(t){if(!Hg(t))throw Error(U(40));return t._reactRootContainer?(ca(function(){qg(null,null,t,!1,function(){t._reactRootContainer=null,t[ji]=null})}),!0):!1};er.unstable_batchedUpdates=zw;er.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hg(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return qg(t,e,n,!1,r)};er.version="18.2.0-next-9e3b772b8-20220608";function m$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m$)}catch(t){console.error(t)}}m$(),hP.exports=er;var xa=hP.exports;const g$=Pg(xa);var lI=xa;k_.createRoot=lI.createRoot,k_.hydrateRoot=lI.hydrateRoot;/**
 * @remix-run/router v1.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vd(){return vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vd.apply(this,arguments)}var Ss;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ss||(Ss={}));const cI="popstate";function B6(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Tb("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:gm(i)}return H6(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Yw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W6(){return Math.random().toString(36).substr(2,8)}function uI(t,e){return{usr:t.state,key:t.key,idx:e}}function Tb(t,e,n,r){return n===void 0&&(n=null),vd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?gc(e):e,{state:n,key:e&&e.key||r||W6()})}function gm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function gc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function H6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ss.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(vd({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Ss.Pop;let y=u(),v=y==null?null:y-c;c=y,l&&l({action:a,location:m.location,delta:v})}function f(y,v){a=Ss.Push;let _=Tb(m.location,y,v);n&&n(_,y),c=u()+1;let b=uI(_,c),w=m.createHref(_);try{o.pushState(b,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(w)}s&&l&&l({action:a,location:m.location,delta:1})}function h(y,v){a=Ss.Replace;let _=Tb(m.location,y,v);n&&n(_,y),c=u();let b=uI(_,c),w=m.createHref(_);o.replaceState(b,"",w),s&&l&&l({action:a,location:m.location,delta:0})}function g(y){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:gm(y);return ht(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let m={get action(){return a},get location(){return t(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(cI,d),l=y,()=>{i.removeEventListener(cI,d),l=null}},createHref(y){return e(i,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(y){return o.go(y)}};return m}var dI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dI||(dI={}));function q6(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?gc(e):e,i=Xw(r.pathname||"/",n);if(i==null)return null;let s=v$(t);K6(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=n7(s[a],s7(i));return o}function v$(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=js([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(ht(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),v$(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:e7(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of y$(s.path))i(s,o,l)}),e}function y$(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=y$(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function K6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:t7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const G6=/^:\w+$/,Q6=3,Y6=2,X6=1,J6=10,Z6=-2,fI=t=>t==="*";function e7(t,e){let n=t.split("/"),r=n.length;return n.some(fI)&&(r+=Z6),e&&(r+=Y6),n.filter(i=>!fI(i)).reduce((i,s)=>i+(G6.test(s)?Q6:s===""?X6:J6),r)}function t7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function n7(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",u=r7({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;s.push({params:r,pathname:js([i,u.pathname]),pathnameBase:c7(js([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=js([i,u.pathnameBase]))}return s}function r7(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=i7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let f=a[d]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return c[u]=o7(a[d]||"",u),c},{}),pathname:s,pathnameBase:o,pattern:t}}function i7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Yw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function s7(t){try{return decodeURI(t)}catch(e){return Yw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function o7(t,e){try{return decodeURIComponent(t)}catch(n){return Yw(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Xw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function a7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?gc(t):t;return{pathname:n?n.startsWith("/")?n:l7(n,e):e,search:u7(r),hash:d7(i)}}function l7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function w0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Zw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=gc(t):(i=vd({},t),ht(!i.pathname||!i.pathname.includes("?"),w0("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),w0("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),w0("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=a7(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const js=t=>t.join("/").replace(/\/\/+/g,"/"),c7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),u7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,d7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function f7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _$=["post","put","patch","delete"];new Set(_$);const h7=["get",..._$];new Set(h7);/**
 * React Router v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vm.apply(this,arguments)}const eE=p.createContext(null),p7=p.createContext(null),vc=p.createContext(null),Kg=p.createContext(null),es=p.createContext({outlet:null,matches:[],isDataRoute:!1}),b$=p.createContext(null);function m7(t,e){let{relative:n}=e===void 0?{}:e;yc()||ht(!1);let{basename:r,navigator:i}=p.useContext(vc),{hash:s,pathname:o,search:a}=x$(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:js([r,o])),i.createHref({pathname:l,search:a,hash:s})}function yc(){return p.useContext(Kg)!=null}function go(){return yc()||ht(!1),p.useContext(Kg).location}function w$(t){p.useContext(vc).static||p.useLayoutEffect(t)}function _c(){let{isDataRoute:t}=p.useContext(es);return t?A7():g7()}function g7(){yc()||ht(!1);let t=p.useContext(eE),{basename:e,navigator:n}=p.useContext(vc),{matches:r}=p.useContext(es),{pathname:i}=go(),s=JSON.stringify(Jw(r).map(l=>l.pathnameBase)),o=p.useRef(!1);return w$(()=>{o.current=!0}),p.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=Zw(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:js([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,s,i,t])}function E$(){let{matches:t}=p.useContext(es),e=t[t.length-1];return e?e.params:{}}function x$(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=p.useContext(es),{pathname:i}=go(),s=JSON.stringify(Jw(r).map(o=>o.pathnameBase));return p.useMemo(()=>Zw(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function v7(t,e){return y7(t,e)}function y7(t,e,n){yc()||ht(!1);let{navigator:r}=p.useContext(vc),{matches:i}=p.useContext(es),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=go(),c;if(e){var u;let m=typeof e=="string"?gc(e):e;a==="/"||(u=m.pathname)!=null&&u.startsWith(a)||ht(!1),c=m}else c=l;let d=c.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",h=q6(t,{pathname:f}),g=x7(h&&h.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:js([a,r.encodeLocation?r.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:js([a,r.encodeLocation?r.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,n);return e&&g?p.createElement(Kg.Provider,{value:{location:vm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ss.Pop}},g):g}function _7(){let t=C7(),e=f7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:i},n):null,s)}const b7=p.createElement(_7,null);class w7 extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?p.createElement(es.Provider,{value:this.props.routeContext},p.createElement(b$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E7(t){let{routeContext:e,match:n,children:r}=t,i=p.useContext(eE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(es.Provider,{value:e},r)}function x7(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||ht(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||b7);let f=e.concat(s.slice(0,c+1)),h=()=>{let g;return u?g=d:l.route.Component?g=p.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,p.createElement(E7,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?p.createElement(w7,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:h(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):h()},null)}var T$=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(T$||{}),ym=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ym||{});function T7(t){let e=p.useContext(eE);return e||ht(!1),e}function S7(t){let e=p.useContext(p7);return e||ht(!1),e}function I7(t){let e=p.useContext(es);return e||ht(!1),e}function S$(t){let e=I7(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function C7(){var t;let e=p.useContext(b$),n=S7(ym.UseRouteError),r=S$(ym.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function A7(){let{router:t}=T7(T$.UseNavigateStable),e=S$(ym.UseNavigateStable),n=p.useRef(!1);return w$(()=>{n.current=!0}),p.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,vm({fromRouteId:e},s)))},[t,e])}function Ka(t){let{to:e,replace:n,state:r,relative:i}=t;yc()||ht(!1);let{matches:s}=p.useContext(es),{pathname:o}=go(),a=_c(),l=Zw(e,Jw(s).map(u=>u.pathnameBase),o,i==="path"),c=JSON.stringify(l);return p.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:i}),[a,c,i,n,r]),null}function Oo(t){ht(!1)}function R7(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ss.Pop,navigator:s,static:o=!1}=t;yc()&&ht(!1);let a=e.replace(/^\/*/,"/"),l=p.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=gc(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,g=p.useMemo(()=>{let m=Xw(c,a);return m==null?null:{location:{pathname:m,search:u,hash:d,state:f,key:h},navigationType:i}},[a,c,u,d,f,h,i]);return g==null?null:p.createElement(vc.Provider,{value:l},p.createElement(Kg.Provider,{children:n,value:g}))}function P7(t){let{children:e,location:n}=t;return v7(Sb(e),n)}new Promise(()=>{});function Sb(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,i)=>{if(!p.isValidElement(r))return;let s=[...e,i];if(r.type===p.Fragment){n.push.apply(n,Sb(r.props.children,s));return}r.type!==Oo&&ht(!1),!r.props.index||!r.props.children||ht(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Sb(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ib(){return Ib=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ib.apply(this,arguments)}function k7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O7(t,e){return t.button===0&&(!e||e==="_self")&&!$7(t)}const N7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],M7="startTransition",hI=Hp[M7];function D7(t){let{basename:e,children:n,future:r,window:i}=t,s=p.useRef();s.current==null&&(s.current=B6({window:i,v5Compat:!0}));let o=s.current,[a,l]=p.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=p.useCallback(d=>{c&&hI?hI(()=>l(d)):l(d)},[l,c]);return p.useLayoutEffect(()=>o.listen(u),[o,u]),p.createElement(R7,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const L7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",F7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ar=p.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,d=k7(e,N7),{basename:f}=p.useContext(vc),h,g=!1;if(typeof c=="string"&&F7.test(c)&&(h=c,L7))try{let _=new URL(window.location.href),b=c.startsWith("//")?new URL(_.protocol+c):new URL(c),w=Xw(b.pathname,f);b.origin===_.origin&&w!=null?c=w+b.search+b.hash:g=!0}catch{}let m=m7(c,{relative:i}),y=V7(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i});function v(_){r&&r(_),_.defaultPrevented||y(_)}return p.createElement("a",Ib({},d,{href:h||m,onClick:g||s?r:v,ref:n,target:l}))});var pI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(pI||(pI={}));var mI;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mI||(mI={}));function V7(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=_c(),l=go(),c=x$(t,{relative:o});return p.useCallback(u=>{if(O7(u,n)){u.preventDefault();let d=r!==void 0?r:gm(l)===gm(c);a(t,{replace:d,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,n,t,s,o])}var I$={exports:{}},C$={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kl=p;function j7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var U7=typeof Object.is=="function"?Object.is:j7,z7=Kl.useState,B7=Kl.useEffect,W7=Kl.useLayoutEffect,H7=Kl.useDebugValue;function q7(t,e){var n=e(),r=z7({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return W7(function(){i.value=n,i.getSnapshot=e,E0(i)&&s({inst:i})},[t,n,e]),B7(function(){return E0(i)&&s({inst:i}),t(function(){E0(i)&&s({inst:i})})},[t]),H7(n),n}function E0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!U7(t,n)}catch{return!0}}function K7(t,e){return e()}var G7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?K7:q7;C$.useSyncExternalStore=Kl.useSyncExternalStore!==void 0?Kl.useSyncExternalStore:G7;I$.exports=C$;var Q7=I$.exports,A$={exports:{}},R$={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg=p,Y7=Q7;function X7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var J7=typeof Object.is=="function"?Object.is:X7,Z7=Y7.useSyncExternalStore,e8=Gg.useRef,t8=Gg.useEffect,n8=Gg.useMemo,r8=Gg.useDebugValue;R$.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=e8(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=n8(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&o.hasValue){var g=o.value;if(i(g,h))return d=g}return d=h}if(g=d,J7(u,h))return g;var m=r(h);return i!==void 0&&i(g,m)?g:(u=h,d=m)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=Z7(t,s[0],s[1]);return t8(function(){o.hasValue=!0,o.value=a},[a]),r8(a),a};A$.exports=R$;var i8=A$.exports;function s8(t){t()}let P$=s8;const o8=t=>P$=t,a8=()=>P$,gI=Symbol.for("react-redux-context"),vI=typeof globalThis<"u"?globalThis:{};function l8(){var t;if(!p.createContext)return{};const e=(t=vI[gI])!=null?t:vI[gI]=new Map;let n=e.get(p.createContext);return n||(n=p.createContext(null),e.set(p.createContext,n)),n}const Qs=l8();function tE(t=Qs){return function(){return p.useContext(t)}}const k$=tE(),c8=()=>{throw new Error("uSES not initialized!")};let $$=c8;const u8=t=>{$$=t},d8=(t,e)=>t===e;function f8(t=Qs){const e=t===Qs?k$:tE(t);return function(r,i={}){const{equalityFn:s=d8,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:c,getServerState:u,stabilityCheck:d,noopCheck:f}=e();p.useRef(!0);const h=p.useCallback({[r.name](m){return r(m)}}[r.name],[r,d,o]),g=$$(c.addNestedSub,l.getState,u||l.getState,h,s);return p.useDebugValue(g),g}}const O$=f8();function W(){return W=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W.apply(this,arguments)}var N$={exports:{}},ke={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mt=typeof Symbol=="function"&&Symbol.for,nE=Mt?Symbol.for("react.element"):60103,rE=Mt?Symbol.for("react.portal"):60106,Qg=Mt?Symbol.for("react.fragment"):60107,Yg=Mt?Symbol.for("react.strict_mode"):60108,Xg=Mt?Symbol.for("react.profiler"):60114,Jg=Mt?Symbol.for("react.provider"):60109,Zg=Mt?Symbol.for("react.context"):60110,iE=Mt?Symbol.for("react.async_mode"):60111,ev=Mt?Symbol.for("react.concurrent_mode"):60111,tv=Mt?Symbol.for("react.forward_ref"):60112,nv=Mt?Symbol.for("react.suspense"):60113,h8=Mt?Symbol.for("react.suspense_list"):60120,rv=Mt?Symbol.for("react.memo"):60115,iv=Mt?Symbol.for("react.lazy"):60116,p8=Mt?Symbol.for("react.block"):60121,m8=Mt?Symbol.for("react.fundamental"):60117,g8=Mt?Symbol.for("react.responder"):60118,v8=Mt?Symbol.for("react.scope"):60119;function nr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case nE:switch(t=t.type,t){case iE:case ev:case Qg:case Xg:case Yg:case nv:return t;default:switch(t=t&&t.$$typeof,t){case Zg:case tv:case iv:case rv:case Jg:return t;default:return e}}case rE:return e}}}function M$(t){return nr(t)===ev}ke.AsyncMode=iE;ke.ConcurrentMode=ev;ke.ContextConsumer=Zg;ke.ContextProvider=Jg;ke.Element=nE;ke.ForwardRef=tv;ke.Fragment=Qg;ke.Lazy=iv;ke.Memo=rv;ke.Portal=rE;ke.Profiler=Xg;ke.StrictMode=Yg;ke.Suspense=nv;ke.isAsyncMode=function(t){return M$(t)||nr(t)===iE};ke.isConcurrentMode=M$;ke.isContextConsumer=function(t){return nr(t)===Zg};ke.isContextProvider=function(t){return nr(t)===Jg};ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===nE};ke.isForwardRef=function(t){return nr(t)===tv};ke.isFragment=function(t){return nr(t)===Qg};ke.isLazy=function(t){return nr(t)===iv};ke.isMemo=function(t){return nr(t)===rv};ke.isPortal=function(t){return nr(t)===rE};ke.isProfiler=function(t){return nr(t)===Xg};ke.isStrictMode=function(t){return nr(t)===Yg};ke.isSuspense=function(t){return nr(t)===nv};ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qg||t===ev||t===Xg||t===Yg||t===nv||t===h8||typeof t=="object"&&t!==null&&(t.$$typeof===iv||t.$$typeof===rv||t.$$typeof===Jg||t.$$typeof===Zg||t.$$typeof===tv||t.$$typeof===m8||t.$$typeof===g8||t.$$typeof===v8||t.$$typeof===p8)};ke.typeOf=nr;N$.exports=ke;var y8=N$.exports,D$=y8,_8={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},b8={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},L$={};L$[D$.ForwardRef]=_8;L$[D$.Memo]=b8;var $e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE=Symbol.for("react.element"),oE=Symbol.for("react.portal"),sv=Symbol.for("react.fragment"),ov=Symbol.for("react.strict_mode"),av=Symbol.for("react.profiler"),lv=Symbol.for("react.provider"),cv=Symbol.for("react.context"),w8=Symbol.for("react.server_context"),uv=Symbol.for("react.forward_ref"),dv=Symbol.for("react.suspense"),fv=Symbol.for("react.suspense_list"),hv=Symbol.for("react.memo"),pv=Symbol.for("react.lazy"),E8=Symbol.for("react.offscreen"),F$;F$=Symbol.for("react.module.reference");function _r(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case sE:switch(t=t.type,t){case sv:case av:case ov:case dv:case fv:return t;default:switch(t=t&&t.$$typeof,t){case w8:case cv:case uv:case pv:case hv:case lv:return t;default:return e}}case oE:return e}}}$e.ContextConsumer=cv;$e.ContextProvider=lv;$e.Element=sE;$e.ForwardRef=uv;$e.Fragment=sv;$e.Lazy=pv;$e.Memo=hv;$e.Portal=oE;$e.Profiler=av;$e.StrictMode=ov;$e.Suspense=dv;$e.SuspenseList=fv;$e.isAsyncMode=function(){return!1};$e.isConcurrentMode=function(){return!1};$e.isContextConsumer=function(t){return _r(t)===cv};$e.isContextProvider=function(t){return _r(t)===lv};$e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===sE};$e.isForwardRef=function(t){return _r(t)===uv};$e.isFragment=function(t){return _r(t)===sv};$e.isLazy=function(t){return _r(t)===pv};$e.isMemo=function(t){return _r(t)===hv};$e.isPortal=function(t){return _r(t)===oE};$e.isProfiler=function(t){return _r(t)===av};$e.isStrictMode=function(t){return _r(t)===ov};$e.isSuspense=function(t){return _r(t)===dv};$e.isSuspenseList=function(t){return _r(t)===fv};$e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===sv||t===av||t===ov||t===dv||t===fv||t===E8||typeof t=="object"&&t!==null&&(t.$$typeof===pv||t.$$typeof===hv||t.$$typeof===lv||t.$$typeof===cv||t.$$typeof===uv||t.$$typeof===F$||t.getModuleId!==void 0)};$e.typeOf=_r;function x8(){const t=a8();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const yI={notify(){},get:()=>[]};function T8(t,e){let n,r=yI;function i(d){return l(),r.subscribe(d)}function s(){r.notify()}function o(){u.onStateChange&&u.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=x8())}function c(){n&&(n(),n=void 0,r.clear(),r=yI)}const u={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:()=>r};return u}const S8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I8=S8?p.useLayoutEffect:p.useEffect;function _I(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function _m(t,e){if(_I(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!_I(t[n[i]],e[n[i]]))return!1;return!0}function C8({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=p.useMemo(()=>{const c=T8(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[t,r,i,s]),a=p.useMemo(()=>t.getState(),[t]);I8(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||Qs;return p.createElement(l.Provider,{value:o},n)}function V$(t=Qs){const e=t===Qs?k$:tE(t);return function(){const{store:r}=e();return r}}const j$=V$();function A8(t=Qs){const e=t===Qs?j$:V$(t);return function(){return e().dispatch}}const U$=A8();u8(i8.useSyncExternalStoreWithSelector);o8(xa.unstable_batchedUpdates);const mf=()=>U$(),Kt=O$;function zt(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Nr(t){return!!t&&!!t[ze]}function Mr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===L8}(t)||Array.isArray(t)||!!t[Fu]||!!(!((e=t.constructor)===null||e===void 0)&&e[Fu])||mv(t)||gv(t))}function R8(t){return Nr(t)||zt(23,t),t[ze].t}function Ys(t,e,n){n===void 0&&(n=!1),Xs(t)===0?(n?Object.keys:Al)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Xs(t){var e=t[ze];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:mv(t)?2:gv(t)?3:0}function Us(t,e){return Xs(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Ep(t,e){return Xs(t)===2?t.get(e):t[e]}function z$(t,e,n){var r=Xs(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function B$(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function mv(t){return M8&&t instanceof Map}function gv(t){return D8&&t instanceof Set}function No(t){return t.o||t.t}function aE(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=H$(t);delete e[ze];for(var n=Al(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function lE(t,e){return e===void 0&&(e=!1),cE(t)||Nr(t)||!Mr(t)||(Xs(t)>1&&(t.set=t.add=t.clear=t.delete=P8),Object.freeze(t),e&&Ys(t,function(n,r){return lE(r,!0)},!0)),t}function P8(){zt(2)}function cE(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function ai(t){var e=Pb[t];return e||zt(18,t),e}function W$(t,e){Pb[t]||(Pb[t]=e)}function Cb(){return yd}function x0(t,e){e&&(ai("Patches"),t.u=[],t.s=[],t.v=e)}function bm(t){Ab(t),t.p.forEach(k8),t.p=null}function Ab(t){t===yd&&(yd=t.l)}function bI(t){return yd={p:[],l:yd,h:t,m:!0,_:0}}function k8(t){var e=t[ze];e.i===0||e.i===1?e.j():e.g=!0}function T0(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||ai("ES5").S(e,t,r),r?(n[ze].P&&(bm(e),zt(4)),Mr(t)&&(t=wm(e,t),e.l||Em(e,t)),e.u&&ai("Patches").M(n[ze].t,t,e.u,e.s)):t=wm(e,n,[]),bm(e),e.u&&e.v(e.u,e.s),t!==dE?t:void 0}function wm(t,e,n){if(cE(e))return e;var r=e[ze];if(!r)return Ys(e,function(a,l){return wI(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Em(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=aE(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Ys(s,function(a,l){return wI(t,r,i,a,l,n,o)}),Em(t,i,!1),n&&t.u&&ai("Patches").N(r,n,t.u,t.s)}return r.o}function wI(t,e,n,r,i,s,o){if(Nr(i)){var a=wm(t,i,s&&e&&e.i!==3&&!Us(e.R,r)?s.concat(r):void 0);if(z$(n,r,a),!Nr(a))return;t.m=!1}else o&&n.add(i);if(Mr(i)&&!cE(i)){if(!t.h.D&&t._<1)return;wm(t,i),e&&e.A.l||Em(t,i)}}function Em(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&lE(e,n)}function S0(t,e){var n=t[ze];return(n?No(n):t)[e]}function EI(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function ws(t){t.P||(t.P=!0,t.l&&ws(t.l))}function I0(t){t.o||(t.o=aE(t.t))}function Rb(t,e,n){var r=mv(e)?ai("MapSet").F(e,n):gv(e)?ai("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Cb(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,c=_d;o&&(l=[a],c=mu);var u=Proxy.revocable(l,c),d=u.revoke,f=u.proxy;return a.k=f,a.j=d,f}(e,n):ai("ES5").J(e,n);return(n?n.A:Cb()).p.push(r),r}function $8(t){return Nr(t)||zt(22,t),function e(n){if(!Mr(n))return n;var r,i=n[ze],s=Xs(n);if(i){if(!i.P&&(i.i<4||!ai("ES5").K(i)))return i.t;i.I=!0,r=xI(n,s),i.I=!1}else r=xI(n,s);return Ys(r,function(o,a){i&&Ep(i.t,o)===a||z$(r,o,e(a))}),s===3?new Set(r):r}(t)}function xI(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return aE(t)}function O8(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[ze];return _d.get(l,s)},set:function(l){var c=this[ze];_d.set(c,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][ze];if(!a.P)switch(a.i){case 5:r(a)&&ws(a);break;case 4:n(a)&&ws(a)}}}function n(s){for(var o=s.t,a=s.k,l=Al(a),c=l.length-1;c>=0;c--){var u=l[c];if(u!==ze){var d=o[u];if(d===void 0&&!Us(o,u))return!0;var f=a[u],h=f&&f[ze];if(h?h.t!==d:!B$(f,d))return!0}}var g=!!o[ze];return l.length!==Al(o).length+(g?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};W$("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(u,d){if(u){for(var f=Array(d.length),h=0;h<d.length;h++)Object.defineProperty(f,""+h,t(h,!0));return f}var g=H$(d);delete g[ze];for(var m=Al(g),y=0;y<m.length;y++){var v=m[y];g[v]=t(v,u||!!g[v].enumerable)}return Object.create(Object.getPrototypeOf(d),g)}(a,s),c={i:a?5:4,A:o?o.A:Cb(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,ze,{value:c,writable:!0}),l},S:function(s,o,a){a?Nr(o)&&o[ze].A===s&&e(s.p):(s.u&&function l(c){if(c&&typeof c=="object"){var u=c[ze];if(u){var d=u.t,f=u.k,h=u.R,g=u.i;if(g===4)Ys(f,function(b){b!==ze&&(d[b]!==void 0||Us(d,b)?h[b]||l(f[b]):(h[b]=!0,ws(u)))}),Ys(d,function(b){f[b]!==void 0||Us(f,b)||(h[b]=!1,ws(u))});else if(g===5){if(r(u)&&(ws(u),h.length=!0),f.length<d.length)for(var m=f.length;m<d.length;m++)h[m]=!1;else for(var y=d.length;y<f.length;y++)h[y]=!0;for(var v=Math.min(f.length,d.length),_=0;_<v;_++)f.hasOwnProperty(_)||(h[_]=!0),h[_]===void 0&&l(f[_])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}function N8(){function t(r){if(!Mr(r))return r;if(Array.isArray(r))return r.map(t);if(mv(r))return new Map(Array.from(r.entries()).map(function(o){return[o[0],t(o[1])]}));if(gv(r))return new Set(Array.from(r).map(t));var i=Object.create(Object.getPrototypeOf(r));for(var s in r)i[s]=t(r[s]);return Us(r,Fu)&&(i[Fu]=r[Fu]),i}function e(r){return Nr(r)?t(r):r}var n="add";W$("Patches",{$:function(r,i){return i.forEach(function(s){for(var o=s.path,a=s.op,l=r,c=0;c<o.length-1;c++){var u=Xs(l),d=o[c];typeof d!="string"&&typeof d!="number"&&(d=""+d),u!==0&&u!==1||d!=="__proto__"&&d!=="constructor"||zt(24),typeof l=="function"&&d==="prototype"&&zt(24),typeof(l=Ep(l,d))!="object"&&zt(15,o.join("/"))}var f=Xs(l),h=t(s.value),g=o[o.length-1];switch(a){case"replace":switch(f){case 2:return l.set(g,h);case 3:zt(16);default:return l[g]=h}case n:switch(f){case 1:return g==="-"?l.push(h):l.splice(g,0,h);case 2:return l.set(g,h);case 3:return l.add(h);default:return l[g]=h}case"remove":switch(f){case 1:return l.splice(g,1);case 2:return l.delete(g);case 3:return l.delete(s.value);default:return delete l[g]}default:zt(17,a)}}),r},N:function(r,i,s,o){switch(r.i){case 0:case 4:case 2:return function(a,l,c,u){var d=a.t,f=a.o;Ys(a.R,function(h,g){var m=Ep(d,h),y=Ep(f,h),v=g?Us(d,h)?"replace":n:"remove";if(m!==y||v!=="replace"){var _=l.concat(h);c.push(v==="remove"?{op:v,path:_}:{op:v,path:_,value:y}),u.push(v===n?{op:"remove",path:_}:v==="remove"?{op:n,path:_,value:e(m)}:{op:"replace",path:_,value:e(m)})}})}(r,i,s,o);case 5:case 1:return function(a,l,c,u){var d=a.t,f=a.R,h=a.o;if(h.length<d.length){var g=[h,d];d=g[0],h=g[1];var m=[u,c];c=m[0],u=m[1]}for(var y=0;y<d.length;y++)if(f[y]&&h[y]!==d[y]){var v=l.concat([y]);c.push({op:"replace",path:v,value:e(h[y])}),u.push({op:"replace",path:v,value:e(d[y])})}for(var _=d.length;_<h.length;_++){var b=l.concat([_]);c.push({op:n,path:b,value:e(h[_])})}d.length<h.length&&u.push({op:"replace",path:l.concat(["length"]),value:d.length})}(r,i,s,o);case 3:return function(a,l,c,u){var d=a.t,f=a.o,h=0;d.forEach(function(g){if(!f.has(g)){var m=l.concat([h]);c.push({op:"remove",path:m,value:g}),u.unshift({op:n,path:m,value:g})}h++}),h=0,f.forEach(function(g){if(!d.has(g)){var m=l.concat([h]);c.push({op:n,path:m,value:g}),u.unshift({op:"remove",path:m,value:g})}h++})}(r,i,s,o)}},M:function(r,i,s,o){s.push({op:"replace",path:[],value:i===dE?void 0:i}),o.push({op:"replace",path:[],value:r})}})}var TI,yd,uE=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",M8=typeof Map<"u",D8=typeof Set<"u",SI=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",dE=uE?Symbol.for("immer-nothing"):((TI={})["immer-nothing"]=!0,TI),Fu=uE?Symbol.for("immer-draftable"):"__$immer_draftable",ze=uE?Symbol.for("immer-state"):"__$immer_state",L8=""+Object.prototype.constructor,Al=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,H$=Object.getOwnPropertyDescriptors||function(t){var e={};return Al(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Pb={},_d={get:function(t,e){if(e===ze)return t;var n=No(t);if(!Us(n,e))return function(i,s,o){var a,l=EI(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Mr(r)?r:r===S0(t.t,e)?(I0(t),t.o[e]=Rb(t.A.h,r,t)):r},has:function(t,e){return e in No(t)},ownKeys:function(t){return Reflect.ownKeys(No(t))},set:function(t,e,n){var r=EI(No(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=S0(No(t),e),s=i==null?void 0:i[ze];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(B$(n,i)&&(n!==void 0||Us(t.t,e)))return!0;I0(t),ws(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return S0(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,I0(t),ws(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=No(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){zt(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){zt(12)}},mu={};Ys(_d,function(t,e){mu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),mu.deleteProperty=function(t,e){return mu.set.call(this,t,e,void 0)},mu.set=function(t,e,n){return _d.set.call(this,t[0],e,n,t[0])};var F8=function(){function t(n){var r=this;this.O=SI,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(m){var y=this;m===void 0&&(m=a);for(var v=arguments.length,_=Array(v>1?v-1:0),b=1;b<v;b++)_[b-1]=arguments[b];return l.produce(m,function(w){var E;return(E=s).call.apply(E,[y,w].concat(_))})}}var c;if(typeof s!="function"&&zt(6),o!==void 0&&typeof o!="function"&&zt(7),Mr(i)){var u=bI(r),d=Rb(r,i,void 0),f=!0;try{c=s(d),f=!1}finally{f?bm(u):Ab(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(m){return x0(u,o),T0(m,u)},function(m){throw bm(u),m}):(x0(u,o),T0(c,u))}if(!i||typeof i!="object"){if((c=s(i))===void 0&&(c=i),c===dE&&(c=void 0),r.D&&lE(c,!0),o){var h=[],g=[];ai("Patches").M(i,c,h,g),o(h,g)}return c}zt(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(c){for(var u=arguments.length,d=Array(u>1?u-1:0),f=1;f<u;f++)d[f-1]=arguments[f];return r.produceWithPatches(c,function(h){return i.apply(void 0,[h].concat(d))})};var o,a,l=r.produce(i,s,function(c,u){o=c,a=u});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Mr(n)||zt(8),Nr(n)&&(n=$8(n));var r=bI(this),i=Rb(this,n,void 0);return i[ze].C=!0,Ab(r),i},e.finishDraft=function(n,r){var i=n&&n[ze],s=i.A;return x0(s,r),T0(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!SI&&zt(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=ai("Patches").$;return Nr(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Xn=new F8,gf=Xn.produce,q$=Xn.produceWithPatches.bind(Xn);Xn.setAutoFreeze.bind(Xn);Xn.setUseProxies.bind(Xn);var II=Xn.applyPatches.bind(Xn);Xn.createDraft.bind(Xn);Xn.finishDraft.bind(Xn);function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function V8(t,e){if(bd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j8(t){var e=V8(t,"string");return bd(e)==="symbol"?e:String(e)}function U8(t,e,n){return e=j8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){U8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nn(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var RI=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),C0=function(){return Math.random().toString(36).substring(7).split("").join(".")},xm={INIT:"@@redux/INIT"+C0(),REPLACE:"@@redux/REPLACE"+C0(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+C0()}};function z8(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function K$(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(nn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(nn(1));return n(K$)(t,e)}if(typeof t!="function")throw new Error(nn(2));var i=t,s=e,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function u(){if(l)throw new Error(nn(3));return s}function d(m){if(typeof m!="function")throw new Error(nn(4));if(l)throw new Error(nn(5));var y=!0;return c(),a.push(m),function(){if(y){if(l)throw new Error(nn(6));y=!1,c();var _=a.indexOf(m);a.splice(_,1),o=null}}}function f(m){if(!z8(m))throw new Error(nn(7));if(typeof m.type>"u")throw new Error(nn(8));if(l)throw new Error(nn(9));try{l=!0,s=i(s,m)}finally{l=!1}for(var y=o=a,v=0;v<y.length;v++){var _=y[v];_()}return m}function h(m){if(typeof m!="function")throw new Error(nn(10));i=m,f({type:xm.REPLACE})}function g(){var m,y=d;return m={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(nn(11));function b(){_.next&&_.next(u())}b();var w=y(b);return{unsubscribe:w}}},m[RI]=function(){return this},m}return f({type:xm.INIT}),r={dispatch:f,subscribe:d,getState:u,replaceReducer:h},r[RI]=g,r}function B8(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:xm.INIT});if(typeof r>"u")throw new Error(nn(12));if(typeof n(void 0,{type:xm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nn(13))})}function G$(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{B8(n)}catch(a){o=a}return function(l,c){if(l===void 0&&(l={}),o)throw o;for(var u=!1,d={},f=0;f<s.length;f++){var h=s[f],g=n[h],m=l[h],y=g(m,c);if(typeof y>"u")throw c&&c.type,new Error(nn(14));d[h]=y,u=u||y!==m}return u=u||s.length!==Object.keys(l).length,u?d:l}}function Tm(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function W8(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(nn(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Tm.apply(void 0,a)(i.dispatch),AI(AI({},i),{},{dispatch:s})}}}var Sm="NOT_FOUND";function H8(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:Sm},put:function(r,i){e={key:r,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function q8(t,e){var n=[];function r(a){var l=n.findIndex(function(u){return e(a,u.key)});if(l>-1){var c=n[l];return l>0&&(n.splice(l,1),n.unshift(c)),c.value}return Sm}function i(a,l){r(a)===Sm&&(n.unshift({key:a,value:l}),n.length>t&&n.pop())}function s(){return n}function o(){n=[]}return{get:r,put:i,getEntries:s,clear:o}}var K8=function(e,n){return e===n};function G8(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,s=0;s<i;s++)if(!t(n[s],r[s]))return!1;return!0}}function kb(t,e){var n=typeof e=="object"?e:{equalityCheck:e},r=n.equalityCheck,i=r===void 0?K8:r,s=n.maxSize,o=s===void 0?1:s,a=n.resultEqualityCheck,l=G8(i),c=o===1?H8(l):q8(o,l);function u(){var d=c.get(arguments);if(d===Sm){if(d=t.apply(null,arguments),a){var f=c.getEntries(),h=f.find(function(g){return a(g.value,d)});h&&(d=h.value)}c.put(arguments,d)}return d}return u.clearCache=function(){return c.clear()},u}function Q8(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var n=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function Y8(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];var c=0,u,d={memoizeOptions:void 0},f=a.pop();if(typeof f=="object"&&(d=f,f=a.pop()),typeof f!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof f+"]");var h=d,g=h.memoizeOptions,m=g===void 0?n:g,y=Array.isArray(m)?m:[m],v=Q8(a),_=t.apply(void 0,[function(){return c++,f.apply(null,arguments)}].concat(y)),b=t(function(){for(var E=[],x=v.length,S=0;S<x;S++)E.push(v[S].apply(null,arguments));return u=_.apply(null,E),u});return Object.assign(b,{resultFunc:f,memoizedResultFunc:_,dependencies:v,lastResult:function(){return u},recomputations:function(){return c},resetRecomputations:function(){return c=0}}),b};return i}var Vu=Y8(kb);function Q$(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var Y$=Q$();Y$.withExtraArgument=Q$;const PI=Y$;var X$=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),X8=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Gl=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},J8=Object.defineProperty,Z8=Object.defineProperties,eV=Object.getOwnPropertyDescriptors,kI=Object.getOwnPropertySymbols,tV=Object.prototype.hasOwnProperty,nV=Object.prototype.propertyIsEnumerable,$I=function(t,e,n){return e in t?J8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},zs=function(t,e){for(var n in e||(e={}))tV.call(e,n)&&$I(t,n,e[n]);if(kI)for(var r=0,i=kI(e);r<i.length;r++){var n=i[r];nV.call(e,n)&&$I(t,n,e[n])}return t},A0=function(t,e){return Z8(t,eV(e))},rV=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(c){i(c)}},o=function(l){try{a(n.throw(l))}catch(c){i(c)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},iV=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Tm:Tm.apply(null,arguments)};function Ql(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var sV=function(t){X$(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Gl([void 0],n[0].concat(this)))):new(e.bind.apply(e,Gl([void 0],n.concat(this))))},e}(Array),oV=function(t){X$(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Gl([void 0],n[0].concat(this)))):new(e.bind.apply(e,Gl([void 0],n.concat(this))))},e}(Array);function $b(t){return Mr(t)?gf(t,function(){}):t}function aV(t){return typeof t=="boolean"}function lV(){return function(e){return cV(e)}}function cV(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new sV;return n&&(aV(n)?r.push(PI):r.push(PI.withExtraArgument(n.extraArgument))),r}var uV=!0;function dV(t){var e=lV(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,c=n.preloadedState,u=c===void 0?void 0:c,d=n.enhancers,f=d===void 0?void 0:d,h;if(typeof i=="function")h=i;else if(Ql(i))h=G$(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var g=o;typeof g=="function"&&(g=g(e));var m=W8.apply(void 0,g),y=Tm;l&&(y=iV(zs({trace:!uV},typeof l=="object"&&l)));var v=new oV(m),_=v;Array.isArray(f)?_=Gl([m],f):typeof f=="function"&&(_=f(v));var b=y.apply(void 0,_);return K$(h,u,b)}function Rn(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return zs(zs({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function J$(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function fV(t){return typeof t=="function"}function hV(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?J$(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(fV(t))l=function(){return $b(t())};else{var c=$b(t);l=function(){return c}}function u(d,f){d===void 0&&(d=l());var h=Gl([s[f.type]],o.filter(function(g){var m=g.matcher;return m(f)}).map(function(g){var m=g.reducer;return m}));return h.filter(function(g){return!!g}).length===0&&(h=[a]),h.reduce(function(g,m){if(m)if(Nr(g)){var y=g,v=m(y,f);return v===void 0?g:v}else{if(Mr(g))return gf(g,function(_){return m(_,f)});var v=m(g,f);if(v===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}return g},d)}return u.getInitialState=l,u}function pV(t,e){return t+"/"+e}function vs(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:$b(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(u){var d=r[u],f=pV(e,u),h,g;"reducer"in d?(h=d.reducer,g=d.prepare):h=d,s[u]=h,o[f]=h,a[u]=g?Rn(f,g):Rn(f)});function l(){var u=typeof t.extraReducers=="function"?J$(t.extraReducers):[t.extraReducers],d=u[0],f=d===void 0?{}:d,h=u[1],g=h===void 0?[]:h,m=u[2],y=m===void 0?void 0:m,v=zs(zs({},f),o);return hV(n,function(_){for(var b in v)_.addCase(b,v[b]);for(var w=0,E=g;w<E.length;w++){var x=E[w];_.addMatcher(x.matcher,x.reducer)}y&&_.addDefaultCase(y)})}var c;return{name:e,reducer:function(u,d){return c||(c=l()),c(u,d)},actions:a,caseReducers:s,getInitialState:function(){return c||(c=l()),c.getInitialState()}}}var mV="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Z$=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=mV[Math.random()*64|0];return e},gV=["name","message","stack","code"],R0=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),OI=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),vV=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=gV;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}},NI=function(){function t(e,n,r){var i=Rn(e+"/fulfilled",function(c,u,d,f){return{payload:c,meta:A0(zs({},f||{}),{arg:d,requestId:u,requestStatus:"fulfilled"})}}),s=Rn(e+"/pending",function(c,u,d){return{payload:void 0,meta:A0(zs({},d||{}),{arg:u,requestId:c,requestStatus:"pending"})}}),o=Rn(e+"/rejected",function(c,u,d,f,h){return{payload:f,error:(r&&r.serializeError||vV)(c||"Rejected"),meta:A0(zs({},h||{}),{arg:d,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function l(c){return function(u,d,f){var h=r!=null&&r.idGenerator?r.idGenerator(c):Z$(),g=new a,m;function y(_){m=_,g.abort()}var v=function(){return rV(this,null,function(){var _,b,w,E,x,S,I;return X8(this,function(A){switch(A.label){case 0:return A.trys.push([0,4,,5]),E=(_=r==null?void 0:r.condition)==null?void 0:_.call(r,c,{getState:d,extra:f}),_V(E)?[4,E]:[3,2];case 1:E=A.sent(),A.label=2;case 2:if(E===!1||g.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return x=new Promise(function(C,R){return g.signal.addEventListener("abort",function(){return R({name:"AbortError",message:m||"Aborted"})})}),u(s(h,c,(b=r==null?void 0:r.getPendingMeta)==null?void 0:b.call(r,{requestId:h,arg:c},{getState:d,extra:f}))),[4,Promise.race([x,Promise.resolve(n(c,{dispatch:u,getState:d,extra:f,requestId:h,signal:g.signal,abort:y,rejectWithValue:function(C,R){return new R0(C,R)},fulfillWithValue:function(C,R){return new OI(C,R)}})).then(function(C){if(C instanceof R0)throw C;return C instanceof OI?i(C.payload,h,c,C.meta):i(C,h,c)})])];case 3:return w=A.sent(),[3,5];case 4:return S=A.sent(),w=S instanceof R0?o(null,h,c,S.payload,S.meta):o(S,h,c),[3,5];case 5:return I=r&&!r.dispatchConditionRejection&&o.match(w)&&w.meta.condition,I||u(w),[2,w]}})})}();return Object.assign(v,{abort:y,requestId:h,arg:c,unwrap:function(){return v.then(yV)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t}();function yV(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function _V(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var bV=function(t){return t&&typeof t.match=="function"},eO=function(t,e){return bV(t)?t.match(e):t(e)};function bc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.some(function(r){return eO(r,n)})}}function ju(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.every(function(r){return eO(r,n)})}}function vv(t,e){if(!t||!t.meta)return!1;var n=typeof t.meta.requestId=="string",r=e.indexOf(t.meta.requestStatus)>-1;return n&&r}function vf(t){return typeof t[0]=="function"&&"pending"in t[0]&&"fulfilled"in t[0]&&"rejected"in t[0]}function fE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return vv(n,["pending"])}:vf(t)?function(n){var r=t.map(function(s){return s.pending}),i=bc.apply(void 0,r);return i(n)}:fE()(t[0])}function wd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return vv(n,["rejected"])}:vf(t)?function(n){var r=t.map(function(s){return s.rejected}),i=bc.apply(void 0,r);return i(n)}:wd()(t[0])}function yv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(r){return r&&r.meta&&r.meta.rejectedWithValue};return t.length===0?function(r){var i=ju(wd.apply(void 0,t),n);return i(r)}:vf(t)?function(r){var i=ju(wd.apply(void 0,t),n);return i(r)}:yv()(t[0])}function Ta(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return vv(n,["fulfilled"])}:vf(t)?function(n){var r=t.map(function(s){return s.fulfilled}),i=bc.apply(void 0,r);return i(n)}:Ta()(t[0])}function Ob(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===0?function(n){return vv(n,["pending","fulfilled","rejected"])}:vf(t)?function(n){for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];r.push(o.pending,o.rejected,o.fulfilled)}var a=bc.apply(void 0,r);return a(n)}:Ob()(t[0])}var hE="listenerMiddleware";Rn(hE+"/add");Rn(hE+"/removeAll");Rn(hE+"/remove");var gu="RTK_autoBatch",P0=function(){return function(t){var e;return{payload:t,meta:(e={},e[gu]=!0,e)}}},MI;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);O8();const tO=vs({name:"user",initialState:{user:null},reducers:{login:(t,e)=>{t.user=e.payload},logout:t=>{t.user=null}}}),{login:pE,logout:wV}=tO.actions,pn=t=>t.user.user,EV=tO.reducer;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xV=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},rO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new TV;const f=s<<2|a>>4;if(r.push(f),c!==64){const h=a<<4&240|c>>2;if(r.push(h),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SV=function(t){const e=nO(t);return rO.encodeByteArray(e,!0)},Im=function(t){return SV(t).replace(/\./g,"")},iO=function(t){try{return rO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Cm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!IV(n)||(t[n]=Cm(t[n],e[n]));return t}function IV(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV=()=>CV().__FIREBASE_DEFAULTS__,RV=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iO(t[1]);return e&&JSON.parse(e)},_v=()=>{try{return AV()||RV()||PV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sO=t=>{var e,n;return(n=(e=_v())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kV=t=>{const e=sO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oO=()=>{var t;return(t=_v())===null||t===void 0?void 0:t.config},aO=t=>{var e;return(e=_v())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Im(JSON.stringify(n)),Im(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function lO(){var t;const e=(t=_v())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MV(){return typeof self=="object"&&self.self===self}function cO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uO(){const t=bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Am(){try{return typeof indexedDB=="object"}catch{return!1}}function DV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="FirebaseError";class mn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LV,Object.setPrototypeOf(this,mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sa.prototype.create)}}class Sa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?FV(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new mn(i,a,r)}}function FV(t,e){return t.replace(VV,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const VV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function jV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(LI(s)&&LI(o)){if(!Rm(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function LI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function vu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dO(t,e){const n=new UV(t,e);return n.subscribe.bind(n)}class UV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=k0),i.error===void 0&&(i.error=k0),i.complete===void 0&&(i.complete=k0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function k0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t){return t&&t._delegate?t._delegate:t}class Bi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $V;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HV(e))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mo){return this.instances.has(e)}getOptions(e=Mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mo){return this.component?this.component.multipleInstances?e:Mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WV(t){return t===Mo?void 0:t}function HV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=[];var ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ge||(ge={}));const fO={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},KV=ge.INFO,GV={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},QV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=GV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bv{constructor(e){this.name=e,this._logLevel=KV,this._logHandler=QV,this._userLogHandler=null,gE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}}function YV(t){gE.forEach(e=>{e.setLogLevel(t)})}function XV(t,e){for(const n of gE){let r=null;e&&e.level&&(r=fO[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:ge[s].toLowerCase(),message:a,args:o,type:i.name})}}}const JV=(t,e)=>e.some(n=>t instanceof n);let FI,VI;function ZV(){return FI||(FI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ej(){return VI||(VI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hO=new WeakMap,Nb=new WeakMap,pO=new WeakMap,$0=new WeakMap,vE=new WeakMap;function tj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Bs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hO.set(n,t)}).catch(()=>{}),vE.set(e,t),e}function nj(t){if(Nb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Nb.set(t,e)}let Mb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rj(t){Mb=t(Mb)}function ij(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(O0(this),e,...n);return pO.set(r,e.sort?e.sort():[e]),Bs(r)}:ej().includes(t)?function(...e){return t.apply(O0(this),e),Bs(hO.get(this))}:function(...e){return Bs(t.apply(O0(this),e))}}function sj(t){return typeof t=="function"?ij(t):(t instanceof IDBTransaction&&nj(t),JV(t,ZV())?new Proxy(t,Mb):t)}function Bs(t){if(t instanceof IDBRequest)return tj(t);if($0.has(t))return $0.get(t);const e=sj(t);return e!==t&&($0.set(t,e),vE.set(e,t)),e}const O0=t=>vE.get(t);function oj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Bs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Bs(o.result),l.oldVersion,l.newVersion,Bs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const aj=["get","getKey","getAll","getAllKeys","count"],lj=["put","add","delete","clear"],N0=new Map;function jI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(N0.get(e))return N0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aj.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return N0.set(e,s),s}rj(t=>({...t,get:(e,n,r)=>jI(e,n)||t.get(e,n,r),has:(e,n)=>!!jI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Db="@firebase/app",UI="0.9.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new bv("@firebase/app"),dj="@firebase/app-compat",fj="@firebase/analytics-compat",hj="@firebase/analytics",pj="@firebase/app-check-compat",mj="@firebase/app-check",gj="@firebase/auth",vj="@firebase/auth-compat",yj="@firebase/database",_j="@firebase/database-compat",bj="@firebase/functions",wj="@firebase/functions-compat",Ej="@firebase/installations",xj="@firebase/installations-compat",Tj="@firebase/messaging",Sj="@firebase/messaging-compat",Ij="@firebase/performance",Cj="@firebase/performance-compat",Aj="@firebase/remote-config",Rj="@firebase/remote-config-compat",Pj="@firebase/storage",kj="@firebase/storage-compat",$j="@firebase/firestore",Oj="@firebase/firestore-compat",Nj="firebase",Mj="10.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]",Dj={[Db]:"fire-core",[dj]:"fire-core-compat",[hj]:"fire-analytics",[fj]:"fire-analytics-compat",[mj]:"fire-app-check",[pj]:"fire-app-check-compat",[gj]:"fire-auth",[vj]:"fire-auth-compat",[yj]:"fire-rtdb",[_j]:"fire-rtdb-compat",[bj]:"fire-fn",[wj]:"fire-fn-compat",[Ej]:"fire-iid",[xj]:"fire-iid-compat",[Tj]:"fire-fcm",[Sj]:"fire-fcm-compat",[Ij]:"fire-perf",[Cj]:"fire-perf-compat",[Aj]:"fire-rc",[Rj]:"fire-rc-compat",[Pj]:"fire-gcs",[kj]:"fire-gcs-compat",[$j]:"fire-fst",[Oj]:"fire-fst-compat","fire-js":"fire-js",[Nj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new Map,Ed=new Map;function Pm(t,e){try{t.container.addComponent(e)}catch(n){ua.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function mO(t,e){t.container.addOrOverwriteComponent(e)}function eo(t){const e=t.name;if(Ed.has(e))return ua.debug(`There were multiple attempts to register component ${e}.`),!1;Ed.set(e,t);for(const n of Zs.values())Pm(n,t);return!0}function yf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Lj(t,e,n=Js){yf(t,e).clearInstance(n)}function Fj(){Ed.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Li=new Sa("app","Firebase",Vj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jj=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=Mj;function wv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Js,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Li.create("bad-app-name",{appName:String(i)});if(n||(n=oO()),!n)throw Li.create("no-options");const s=Zs.get(i);if(s){if(Rm(n,s.options)&&Rm(r,s.config))return s;throw Li.create("duplicate-app",{appName:i})}const o=new qV(i);for(const l of Ed.values())o.addComponent(l);const a=new jj(n,r,o);return Zs.set(i,a),a}function yE(t=Js){const e=Zs.get(t);if(!e&&t===Js&&oO())return wv();if(!e)throw Li.create("no-app",{appName:t});return e}function Uj(){return Array.from(Zs.values())}async function gO(t){const e=t.name;Zs.has(e)&&(Zs.delete(e),await Promise.all(t.container.getProviders().map(n=>n.delete())),t.isDeleted=!0)}function kr(t,e,n){var r;let i=(r=Dj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ua.warn(a.join(" "));return}eo(new Bi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function vO(t,e){if(t!==null&&typeof t!="function")throw Li.create("invalid-log-argument");XV(t,e)}function yO(t){YV(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj="firebase-heartbeat-database",Bj=1,xd="firebase-heartbeat-store";let M0=null;function _O(){return M0||(M0=oj(zj,Bj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(xd)}}}).catch(t=>{throw Li.create("idb-open",{originalErrorMessage:t.message})})),M0}async function Wj(t){try{return await(await _O()).transaction(xd).objectStore(xd).get(bO(t))}catch(e){if(e instanceof mn)ua.warn(e.message);else{const n=Li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ua.warn(n.message)}}}async function zI(t,e){try{const r=(await _O()).transaction(xd,"readwrite");await r.objectStore(xd).put(e,bO(t)),await r.done}catch(n){if(n instanceof mn)ua.warn(n.message);else{const r=Li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ua.warn(r.message)}}}function bO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=1024,qj=30*24*60*60*1e3;class Kj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Qj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e;const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=BI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=qj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=BI(),{heartbeatsToSend:r,unsentEntries:i}=Gj(this._heartbeatsCache.heartbeats),s=Im(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function BI(){return new Date().toISOString().substring(0,10)}function Gj(t,e=Hj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),WI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),WI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Qj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Am()?DV().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Wj(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function WI(t){return Im(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yj(t){eo(new Bi("platform-logger",e=>new cj(e),"PRIVATE")),eo(new Bi("heartbeat",e=>new Kj(e),"PRIVATE")),kr(Db,UI,t),kr(Db,UI,"esm2017"),kr("fire-js","")}Yj("");const Xj=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:mn,SDK_VERSION:vo,_DEFAULT_ENTRY_NAME:Js,_addComponent:Pm,_addOrOverwriteComponent:mO,_apps:Zs,_clearComponents:Fj,_components:Ed,_getProvider:yf,_registerComponent:eo,_removeServiceInstance:Lj,deleteApp:gO,getApp:yE,getApps:Uj,initializeApp:wv,onLog:vO,registerVersion:kr,setLogLevel:yO},Symbol.toStringTag,{value:"Module"}));var Jj="firebase",Zj="10.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr(Jj,Zj,"app");var Yr=function(){return Yr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yr.apply(this,arguments)};function _f(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function eU(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}const Gc={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Ga={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}}function wO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nU=tU,rU=wO,EO=new Sa("auth","Firebase",wO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=new bv("@firebase/auth");function iU(t,...e){km.logLevel<=ge.WARN&&km.warn(`Auth (${vo}): ${t}`,...e)}function xp(t,...e){km.logLevel<=ge.ERROR&&km.error(`Auth (${vo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t,...e){throw _E(t,...e)}function Gt(t,...e){return _E(t,...e)}function xO(t,e,n){const r=Object.assign(Object.assign({},rU()),{[e]:n});return new Sa("auth","Firebase",r).create(e,{appName:t.name})}function Ec(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ot(t,"argument-error"),xO(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _E(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EO.create(t,...e)}function B(t,e,...n){if(!t)throw _E(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xp(e),new Error(e)}function Dr(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bE(){return HI()==="http:"||HI()==="https:"}function HI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bE()||cO()||"connection"in navigator)?navigator.onLine:!0}function oU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Dr(n>e,"Short delay should be less than long delay!"),this.isMobile=NV()||mE()}get(){return sU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t,e){Dr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=new bf(3e4,6e4);function lt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ct(t,e,n,r,i={}){return SO(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=wc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),TO.fetch()(IO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function SO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},aU),e);try{const i=new uU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw yu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw yu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw yu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw yu(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw xO(t,u,c);Ot(t,u)}}catch(i){if(i instanceof mn)throw i;Ot(t,"network-request-failed",{message:String(i)})}}async function ts(t,e,n,r,i={}){const s=await ct(t,e,n,r,i);return"mfaPendingCredential"in s&&Ot(t,"multi-factor-auth-required",{_serverResponse:s}),s}function IO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?wE(t.config,i):`${t.config.apiScheme}://${i}`}function cU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gt(this.auth,"network-request-failed")),lU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gt(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){return t!==void 0&&t.getResponse!==void 0}function KI(t){return t!==void 0&&t.enterprise!==void 0}class dU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fU(t){return(await ct(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function hU(t,e){return ct(t,"GET","/v2/recaptchaConfig",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pU(t,e){return ct(t,"POST","/v1/accounts:delete",e)}async function mU(t,e){return ct(t,"POST","/v1/accounts:update",e)}async function gU(t,e){return ct(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vU(t,e=!1){const n=de(t),r=await n.getIdToken(e),i=Ev(r);B(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Uu(D0(i.auth_time)),issuedAtTime:Uu(D0(i.iat)),expirationTime:Uu(D0(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function D0(t){return Number(t)*1e3}function Ev(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xp("JWT malformed, contained fewer than 3 sections"),null;try{const i=iO(n);return i?JSON.parse(i):(xp("Failed to decode base64 JWT payload"),null)}catch(i){return xp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function yU(t){const e=Ev(t);return B(e,"internal-error"),B(typeof e.exp<"u","internal-error"),B(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mn&&_U(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _U({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uu(this.lastLoginAt),this.creationTime=Uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Wi(t,gU(n,{idToken:r}));B(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?xU(s.providerUserInfo):[],a=EU(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new CO(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function wU(t){const e=de(t);await Sd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xU(t){return t.map(e=>{var{providerId:n}=e,r=_f(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TU(t,e){const n=await SO(t,{},async()=>{const r=wc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=IO(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",TO.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SU(t,e){return ct(t,"POST","/v2/accounts:revokeToken",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){B(e.idToken,"internal-error"),B(typeof e.idToken<"u","internal-error"),B(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return B(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await TU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Id;return r&&(B(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(B(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(B(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Id,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t,e){B(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=_f(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new CO(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Wi(this,this.stsTokenManager.getToken(this.auth,e));return B(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vU(this,e)}reload(){return wU(this)}_assign(e){this!==e&&(B(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Wi(this,pU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:b,emailVerified:w,isAnonymous:E,providerData:x,stsTokenManager:S}=n;B(b&&S,e,"internal-error");const I=Id.fromJSON(this.name,S);B(typeof b=="string",e,"internal-error"),ls(d,e.name),ls(f,e.name),B(typeof w=="boolean",e,"internal-error"),B(typeof E=="boolean",e,"internal-error"),ls(h,e.name),ls(g,e.name),ls(m,e.name),ls(y,e.name),ls(v,e.name),ls(_,e.name);const A=new Yo({uid:b,auth:e,email:f,emailVerified:w,displayName:d,isAnonymous:E,photoURL:g,phoneNumber:h,tenantId:m,stsTokenManager:I,createdAt:v,lastLoginAt:_});return x&&Array.isArray(x)&&(A.providerData=x.map(C=>Object.assign({},C))),y&&(A._redirectEventId=y),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Id;i.updateFromServerResponse(n);const s=new Yo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Sd(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new Map;function Wn(t){Dr(t instanceof Function,"Expected a class definition");let e=GI.get(t);return e?(Dr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AO.type="NONE";const Yl=AO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t,e,n){return`firebase:${t}:${e}:${n}`}class Rl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xo(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xo("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Rl(Wn(Yl),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Wn(Yl);const o=Xo(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=Yo._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Rl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Rl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($O(e))return"Blackberry";if(OO(e))return"Webos";if(EE(e))return"Safari";if((e.includes("chrome/")||PO(e))&&!e.includes("edge/"))return"Chrome";if(wf(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RO(t=bt()){return/firefox\//i.test(t)}function EE(t=bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PO(t=bt()){return/crios\//i.test(t)}function kO(t=bt()){return/iemobile/i.test(t)}function wf(t=bt()){return/android/i.test(t)}function $O(t=bt()){return/blackberry/i.test(t)}function OO(t=bt()){return/webos/i.test(t)}function xc(t=bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IU(t=bt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function CU(t=bt()){var e;return xc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AU(){return uO()&&document.documentMode===10}function NO(t=bt()){return xc(t)||wf(t)||OO(t)||$O(t)||/windows phone/i.test(t)||kO(t)}function RU(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t,e=[]){let n;switch(t){case"Browser":n=QI(bt());break;case"Worker":n=`${QI(bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kU(t,e={}){return ct(t,"GET","/v2/passwordPolicy",lt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=6;class OU{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:$U,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YI(this),this.idTokenSubscription=new YI(this),this.beforeStateQueue=new PU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Rl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return B(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?de(e):null;return n&&B(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&B(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kU(this),n=new OU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await SU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wn(e)||this._popupRedirectResolver;B(n,this,"argument-error"),this.redirectPersistenceManager=await Rl.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(B(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ot(t){return de(t)}class YI{constructor(e){this.auth=e,this.observer=null,this.addObserver=dO(n=>this.observer=n)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function xE(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Gt("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",MU().appendChild(r)})}function DO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const DU="https://www.google.com/recaptcha/enterprise.js?render=",LU="recaptcha-enterprise",FU="NO_RECAPTCHA";class VU{constructor(e){this.type=LU,this.auth=ot(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{hU(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new dU(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;KI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(FU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&KI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}xE(DU+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function XI(t,e,n,r=!1){const i=new VU(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Cd(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await XI(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await XI(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(t,e){const n=yf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Rm(s,e??{}))return i;Ot(i,"already-initialized")}return n.initialize({options:e})}function UU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function LO(t,e,n){const r=ot(t);B(r._canInitEmulator,r,"emulator-config-failed"),B(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=FO(e),{host:o,port:a}=zU(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||BU()}function FO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zU(t){const e=FO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:JI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:JI(o)}}}function JI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(t,e){return ct(t,"POST","/v1/accounts:resetPassword",lt(t,e))}async function WU(t,e){return ct(t,"POST","/v1/accounts:update",e)}async function HU(t,e){return ct(t,"POST","/v1/accounts:signUp",e)}async function qU(t,e){return ct(t,"POST","/v1/accounts:update",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU(t,e){return ts(t,"POST","/v1/accounts:signInWithPassword",lt(t,e))}async function xv(t,e){return ct(t,"POST","/v1/accounts:sendOobCode",lt(t,e))}async function GU(t,e){return xv(t,e)}async function QU(t,e){return xv(t,e)}async function YU(t,e){return xv(t,e)}async function XU(t,e){return xv(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(t,e){return ts(t,"POST","/v1/accounts:signInWithEmailLink",lt(t,e))}async function ZU(t,e){return ts(t,"POST","/v1/accounts:signInWithEmailLink",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends Tc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ad(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ad(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cd(e,n,"signInWithPassword",KU);case"emailLink":return JU(e,{email:this._email,oobCode:this._password});default:Ot(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cd(e,r,"signUpPassword",HU);case"emailLink":return ZU(e,{idToken:n,email:this._email,oobCode:this._password});default:Ot(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fi(t,e){return ts(t,"POST","/v1/accounts:signInWithIdp",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez="http://localhost";class fi extends Tc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ot("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=_f(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new fi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fi(e,n)}buildRequest(){const e={requestUri:ez,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tz(t,e){return ct(t,"POST","/v1/accounts:sendVerificationCode",lt(t,e))}async function nz(t,e){return ts(t,"POST","/v1/accounts:signInWithPhoneNumber",lt(t,e))}async function rz(t,e){const n=await ts(t,"POST","/v1/accounts:signInWithPhoneNumber",lt(t,e));if(n.temporaryProof)throw yu(t,"account-exists-with-different-credential",n);return n}const iz={USER_NOT_FOUND:"user-not-found"};async function sz(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return ts(t,"POST","/v1/accounts:signInWithPhoneNumber",lt(t,n),iz)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends Tc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Jo({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Jo({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return nz(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return rz(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return sz(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new Jo({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function az(t){const e=vl(vu(t)).link,n=e?vl(vu(e)).deep_link_id:null,r=vl(vu(t)).deep_link_id;return(r?vl(vu(r)).link:null)||r||n||e||t}class Tv{constructor(e){var n,r,i,s,o,a;const l=vl(vu(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=oz((i=l.mode)!==null&&i!==void 0?i:null);B(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=az(e);try{return new Tv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(e,n){return Ad._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Tv.parseLink(n);return B(r,"argument-error"),Ad._fromEmailAndCode(e,r.code,r.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends ns{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Pl extends Sc{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return B("providerId"in n&&"signInMethod"in n,"argument-error"),fi._fromParams(n)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return B(e.idToken||e.accessToken,"argument-error"),fi._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Pl.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Pl.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!n&&!s||!a)return null;try{return new Pl(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Sc{constructor(){super("facebook.com")}static credential(e){return fi._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fi._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cr.credential(n,r)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Sc{constructor(){super("github.com")}static credential(e){return fi._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz="http://localhost";class Xl extends Tc{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return Fi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fi(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=n;return!r||!i||!s||r!==i?null:new Xl(r,s)}static _create(e,n){return new Xl(e,n)}buildRequest(){return{requestUri:lz,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz="saml.";class $m extends ns{constructor(e){B(e.startsWith(cz),"argument-error"),super(e)}static credentialFromResult(e){return $m.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return $m.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Xl.fromJSON(e);return B(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Xl._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Sc{constructor(){super("twitter.com")}static credential(e,n){return fi._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zr.credential(n,r)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(t,e){return ts(t,"POST","/v1/accounts:signUp",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Yo._fromIdTokenResponse(e,r,i),o=ZI(r);return new gr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ZI(r);return new gr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ZI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uz(t){var e;const n=ot(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new gr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await jO(n,{returnSecureToken:!0}),i=await gr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends mn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Om.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Om(e,n,r,i)}}function UO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Om._fromErrorAndOperation(t,s,e,r):s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(t,e){const n=de(t);await Sv(!0,n,e);const{providerUserInfo:r}=await mU(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=zO(r||[]);return n.providerData=n.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function TE(t,e,n=!1){const r=await Wi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return gr._forOperation(t,"link",r)}async function Sv(t,e,n){await Sd(e);const r=zO(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";B(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Wi(t,UO(r,i,e,t),n);B(s.idToken,r,"internal-error");const o=Ev(s.idToken);B(o,r,"internal-error");const{sub:a}=o;return B(t.uid===a,r,"user-mismatch"),gr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ot(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(t,e,n=!1){const r="signIn",i=await UO(t,r,e),s=await gr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Iv(t,e){return WO(ot(t),e)}async function HO(t,e){const n=de(t);return await Sv(!1,n,e.providerId),TE(n,e)}async function qO(t,e){return BO(de(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(t,e){return ts(t,"POST","/v1/accounts:signInWithCustomToken",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hz(t,e){const n=ot(t),r=await fz(n,{token:e,returnSecureToken:!0}),i=await gr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?SE._fromServerResponse(e,n):"totpInfo"in n?IE._fromServerResponse(e,n):Ot(e,"internal-error")}}class SE extends Ef{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new SE(n)}}class IE extends Ef{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new IE(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t,e,n){var r;B(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),B(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(B(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(B(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CE(t){const e=ot(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pz(t,e,n){const r=ot(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&Cv(r,i,n),await Cd(r,i,"getOobCode",QU)}async function mz(t,e,n){await VO(de(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&CE(t),r})}async function gz(t,e){await qU(de(t),{oobCode:e})}async function KO(t,e){const n=de(t),r=await VO(n,{oobCode:e}),i=r.requestType;switch(B(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":B(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":B(r.mfaInfo,n,"internal-error");default:B(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Ef._fromServerResponse(ot(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function vz(t,e){const{data:n}=await KO(de(t),e);return n.email}async function GO(t,e,n){const r=ot(t),o=await Cd(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jO).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&CE(t),l}),a=await gr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function QO(t,e,n){return Iv(de(t),yo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&CE(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yz(t,e,n){const r=ot(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function s(o,a){B(a.handleCodeInApp,r,"argument-error"),a&&Cv(r,o,a)}s(i,n),await Cd(r,i,"getOobCode",YU)}function _z(t,e){const n=Tv.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function bz(t,e,n){const r=de(t),i=yo.credentialWithLink(e,n||Td());return B(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Iv(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz(t,e){return ct(t,"POST","/v1/accounts:createAuthUri",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ez(t,e){const n=bE()?Td():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await wz(de(t),r);return i||[]}async function xz(t,e){const n=de(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Cv(n.auth,i,e);const{email:s}=await GU(n.auth,i);s!==t.email&&await t.reload()}async function Tz(t,e,n){const r=de(t),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&Cv(r.auth,s,n);const{email:o}=await XU(r.auth,s);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sz(t,e){return ct(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=de(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Wi(r,Sz(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function XO(t,e){return JO(de(t),e,null)}function Iz(t,e){return JO(de(t),null,e)}async function JO(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const o=await Wi(t,WU(r,s));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cz(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(t!=null&&t.idToken)){const o=(n=(e=Ev(t.idToken))===null||e===void 0?void 0:e.firebase)===null||n===void 0?void 0:n.sign_in_provider;if(o){const a=o!=="anonymous"&&o!=="custom"?o:null;return new kl(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new Az(s,i);case"github.com":return new Rz(s,i);case"google.com":return new Pz(s,i);case"twitter.com":return new kz(s,i,t.screenName||null);case"custom":case"anonymous":return new kl(s,null);default:return new kl(s,r,i)}}class kl{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class ZO extends kl{constructor(e,n,r,i){super(e,n,r),this.username=i}}class Az extends kl{constructor(e,n){super(e,"facebook.com",n)}}class Rz extends ZO{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class Pz extends kl{constructor(e,n){super(e,"google.com",n)}}class kz extends ZO{constructor(e,n,r){super(e,"twitter.com",n,r)}}function $z(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:Cz(n)}function Oz(t,e,n,r){return de(t).onIdTokenChanged(e,n,r)}function Nz(t,e,n){return de(t).beforeAuthStateChanged(e,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new zo("enroll",e,n)}static _fromMfaPendingCredential(e){return new zo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if(!((n=e.multiFactorSession)===null||n===void 0)&&n.pendingCredential)return zo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return zo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=ot(e),i=n.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>Ef._fromServerResponse(r,a));B(i.mfaPendingCredential,r,"internal-error");const o=zo._fromMfaPendingCredential(i.mfaPendingCredential);return new AE(o,s,async a=>{const l=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const c=Object.assign(Object.assign({},i),{idToken:l.idToken,refreshToken:l.refreshToken});switch(n.operationType){case"signIn":const u=await gr._fromIdTokenResponse(r,n.operationType,c);return await r._updateCurrentUser(u.user),u;case"reauthenticate":return B(n.user,r,"internal-error"),gr._forOperation(n.user,n.operationType,c);default:Ot(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function Mz(t,e){var n;const r=de(t),i=e;return B(e.customData.operationType,r,"argument-error"),B((n=i.customData._serverResponse)===null||n===void 0?void 0:n.mfaPendingCredential,r,"argument-error"),AE._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(t,e){return ct(t,"POST","/v2/accounts/mfaEnrollment:start",lt(t,e))}function Lz(t,e){return ct(t,"POST","/v2/accounts/mfaEnrollment:finalize",lt(t,e))}function Fz(t,e){return ct(t,"POST","/v2/accounts/mfaEnrollment:withdraw",lt(t,e))}class RE{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Ef._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new RE(e)}async getSession(){return zo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),s=await Wi(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await Wi(this.user,Fz(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const L0=new WeakMap;function Vz(t){const e=de(t);return L0.has(e)||L0.set(e,RE._fromUser(e)),L0.get(e)}const Nm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nm,"1"),this.storage.removeItem(Nm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jz(){const t=bt();return EE(t)||xc(t)}const Uz=1e3,zz=10;class tN extends eN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=jz()&&RU(),this.fallbackToPolling=NO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);AU()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Uz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tN.type="LOCAL";const Av=tN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN extends eN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nN.type="SESSION";const to=nN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Rv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await Bz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=xf("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(){return window}function Hz(t){mt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(){return typeof mt().WorkerGlobalScope<"u"&&typeof mt().importScripts=="function"}async function qz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Gz(){return PE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="firebaseLocalStorageDb",Qz=1,Mm="firebaseLocalStorage",iN="fbase_key";class Tf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pv(t,e){return t.transaction([Mm],e?"readwrite":"readonly").objectStore(Mm)}function Yz(){const t=indexedDB.deleteDatabase(rN);return new Tf(t).toPromise()}function Lb(){const t=indexedDB.open(rN,Qz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Mm,{keyPath:iN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Mm)?e(r):(r.close(),await Yz(),e(await Lb()))})})}async function eC(t,e,n){const r=Pv(t,!0).put({[iN]:e,value:n});return new Tf(r).toPromise()}async function Xz(t,e){const n=Pv(t,!1).get(e),r=await new Tf(n).toPromise();return r===void 0?null:r.value}function tC(t,e){const n=Pv(t,!0).delete(e);return new Tf(n).toPromise()}const Jz=800,Zz=3;class sN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Zz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rv._getInstance(Gz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qz(),!this.activeServiceWorker)return;this.sender=new Wz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Kz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lb();return await eC(e,Nm,"1"),await tC(e,Nm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>eC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Xz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Pv(i,!1).getAll();return new Tf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sN.type="LOCAL";const Jl=sN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eB(t,e){return ct(t,"POST","/v2/accounts/mfaSignIn:start",lt(t,e))}function tB(t,e){return ct(t,"POST","/v2/accounts/mfaSignIn:finalize",lt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=500,rB=6e4,_h=1e12;class iB{constructor(e){this.auth=e,this.counter=_h,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new sB(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||_h;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||_h;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||_h;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class sB{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;B(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=oB(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},rB)},nB))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function oB(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=DO("rcb"),aB=new bf(3e4,6e4),lB="https://www.google.com/recaptcha/api.js?";class cB{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=mt().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return B(uB(n),e,"argument-error"),this.shouldResolveImmediately(n)&&qI(mt().grecaptcha)?Promise.resolve(mt().grecaptcha):new Promise((r,i)=>{const s=mt().setTimeout(()=>{i(Gt(e,"network-request-failed"))},aB.get());mt()[F0]=()=>{mt().clearTimeout(s),delete mt()[F0];const a=mt().grecaptcha;if(!a||!qI(a)){i(Gt(e,"internal-error"));return}const l=a.render;a.render=(c,u)=>{const d=l(c,u);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${lB}?${wc({onload:F0,render:"explicit",hl:n})}`;xE(o).catch(()=>{clearTimeout(s),i(Gt(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=mt().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function uB(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class dB{async load(e){return new iB(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="recaptcha",fB={theme:"light",type:"image"};let hB=class{constructor(e,n,r=Object.assign({},fB)){this.parameters=r,this.type=oN,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ot(e),this.isInvisible=this.parameters.size==="invisible",B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;B(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dB:new cB,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){B(!this.parameters.sitekey,this.auth,"argument-error"),B(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),B(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=mt()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){B(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){B(bE()&&!PE(),this.auth,"internal-error"),await pB(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await fU(this.auth);B(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return B(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function pB(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Jo._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function mB(t,e,n){const r=ot(t),i=await kv(r,e,de(n));return new kE(i,s=>Iv(r,s))}async function gB(t,e,n){const r=de(t);await Sv(!1,r,"phone");const i=await kv(r.auth,e,de(n));return new kE(i,s=>HO(r,s))}async function vB(t,e,n){const r=de(t),i=await kv(r.auth,e,de(n));return new kE(i,s=>qO(r,s))}async function kv(t,e,n){var r;const i=await n.verify();try{B(typeof i=="string",t,"argument-error"),B(n.type===oN,t,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s)return B(o.type==="enroll",t,"internal-error"),(await Dz(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{B(o.type==="signin",t,"internal-error");const a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return B(a,t,"missing-multi-factor-info"),(await eB(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:o}=await tz(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{n._reset()}}async function yB(t,e){await TE(de(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da=class Tp{constructor(e){this.providerId=Tp.PROVIDER_ID,this.auth=ot(e)}verifyPhoneNumber(e,n){return kv(this.auth,e,de(n))}static credential(e,n){return Jo._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Tp.credentialFromTaggedObject(n)}static credentialFromError(e){return Tp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Jo._fromTokenResponse(n,r):null}};da.PROVIDER_ID="phone";da.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(t,e){return e?Wn(e):(B(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E extends Tc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _B(t){return WO(t.auth,new $E(t),t.bypassAuthState)}function bB(t){const{auth:e,user:n}=t;return B(n,e,"internal-error"),BO(n,new $E(t),t.bypassAuthState)}async function wB(t){const{auth:e,user:n}=t;return B(n,e,"internal-error"),TE(n,new $E(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _B;case"linkViaPopup":case"linkViaRedirect":return wB;case"reauthViaPopup":case"reauthViaRedirect":return bB;default:Ot(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=new bf(2e3,1e4);async function xB(t,e,n){const r=ot(t);Ec(t,e,ns);const i=Ia(r,n);return new ki(r,"signInViaPopup",e,i).executeNotNull()}async function TB(t,e,n){const r=de(t);Ec(r.auth,e,ns);const i=Ia(r.auth,n);return new ki(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function SB(t,e,n){const r=de(t);Ec(r.auth,e,ns);const i=Ia(r.auth,n);return new ki(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ki extends aN{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ki.currentPopupAction&&ki.currentPopupAction.cancel(),ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return B(e,this.auth,"internal-error"),e}async onExecution(){Dr(this.filter.length===1,"Popup operations only handle one event");const e=xf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EB.get())};e()}}ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB="pendingRedirect",zu=new Map;class CB extends aN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zu.get(this.auth._key());if(!e){try{const r=await AB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zu.set(this.auth._key(),e)}return this.bypassAuthState||zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AB(t,e){const n=cN(e),r=lN(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function OE(t,e){return lN(t)._set(cN(e),"true")}function RB(){zu.clear()}function NE(t,e){zu.set(t._key(),e)}function lN(t){return Wn(t._redirectPersistence)}function cN(t){return Xo(IB,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t,e,n){return PB(t,e,n)}async function PB(t,e,n){const r=ot(t);Ec(t,e,ns),await r._initializationPromise;const i=Ia(r,n);return await OE(i,r),i._openRedirect(r,e,"signInViaRedirect")}function kB(t,e,n){return $B(t,e,n)}async function $B(t,e,n){const r=de(t);Ec(r.auth,e,ns),await r.auth._initializationPromise;const i=Ia(r.auth,n);await OE(i,r.auth);const s=await fN(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function OB(t,e,n){return NB(t,e,n)}async function NB(t,e,n){const r=de(t);Ec(r.auth,e,ns),await r.auth._initializationPromise;const i=Ia(r.auth,n);await Sv(!1,r,e.providerId),await OE(i,r.auth);const s=await fN(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function dN(t,e){return await ot(t)._initializationPromise,$v(t,e,!1)}async function $v(t,e,n=!1){const r=ot(t),i=Ia(r,e),o=await new CB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function fN(t){const e=xf(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=10*60*1e3;class hN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MB&&this.cachedEventUids.clear(),this.cachedEventUids.has(nC(e))}saveEventToCache(e){this.cachedEventUids.add(nC(e)),this.lastProcessedEventTime=Date.now()}}function nC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(t,e={}){return ct(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FB=/^https?/;async function VB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mN(t);for(const n of e)try{if(jB(n))return}catch{}Ot(t,"unauthorized-domain")}function jB(t){const e=Td(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!FB.test(n))return!1;if(LB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UB=new bf(3e4,6e4);function rC(){const t=mt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zB(t){return new Promise((e,n)=>{var r,i,s;function o(){rC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rC(),n(Gt(t,"network-request-failed"))},timeout:UB.get()})}if(!((i=(r=mt().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=mt().gapi)===null||s===void 0)&&s.load)o();else{const a=DO("iframefcb");return mt()[a]=()=>{gapi.load?o():n(Gt(t,"network-request-failed"))},xE(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Sp=null,e})}let Sp=null;function BB(t){return Sp=Sp||zB(t),Sp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=new bf(5e3,15e3),HB="__/auth/iframe",qB="emulator/auth/iframe",KB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QB(t){const e=t.config;B(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wE(e,qB):`https://${t.config.authDomain}/${HB}`,r={apiKey:e.apiKey,appName:t.name,v:vo},i=GB.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${wc(r).slice(1)}`}async function YB(t){const e=await BB(t),n=mt().gapi;return B(n,t,"internal-error"),e.open({where:document.body,url:QB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KB,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Gt(t,"network-request-failed"),a=mt().setTimeout(()=>{s(o)},WB.get());function l(){mt().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JB=500,ZB=600,eW="_blank",tW="http://localhost";class iC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nW(t,e,n,r=JB,i=ZB){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},XB),{width:r.toString(),height:i.toString(),top:s,left:o}),c=bt().toLowerCase();n&&(a=PO(c)?eW:n),RO(c)&&(e=e||tW,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,g])=>`${f}${h}=${g},`,"");if(CU(c)&&a!=="_self")return rW(e||"",a),new iC(null);const d=window.open(e||"",a,u);B(d,t,"popup-blocked");try{d.focus()}catch{}return new iC(d)}function rW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW="__/auth/handler",sW="emulator/auth/handler",oW=encodeURIComponent("fac");async function Fb(t,e,n,r,i,s){B(t.config.authDomain,t,"auth-domain-config-required"),B(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vo,eventId:i};if(e instanceof ns){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",jV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Sc){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${oW}=${encodeURIComponent(l)}`:"";return`${aW(t)}?${wc(a).slice(1)}${c}`}function aW({config:t}){return t.emulator?wE(t,sW):`https://${t.authDomain}/${iW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="webStorageSupport";class lW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=to,this._completeRedirectFn=$v,this._overrideRedirectResult=NE}async _openPopup(e,n,r,i){var s;Dr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Fb(e,n,r,Td(),i);return nW(e,o,xf())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Fb(e,n,r,Td(),i);return Hz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Dr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await YB(e),r=new hN(e);return n.register("authEvent",i=>(B(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(V0,{type:V0},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[V0];o!==void 0&&n(!!o),Ot(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NO()||EE()||xc()}}const gN=lW;class cW{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return ti("unexpected MultiFactorSessionType")}}}class ME extends cW{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ME(e)}_finalizeEnroll(e,n,r){return Lz(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return tB(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class vN{constructor(){}static assertion(e){return ME._fromCredential(e)}}vN.FACTOR_ID="phone";var sC="@firebase/auth",oC="1.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dW(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function fW(t){eo(new Bi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;B(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MO(t)},c=new NU(r,i,s,l);return UU(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),eo(new Bi("auth-internal",e=>{const n=ot(e.getProvider("auth").getImmediate());return(r=>new uW(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),kr(sC,oC,dW(t)),kr(sC,oC,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW=5*60,pW=aO("authIdTokenMaxAge")||hW;let aC=null;const mW=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pW)return;const i=n==null?void 0:n.token;aC!==i&&(aC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Sf(t=yE()){const e=yf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=jU(t,{popupRedirectResolver:gN,persistence:[Jl,Av,to]}),r=aO("authTokenSyncURL");if(r){const s=mW(r);Nz(n,s,()=>s(n.currentUser)),Oz(n,o=>s(o))}const i=sO("auth");return i&&LO(n,`http://${i}`),n}fW("Browser");var gW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,DE=DE||{},ce=gW||self;function Ov(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function If(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function vW(t){return Object.prototype.hasOwnProperty.call(t,j0)&&t[j0]||(t[j0]=++yW)}var j0="closure_uid_"+(1e9*Math.random()>>>0),yW=0;function _W(t,e,n){return t.call.apply(t.bind,arguments)}function bW(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function an(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?an=_W:an=bW,an.apply(null,arguments)}function bh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Dt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function _o(){this.s=this.s,this.o=this.o}var wW=0;_o.prototype.s=!1;_o.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),wW!=0)&&vW(this)};_o.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const yN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function LE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function lC(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ov(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ln(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};var EW=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ce.addEventListener("test",()=>{},e),ce.removeEventListener("test",()=>{},e)}catch{}return t}();function Rd(t){return/^[\s\xa0]*$/.test(t)}function Nv(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function ei(t){return Nv().indexOf(t)!=-1}function FE(t){return FE[" "](t),t}FE[" "]=function(){};function xW(t,e){var n=mH;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var TW=ei("Opera"),Zl=ei("Trident")||ei("MSIE"),_N=ei("Edge"),Vb=_N||Zl,bN=ei("Gecko")&&!(Nv().toLowerCase().indexOf("webkit")!=-1&&!ei("Edge"))&&!(ei("Trident")||ei("MSIE"))&&!ei("Edge"),SW=Nv().toLowerCase().indexOf("webkit")!=-1&&!ei("Edge");function wN(){var t=ce.document;return t?t.documentMode:void 0}var jb;e:{var U0="",z0=function(){var t=Nv();if(bN)return/rv:([^\);]+)(\)|;)/.exec(t);if(_N)return/Edge\/([\d\.]+)/.exec(t);if(Zl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(SW)return/WebKit\/(\S+)/.exec(t);if(TW)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(z0&&(U0=z0?z0[1]:""),Zl){var B0=wN();if(B0!=null&&B0>parseFloat(U0)){jb=String(B0);break e}}jb=U0}var Ub;if(ce.document&&Zl){var cC=wN();Ub=cC||parseInt(jb,10)||void 0}else Ub=void 0;var IW=Ub;function Pd(t,e){if(ln.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(bN){e:{try{FE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:CW[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Pd.$.h.call(this)}}Dt(Pd,ln);var CW={2:"touch",3:"pen",4:"mouse"};Pd.prototype.h=function(){Pd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Cf="closure_listenable_"+(1e6*Math.random()|0),AW=0;function RW(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++AW,this.fa=this.ia=!1}function Mv(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function VE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function PW(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function EN(t){const e={};for(const n in t)e[n]=t[n];return e}const uC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xN(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<uC.length;s++)n=uC[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Dv(t){this.src=t,this.g={},this.h=0}Dv.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Bb(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new RW(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function zb(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=yN(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Mv(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Bb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var jE="closure_lm_"+(1e6*Math.random()|0),W0={};function TN(t,e,n,r,i){if(r&&r.once)return IN(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)TN(t,e[s],n,r,i);return null}return n=BE(n),t&&t[Cf]?t.O(e,n,If(r)?!!r.capture:!!r,i):SN(t,e,n,!1,r,i)}function SN(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=If(i)?!!i.capture:!!i,a=zE(t);if(a||(t[jE]=a=new Dv(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=kW(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)EW||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(AN(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function kW(){function t(n){return e.call(t.src,t.listener,n)}const e=$W;return t}function IN(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)IN(t,e[s],n,r,i);return null}return n=BE(n),t&&t[Cf]?t.P(e,n,If(r)?!!r.capture:!!r,i):SN(t,e,n,!0,r,i)}function CN(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)CN(t,e[s],n,r,i);else r=If(r)?!!r.capture:!!r,n=BE(n),t&&t[Cf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Bb(s,n,r,i),-1<n&&(Mv(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=zE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Bb(e,n,r,i)),(n=-1<t?e[t]:null)&&UE(n))}function UE(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Cf])zb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(AN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=zE(e))?(zb(n,t),n.h==0&&(n.src=null,e[jE]=null)):Mv(t)}}}function AN(t){return t in W0?W0[t]:W0[t]="on"+t}function $W(t,e){if(t.fa)t=!0;else{e=new Pd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&UE(t),t=n.call(r,e)}return t}function zE(t){return t=t[jE],t instanceof Dv?t:null}var H0="__closure_events_fn_"+(1e9*Math.random()>>>0);function BE(t){return typeof t=="function"?t:(t[H0]||(t[H0]=function(e){return t.handleEvent(e)}),t[H0])}function Nt(){_o.call(this),this.i=new Dv(this),this.S=this,this.J=null}Dt(Nt,_o);Nt.prototype[Cf]=!0;Nt.prototype.removeEventListener=function(t,e,n,r){CN(this,t,e,n,r)};function Qt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ln(e,t);else if(e instanceof ln)e.target=e.target||t;else{var i=e;e=new ln(r,t),xN(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=wh(o,r,!0,e)&&i}if(o=e.g=t,i=wh(o,r,!0,e)&&i,i=wh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=wh(o,r,!1,e)&&i}Nt.prototype.N=function(){if(Nt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Mv(n[r]);delete t.g[e],t.h--}}this.J=null};Nt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Nt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function wh(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&zb(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var WE=ce.JSON.stringify;class OW{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function NW(){var t=HE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class MW{constructor(){this.h=this.g=null}add(e,n){const r=RN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var RN=new OW(()=>new DW,t=>t.reset());class DW{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function LW(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function FW(t){ce.setTimeout(()=>{throw t},0)}let kd,$d=!1,HE=new MW,PN=()=>{const t=ce.Promise.resolve(void 0);kd=()=>{t.then(VW)}};var VW=()=>{for(var t;t=NW();){try{t.h.call(t.g)}catch(n){FW(n)}var e=RN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}$d=!1};function Lv(t,e){Nt.call(this),this.h=t||1,this.g=e||ce,this.j=an(this.qb,this),this.l=Date.now()}Dt(Lv,Nt);Y=Lv.prototype;Y.ga=!1;Y.T=null;Y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qt(this,"tick"),this.ga&&(qE(this),this.start()))}};Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function qE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Y.N=function(){Lv.$.N.call(this),qE(this),delete this.g};function KE(t,e,n){if(typeof t=="function")n&&(t=an(t,n));else if(t&&typeof t.handleEvent=="function")t=an(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function kN(t){t.g=KE(()=>{t.g=null,t.i&&(t.i=!1,kN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class jW extends _o{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:kN(this)}N(){super.N(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Od(t){_o.call(this),this.h=t,this.g={}}Dt(Od,_o);var dC=[];function $N(t,e,n,r){Array.isArray(n)||(n&&(dC[0]=n.toString()),n=dC);for(var i=0;i<n.length;i++){var s=TN(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function ON(t){VE(t.g,function(e,n){this.g.hasOwnProperty(n)&&UE(e)},t),t.g={}}Od.prototype.N=function(){Od.$.N.call(this),ON(this)};Od.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Fv(){this.g=!0}Fv.prototype.Ea=function(){this.g=!1};function UW(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function zW(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function yl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+WW(t,n)+(r?" "+r:"")})}function BW(t,e){t.info(function(){return"TIMEOUT: "+e})}Fv.prototype.info=function(){};function WW(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return WE(n)}catch{return e}}var Ca={},fC=null;function Vv(){return fC=fC||new Nt}Ca.Ta="serverreachability";function NN(t){ln.call(this,Ca.Ta,t)}Dt(NN,ln);function Nd(t){const e=Vv();Qt(e,new NN(e))}Ca.STAT_EVENT="statevent";function MN(t,e){ln.call(this,Ca.STAT_EVENT,t),this.stat=e}Dt(MN,ln);function fn(t){const e=Vv();Qt(e,new MN(e,t))}Ca.Ua="timingevent";function DN(t,e){ln.call(this,Ca.Ua,t),this.size=e}Dt(DN,ln);function Af(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var jv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},LN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function GE(){}GE.prototype.h=null;function hC(t){return t.h||(t.h=t.i())}function FN(){}var Rf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function QE(){ln.call(this,"d")}Dt(QE,ln);function YE(){ln.call(this,"c")}Dt(YE,ln);var Wb;function Uv(){}Dt(Uv,GE);Uv.prototype.g=function(){return new XMLHttpRequest};Uv.prototype.i=function(){return{}};Wb=new Uv;function Pf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Od(this),this.P=HW,t=Vb?125:void 0,this.V=new Lv(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new VN}function VN(){this.i=null,this.g="",this.h=!1}var HW=45e3,Hb={},Dm={};Y=Pf.prototype;Y.setTimeout=function(t){this.P=t};function qb(t,e,n){t.L=1,t.v=Bv(Hi(e)),t.s=n,t.S=!0,jN(t,null)}function jN(t,e){t.G=Date.now(),kf(t),t.A=Hi(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),GN(n.i,"t",r),t.C=0,n=t.l.J,t.h=new VN,t.g=mM(t.l,n?e:null,!t.s),0<t.O&&(t.M=new jW(an(t.Pa,t,t.g),t.O)),$N(t.U,t.g,"readystatechange",t.nb),e=t.I?EN(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Nd(),UW(t.j,t.u,t.A,t.m,t.W,t.s)}Y.nb=function(t){t=t.target;const e=this.M;e&&ni(t)==3?e.l():this.Pa(t)};Y.Pa=function(t){try{if(t==this.g)e:{const u=ni(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||Vb||this.g&&(this.h.h||this.g.ja()||vC(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Nd(3):Nd(2)),zv(this);var n=this.g.da();this.ca=n;t:if(UN(this)){var r=vC(this.g);t="";var i=r.length,s=ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bo(this),Bu(this);var o="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,zW(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rd(a)){var c=a;break t}}c=null}if(n=c)yl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kb(this,n);else{this.i=!1,this.o=3,fn(12),Bo(this),Bu(this);break e}}this.S?(zN(this,u,o),Vb&&this.i&&u==3&&($N(this.U,this.V,"tick",this.mb),this.V.start())):(yl(this.j,this.m,o,null),Kb(this,o)),u==4&&Bo(this),this.i&&!this.J&&(u==4?dM(this.l,this):(this.i=!1,kf(this)))}else fH(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,fn(12)):(this.o=0,fn(13)),Bo(this),Bu(this)}}}catch{}finally{}};function UN(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function zN(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=qW(t,n),i==Dm){e==4&&(t.o=4,fn(14),r=!1),yl(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Hb){t.o=4,fn(15),yl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else yl(t.j,t.m,i,null),Kb(t,i);UN(t)&&i!=Dm&&i!=Hb&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,fn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),nx(e),e.M=!0,fn(11))):(yl(t.j,t.m,n,"[Invalid Chunked Response]"),Bo(t),Bu(t))}Y.mb=function(){if(this.g){var t=ni(this.g),e=this.g.ja();this.C<e.length&&(zv(this),zN(this,t,e),this.i&&t!=4&&kf(this))}};function qW(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Dm:(n=Number(e.substring(n,r)),isNaN(n)?Hb:(r+=1,r+n>e.length?Dm:(e=e.slice(r,r+n),t.C=r+n,e)))}Y.cancel=function(){this.J=!0,Bo(this)};function kf(t){t.Y=Date.now()+t.P,BN(t,t.P)}function BN(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Af(an(t.lb,t),e)}function zv(t){t.B&&(ce.clearTimeout(t.B),t.B=null)}Y.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(BW(this.j,this.A),this.L!=2&&(Nd(),fn(17)),Bo(this),this.o=2,Bu(this)):BN(this,this.Y-t)};function Bu(t){t.l.H==0||t.J||dM(t.l,t)}function Bo(t){zv(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,qE(t.V),ON(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Kb(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Gb(n.i,t))){if(!t.K&&Gb(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Vm(n),qv(n);else break e;tx(n),fn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Af(an(n.ib,n),6e3));if(1>=XN(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Wo(n,11)}else if((t.K||n.g==t)&&Vm(n),!Rd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const g=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(XE(s,s.h),s.h=null))}if(r.F){const m=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.Da=m,Be(r.I,r.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=pM(r,r.J?r.pa:null,r.Y),o.K){JN(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(zv(a),kf(a)),r.g=o}else cM(r);0<n.j.length&&Kv(n)}else c[0]!="stop"&&c[0]!="close"||Wo(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Wo(n,7):ex(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Nd(4)}catch{}}function KW(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ov(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function GW(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ov(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function WN(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ov(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=GW(t),r=KW(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var HN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QW(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Zo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Zo){this.h=t.h,Lm(this,t.j),this.s=t.s,this.g=t.g,Fm(this,t.m),this.l=t.l;var e=t.i,n=new Md;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),pC(this,n),this.o=t.o}else t&&(e=String(t).match(HN))?(this.h=!1,Lm(this,e[1]||"",!0),this.s=_u(e[2]||""),this.g=_u(e[3]||"",!0),Fm(this,e[4]),this.l=_u(e[5]||"",!0),pC(this,e[6]||"",!0),this.o=_u(e[7]||"")):(this.h=!1,this.i=new Md(null,this.h))}Zo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(bu(e,mC,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(bu(e,mC,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(bu(n,n.charAt(0)=="/"?JW:XW,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",bu(n,eH)),t.join("")};function Hi(t){return new Zo(t)}function Lm(t,e,n){t.j=n?_u(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function pC(t,e,n){e instanceof Md?(t.i=e,tH(t.i,t.h)):(n||(e=bu(e,ZW)),t.i=new Md(e,t.h))}function Be(t,e,n){t.i.set(e,n)}function Bv(t){return Be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function _u(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function bu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,YW),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function YW(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var mC=/[#\/\?@]/g,XW=/[#\?:]/g,JW=/[#\?]/g,ZW=/[#\?@]/g,eH=/#/g;function Md(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function bo(t){t.g||(t.g=new Map,t.h=0,t.i&&QW(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Y=Md.prototype;Y.add=function(t,e){bo(this),this.i=null,t=Ic(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function qN(t,e){bo(t),e=Ic(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function KN(t,e){return bo(t),e=Ic(t,e),t.g.has(e)}Y.forEach=function(t,e){bo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Y.ta=function(){bo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Y.Z=function(t){bo(this);let e=[];if(typeof t=="string")KN(this,t)&&(e=e.concat(this.g.get(Ic(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Y.set=function(t,e){return bo(this),this.i=null,t=Ic(this,t),KN(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function GN(t,e,n){qN(t,e),0<n.length&&(t.i=null,t.g.set(Ic(t,e),LE(n)),t.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ic(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function tH(t,e){e&&!t.j&&(bo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(qN(this,r),GN(this,i,n))},t)),t.j=e}var nH=class{constructor(t,e){this.g=t,this.map=e}};function QN(t){this.l=t||rH,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ka&&ce.g.Ka()&&ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rH=10;function YN(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function XN(t){return t.h?1:t.g?t.g.size:0}function Gb(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function XE(t,e){t.g?t.g.add(e):t.h=e}function JN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}QN.prototype.cancel=function(){if(this.i=ZN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ZN(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return LE(t.i)}var iH=class{stringify(t){return ce.JSON.stringify(t,void 0)}parse(t){return ce.JSON.parse(t,void 0)}};function sH(){this.g=new iH}function oH(t,e,n){const r=n||"";try{WN(t,function(i,s){let o=i;If(i)&&(o=WE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function aH(t,e){const n=new Fv;if(ce.Image){const r=new Image;r.onload=bh(Eh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=bh(Eh,n,r,"TestLoadImage: error",!1,e),r.onabort=bh(Eh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=bh(Eh,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Eh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function $f(t){this.l=t.ec||null,this.j=t.ob||!1}Dt($f,GE);$f.prototype.g=function(){return new Wv(this.l,this.j)};$f.prototype.i=function(t){return function(){return t}}({});function Wv(t,e){Nt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=JE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dt(Wv,Nt);var JE=0;Y=Wv.prototype;Y.open=function(t,e){if(this.readyState!=JE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Dd(this)};Y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Of(this)),this.readyState=JE};Y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Dd(this)),this.g&&(this.readyState=3,Dd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eM(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function eM(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Of(this):Dd(this),this.readyState==3&&eM(this)}};Y.Za=function(t){this.g&&(this.response=this.responseText=t,Of(this))};Y.Ya=function(t){this.g&&(this.response=t,Of(this))};Y.ka=function(){this.g&&Of(this)};function Of(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Dd(t)}Y.setRequestHeader=function(t,e){this.v.append(t,e)};Y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Dd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Wv.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var lH=ce.JSON.parse;function at(t){Nt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=tM,this.L=this.M=!1}Dt(at,Nt);var tM="",cH=/^https?$/i,uH=["POST","PUT"];Y=at.prototype;Y.Oa=function(t){this.M=t};Y.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wb.g(),this.C=this.u?hC(this.u):hC(Wb),this.g.onreadystatechange=an(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){gC(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ce.FormData&&t instanceof ce.FormData,!(0<=yN(uH,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{iM(this),0<this.B&&((this.L=dH(this.g))?(this.g.timeout=this.B,this.g.ontimeout=an(this.ua,this)):this.A=KE(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){gC(this,s)}};function dH(t){return Zl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Y.ua=function(){typeof DE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qt(this,"timeout"),this.abort(8))};function gC(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,nM(t),Hv(t)}function nM(t){t.F||(t.F=!0,Qt(t,"complete"),Qt(t,"error"))}Y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qt(this,"complete"),Qt(this,"abort"),Hv(this))};Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Hv(this,!0)),at.$.N.call(this)};Y.La=function(){this.s||(this.G||this.v||this.l?rM(this):this.kb())};Y.kb=function(){rM(this)};function rM(t){if(t.h&&typeof DE<"u"&&(!t.C[1]||ni(t)!=4||t.da()!=2)){if(t.v&&ni(t)==4)KE(t.La,0,t);else if(Qt(t,"readystatechange"),ni(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(HN)[1]||null;!i&&ce.self&&ce.self.location&&(i=ce.self.location.protocol.slice(0,-1)),r=!cH.test(i?i.toLowerCase():"")}n=r}if(n)Qt(t,"complete"),Qt(t,"success");else{t.m=6;try{var s=2<ni(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",nM(t)}}finally{Hv(t)}}}}function Hv(t,e){if(t.g){iM(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Qt(t,"ready");try{n.onreadystatechange=r}catch{}}}function iM(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}Y.isActive=function(){return!!this.g};function ni(t){return t.g?t.g.readyState:0}Y.da=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}};Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),lH(e)}};function vC(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case tM:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function fH(t){const e={};t=(t.g&&2<=ni(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Rd(t[r]))continue;var n=LW(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}PW(e,function(r){return r.join(", ")})}Y.Ia=function(){return this.m};Y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function sM(t){let e="";return VE(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ZE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=sM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Be(t,e,n))}function Qc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function oM(t){this.Ga=0,this.j=[],this.l=new Fv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qc("baseRetryDelayMs",5e3,t),this.hb=Qc("retryDelaySeedMs",1e4,t),this.eb=Qc("forwardChannelMaxRetries",2,t),this.xa=Qc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new QN(t&&t.concurrentRequestLimit),this.Ja=new sH,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Y=oM.prototype;Y.ra=8;Y.H=1;function ex(t){if(aM(t),t.H==3){var e=t.W++,n=Hi(t.I);if(Be(n,"SID",t.K),Be(n,"RID",e),Be(n,"TYPE","terminate"),Nf(t,n),e=new Pf(t,t.l,e),e.L=2,e.v=Bv(Hi(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon)try{n=ce.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ce.Image&&(new Image().src=e.v,n=!0),n||(e.g=mM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),kf(e)}hM(t)}function qv(t){t.g&&(nx(t),t.g.cancel(),t.g=null)}function aM(t){qv(t),t.u&&(ce.clearTimeout(t.u),t.u=null),Vm(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function Kv(t){if(!YN(t.i)&&!t.m){t.m=!0;var e=t.Na;kd||PN(),$d||(kd(),$d=!0),HE.add(e,t),t.C=0}}function hH(t,e){return XN(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Af(an(t.Na,t,e),fM(t,t.C)),t.C++,!0)}Y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Pf(this,this.l,t);let s=this.s;if(this.U&&(s?(s=EN(s),xN(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=lM(this,i,e),n=Hi(this.I),Be(n,"RID",t),Be(n,"CVER",22),this.F&&Be(n,"X-HTTP-Session-Id",this.F),Nf(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(sM(s)))+"&"+e:this.o&&ZE(n,this.o,s)),XE(this.i,i),this.bb&&Be(n,"TYPE","init"),this.P?(Be(n,"$req",e),Be(n,"SID","null"),i.aa=!0,qb(i,n,null)):qb(i,n,e),this.H=2}}else this.H==3&&(t?yC(this,t):this.j.length==0||YN(this.i)||yC(this))};function yC(t,e){var n;e?n=e.m:n=t.W++;const r=Hi(t.I);Be(r,"SID",t.K),Be(r,"RID",n),Be(r,"AID",t.V),Nf(t,r),t.o&&t.s&&ZE(r,t.o,t.s),n=new Pf(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=lM(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),XE(t.i,n),qb(n,r,e)}function Nf(t,e){t.na&&VE(t.na,function(n,r){Be(e,r,n)}),t.h&&WN({},function(n,r){Be(e,r,n)})}function lM(t,e,n){n=Math.min(t.j.length,n);var r=t.h?an(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const u=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{oH(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function cM(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;kd||PN(),$d||(kd(),$d=!0),HE.add(e,t),t.A=0}}function tx(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Af(an(t.Ma,t),fM(t,t.A)),t.A++,!0)}Y.Ma=function(){if(this.u=null,uM(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Af(an(this.jb,this),t)}};Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fn(10),qv(this),uM(this))};function nx(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function uM(t){t.g=new Pf(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Hi(t.wa);Be(e,"RID","rpc"),Be(e,"SID",t.K),Be(e,"AID",t.V),Be(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Be(e,"TO",t.qa),Be(e,"TYPE","xmlhttp"),Nf(t,e),t.o&&t.s&&ZE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Bv(Hi(e)),n.s=null,n.S=!0,jN(n,t)}Y.ib=function(){this.v!=null&&(this.v=null,qv(this),tx(this),fn(19))};function Vm(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function dM(t,e){var n=null;if(t.g==e){Vm(t),nx(t),t.g=null;var r=2}else if(Gb(t.i,e))n=e.F,JN(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Vv(),Qt(r,new DN(r,n)),Kv(t)}else cM(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&hH(t,e)||r==2&&tx(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Wo(t,5);break;case 4:Wo(t,10);break;case 3:Wo(t,6);break;default:Wo(t,2)}}}function fM(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Wo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=an(t.pb,t);n||(n=new Zo("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Lm(n,"https"),Bv(n)),aH(n.toString(),r)}else fn(2);t.H=0,t.h&&t.h.za(e),hM(t),aM(t)}Y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),fn(2)):(this.l.info("Failed to ping google.com"),fn(1))};function hM(t){if(t.H=0,t.ma=[],t.h){const e=ZN(t.i);(e.length!=0||t.j.length!=0)&&(lC(t.ma,e),lC(t.ma,t.j),t.i.i.length=0,LE(t.j),t.j.length=0),t.h.ya()}}function pM(t,e,n){var r=n instanceof Zo?Hi(n):new Zo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Fm(r,r.m);else{var i=ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Zo(null);r&&Lm(s,r),e&&(s.g=e),i&&Fm(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Be(r,n,e),Be(r,"VER",t.ra),Nf(t,r),r}function mM(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new at(new $f({ob:!0})):new at(t.va),e.Oa(t.J),e}Y.isActive=function(){return!!this.h&&this.h.isActive(this)};function gM(){}Y=gM.prototype;Y.Ba=function(){};Y.Aa=function(){};Y.za=function(){};Y.ya=function(){};Y.isActive=function(){return!0};Y.Va=function(){};function jm(){if(Zl&&!(10<=Number(IW)))throw Error("Environmental error: no available transport.")}jm.prototype.g=function(t,e){return new Jn(t,e)};function Jn(t,e){Nt.call(this),this.g=new oM(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Rd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Cc(this)}Dt(Jn,Nt);Jn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;fn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=pM(t,null,t.Y),Kv(t)};Jn.prototype.close=function(){ex(this.g)};Jn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=WE(t),t=n);e.j.push(new nH(e.fb++,t)),e.H==3&&Kv(e)};Jn.prototype.N=function(){this.g.h=null,delete this.j,ex(this.g),delete this.g,Jn.$.N.call(this)};function vM(t){QE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Dt(vM,QE);function yM(){YE.call(this),this.status=1}Dt(yM,YE);function Cc(t){this.g=t}Dt(Cc,gM);Cc.prototype.Ba=function(){Qt(this.g,"a")};Cc.prototype.Aa=function(t){Qt(this.g,new vM(t))};Cc.prototype.za=function(t){Qt(this.g,new yM)};Cc.prototype.ya=function(){Qt(this.g,"b")};function pH(){this.blockSize=-1}function Lr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Dt(Lr,pH);Lr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function q0(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Lr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)q0(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){q0(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){q0(this,r),i=0;break}}this.h=i,this.i+=e};Lr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Pe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var mH={};function rx(t){return-128<=t&&128>t?xW(t,function(e){return new Pe([e|0],0>e?-1:0)}):new Pe([t|0],0>t?-1:0)}function ri(t){if(isNaN(t)||!isFinite(t))return $l;if(0>t)return Ut(ri(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Qb;return new Pe(e,0)}function _M(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ut(_M(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ri(Math.pow(e,8)),r=$l,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ri(Math.pow(e,s)),r=r.R(s).add(ri(o))):(r=r.R(n),r=r.add(ri(o)))}return r}var Qb=4294967296,$l=rx(0),Yb=rx(1),_C=rx(16777216);Y=Pe.prototype;Y.ea=function(){if(cr(this))return-Ut(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Qb+r)*e,e*=Qb}return t};Y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if($i(this))return"0";if(cr(this))return"-"+Ut(this).toString(t);for(var e=ri(Math.pow(t,6)),n=this,r="";;){var i=zm(n,e).g;n=Um(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,$i(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function $i(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function cr(t){return t.h==-1}Y.X=function(t){return t=Um(this,t),cr(t)?-1:$i(t)?0:1};function Ut(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Pe(n,~t.h).add(Yb)}Y.abs=function(){return cr(this)?Ut(this):this};Y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Pe(n,n[n.length-1]&-2147483648?-1:0)};function Um(t,e){return t.add(Ut(e))}Y.R=function(t){if($i(this)||$i(t))return $l;if(cr(this))return cr(t)?Ut(this).R(Ut(t)):Ut(Ut(this).R(t));if(cr(t))return Ut(this.R(Ut(t)));if(0>this.X(_C)&&0>t.X(_C))return ri(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,xh(n,2*r+2*i),n[2*r+2*i+1]+=s*l,xh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,xh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,xh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Pe(n,0)};function xh(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Yc(t,e){this.g=t,this.h=e}function zm(t,e){if($i(e))throw Error("division by zero");if($i(t))return new Yc($l,$l);if(cr(t))return e=zm(Ut(t),e),new Yc(Ut(e.g),Ut(e.h));if(cr(e))return e=zm(t,Ut(e)),new Yc(Ut(e.g),e.h);if(30<t.g.length){if(cr(t)||cr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Yb,r=e;0>=r.X(t);)n=bC(n),r=bC(r);var i=Qa(n,1),s=Qa(r,1);for(r=Qa(r,2),n=Qa(n,2);!$i(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Qa(r,1),n=Qa(n,1)}return e=Um(t,i.R(e)),new Yc(i,e)}for(i=$l;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=ri(n),o=s.R(e);cr(o)||0<o.X(t);)n-=r,s=ri(n),o=s.R(e);$i(s)&&(s=Yb),i=i.add(s),t=Um(t,o)}return new Yc(i,t)}Y.gb=function(t){return zm(this,t).h};Y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Pe(n,this.h&t.h)};Y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Pe(n,this.h|t.h)};Y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Pe(n,this.h^t.h)};function bC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Pe(n,t.h)}function Qa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Pe(i,t.h)}jm.prototype.createWebChannel=jm.prototype.g;Jn.prototype.send=Jn.prototype.u;Jn.prototype.open=Jn.prototype.m;Jn.prototype.close=Jn.prototype.close;jv.NO_ERROR=0;jv.TIMEOUT=8;jv.HTTP_ERROR=6;LN.COMPLETE="complete";FN.EventType=Rf;Rf.OPEN="a";Rf.CLOSE="b";Rf.ERROR="c";Rf.MESSAGE="d";Nt.prototype.listen=Nt.prototype.O;at.prototype.listenOnce=at.prototype.P;at.prototype.getLastError=at.prototype.Sa;at.prototype.getLastErrorCode=at.prototype.Ia;at.prototype.getStatus=at.prototype.da;at.prototype.getResponseJson=at.prototype.Wa;at.prototype.getResponseText=at.prototype.ja;at.prototype.send=at.prototype.ha;at.prototype.setWithCredentials=at.prototype.Oa;Lr.prototype.digest=Lr.prototype.l;Lr.prototype.reset=Lr.prototype.reset;Lr.prototype.update=Lr.prototype.j;Pe.prototype.add=Pe.prototype.add;Pe.prototype.multiply=Pe.prototype.R;Pe.prototype.modulo=Pe.prototype.gb;Pe.prototype.compare=Pe.prototype.X;Pe.prototype.toNumber=Pe.prototype.ea;Pe.prototype.toString=Pe.prototype.toString;Pe.prototype.getBits=Pe.prototype.D;Pe.fromNumber=ri;Pe.fromString=_M;var gH=function(){return new jm},vH=function(){return Vv()},K0=jv,yH=LN,_H=Ca,wC={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bH=$f,Th=FN,wH=at,EH=Lr,Ol=Pe;const EC="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new bv("@firebase/firestore");function Xc(){return fa.logLevel}function te(t,...e){if(fa.logLevel<=ge.DEBUG){const n=e.map(ix);fa.debug(`Firestore (${Ac}): ${t}`,...n)}}function qi(t,...e){if(fa.logLevel<=ge.ERROR){const n=e.map(ix);fa.error(`Firestore (${Ac}): ${t}`,...n)}}function ec(t,...e){if(fa.logLevel<=ge.WARN){const n=e.map(ix);fa.warn(`Firestore (${Ac}): ${t}`,...n)}}function ix(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t="Unexpected state"){const e=`FIRESTORE (${Ac}) INTERNAL ASSERTION FAILED: `+t;throw qi(e),new Error(e)}function He(t,e){t||le()}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends mn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rn.UNAUTHENTICATED))}shutdown(){}}class TH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SH{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ws;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ws,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ws)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new bM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new rn(e)}}class IH{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class CH{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new IH(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AH{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RH{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new AH(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PH(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function tc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new st(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new st(0,0))}static max(){return new ue(new st(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ld.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ld?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class De extends Ld{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new De(n)}static emptyPath(){return new De([])}}const kH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Ld{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return kH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(De.fromString(e))}static fromName(e){return new se(De.fromString(e).popFirst(5))}static empty(){return new se(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new De(e.slice()))}}function $H(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new no(i,se.empty(),e)}function OH(t){return new no(t.readTime,t.key,-1)}class no{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new no(ue.min(),se.empty(),-1)}static max(){return new no(ue.max(),se.empty(),-1)}}function NH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==MH)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Df(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}sx._e=-1;function Gv(t){return t==null}function Bm(t){return t===0&&1/t==-1/0}function LH(t){return typeof t=="number"&&Number.isInteger(t)&&!Bm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Aa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sh(this.root,e,this.comparator,!0)}}class Sh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??jt.RED,this.left=i??jt.EMPTY,this.right=s??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();const e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,s){return this}insert(e,n,r){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TC(this.data.getIterator())}getIteratorFrom(e){return new TC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class TC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new Yt(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new xM("Invalid base64 string: "+s):s}}(e);return new un(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const FH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ro(t){if(He(!!t),typeof t=="string"){let e=0;const n=FH.exec(t);if(He(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(t.seconds),nanos:gt(t.nanos)}}function gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ha(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ox(t){const e=t.mapValue.fields.__previous_value__;return Qv(e)?ox(e):e}function Fd(t){const e=ro(t.mapValue.fields.__local_write_time__.timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Vd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Vd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Vd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qv(t)?4:jH(t)?9007199254740991:10:le()}function hi(t,e){if(t===e)return!0;const n=pa(t);if(n!==pa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fd(t).isEqual(Fd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ro(i.timestampValue),a=ro(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ha(i.bytesValue).isEqual(ha(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return gt(i.geoPointValue.latitude)===gt(s.geoPointValue.latitude)&&gt(i.geoPointValue.longitude)===gt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return gt(i.integerValue)===gt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=gt(i.doubleValue),a=gt(s.doubleValue);return o===a?Bm(o)===Bm(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return tc(t.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(xC(o)!==xC(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!hi(o[l],a[l])))return!1;return!0}(t,e);default:return le()}}function jd(t,e){return(t.values||[]).find(n=>hi(n,e))!==void 0}function nc(t,e){if(t===e)return 0;const n=pa(t),r=pa(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=gt(s.integerValue||s.doubleValue),l=gt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return SC(t.timestampValue,e.timestampValue);case 4:return SC(Fd(t),Fd(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ha(s),l=ha(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Se(a[c],l[c]);if(u!==0)return u}return Se(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Se(gt(s.latitude),gt(o.latitude));return a!==0?a:Se(gt(s.longitude),gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=nc(a[c],l[c]);if(u)return u}return Se(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ih.mapValue&&o===Ih.mapValue)return 0;if(s===Ih.mapValue)return 1;if(o===Ih.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=Se(l[d],u[d]);if(f!==0)return f;const h=nc(a[l[d]],c[u[d]]);if(h!==0)return h}return Se(l.length,u.length)}(t.mapValue,e.mapValue);default:throw le()}}function SC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=ro(t),r=ro(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function rc(t){return Xb(t)}function Xb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ro(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ha(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Xb(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Xb(n.fields[o])}`;return i+"}"}(t.mapValue):le()}function Wm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jb(t){return!!t&&"integerValue"in t}function ax(t){return!!t&&"arrayValue"in t}function IC(t){return!!t&&"nullValue"in t}function CC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ip(t){return!!t&&"mapValue"in t}function Wu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Aa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ip(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wu(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Wu(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ip(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ip(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Aa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new En(Wu(this.value))}}function TM(t){const e=[];return Aa(t.fields,(n,r)=>{const i=new Bt([n]);if(Ip(r)){const s=TM(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new on(e,0,ue.min(),ue.min(),ue.min(),En.empty(),0)}static newFoundDocument(e,n,r,i){return new on(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new on(e,2,n,ue.min(),ue.min(),En.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,ue.min(),ue.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n){this.position=e,this.inclusive=n}}function AC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=nc(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function RC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n="asc"){this.field=e,this.dir=n}}function UH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{}class yt extends SM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BH(e,n,r):n==="array-contains"?new qH(e,r):n==="in"?new KH(e,r):n==="not-in"?new GH(e,r):n==="array-contains-any"?new QH(e,r):new yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WH(e,r):new HH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(nc(n,this.value)):n!==null&&pa(this.value)===pa(n)&&this.matchesComparison(nc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends SM{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Fr(e,n)}matches(e){return IM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function IM(t){return t.op==="and"}function CM(t){return zH(t)&&IM(t)}function zH(t){for(const e of t.filters)if(e instanceof Fr)return!1;return!0}function Zb(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+rc(t.value);if(CM(t))return t.filters.map(e=>Zb(e)).join(",");{const e=t.filters.map(n=>Zb(n)).join(",");return`${t.op}(${e})`}}function AM(t,e){return t instanceof yt?function(r,i){return i instanceof yt&&r.op===i.op&&r.field.isEqual(i.field)&&hi(r.value,i.value)}(t,e):t instanceof Fr?function(r,i){return i instanceof Fr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&AM(o,i.filters[a]),!0):!1}(t,e):void le()}function RM(t){return t instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${rc(n.value)}`}(t):t instanceof Fr?function(n){return n.op.toString()+" {"+n.getFilters().map(RM).join(" ,")+"}"}(t):"Filter"}class BH extends yt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class WH extends yt{constructor(e,n){super(e,"in",n),this.keys=PM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HH extends yt{constructor(e,n){super(e,"not-in",n),this.keys=PM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class qH extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ax(n)&&jd(n.arrayValue,this.value)}}class KH extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jd(this.value.arrayValue,n)}}class GH extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jd(this.value.arrayValue,n)}}class QH extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ax(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function PC(t,e=null,n=[],r=[],i=null,s=null,o=null){return new YH(t,e,n,r,i,s,o)}function lx(t){const e=fe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Zb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Gv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rc(r)).join(",")),e.ce=n}return e.ce}function cx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!UH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!AM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RC(t.startAt,e.startAt)&&RC(t.endAt,e.endAt)}function e1(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function XH(t,e,n,r,i,s,o,a){return new Ra(t,e,n,r,i,s,o,a)}function kM(t){return new Ra(t)}function kC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ux(t){return t.collectionGroup!==null}function Nl(t){const e=fe(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Yt(Bt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ud(s,r))}),n.has(Bt.keyField().canonicalString())||e.le.push(new Ud(Bt.keyField(),r))}return e.le}function li(t){const e=fe(t);return e.he||(e.he=JH(e,Nl(t))),e.he}function JH(t,e){if(t.limitType==="F")return PC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ud(i.field,s)});const n=t.endAt?new ic(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ic(t.startAt.position,t.startAt.inclusive):null;return PC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function t1(t,e){const n=t.filters.concat([e]);return new Ra(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hm(t,e,n){return new Ra(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yv(t,e){return cx(li(t),li(e))&&t.limitType===e.limitType}function $M(t){return`${lx(li(t))}|lt:${t.limitType}`}function nl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>RM(i)).join(", ")}]`),Gv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>rc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>rc(i)).join(",")),`Target(${r})`}(li(t))}; limitType=${t.limitType})`}function Xv(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Nl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=AC(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Nl(r),i)||r.endAt&&!function(o,a,l){const c=AC(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Nl(r),i))}(t,e)}function ZH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OM(t){return(e,n)=>{let r=!1;for(const i of Nl(t)){const s=eq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function eq(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?nc(l,c):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return EM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq=new Ze(se.comparator);function Ki(){return tq}const NM=new Ze(se.comparator);function wu(...t){let e=NM;for(const n of t)e=e.insert(n.key,n);return e}function MM(t){let e=NM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ho(){return Hu()}function DM(){return Hu()}function Hu(){return new Rc(t=>t.toString(),(t,e)=>t.isEqual(e))}const nq=new Ze(se.comparator),rq=new Yt(se.comparator);function ve(...t){let e=rq;for(const n of t)e=e.add(n);return e}const iq=new Yt(Se);function sq(){return iq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bm(e)?"-0":e}}function FM(t){return{integerValue:""+t}}function oq(t,e){return LH(e)?FM(e):LM(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this._=void 0}}function aq(t,e,n){return t instanceof qm?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Qv(s)&&(s=ox(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof zd?jM(t,e):t instanceof Bd?UM(t,e):function(i,s){const o=VM(i,s),a=$C(o)+$C(i.Ie);return Jb(o)&&Jb(i.Ie)?FM(a):LM(i.serializer,a)}(t,e)}function lq(t,e,n){return t instanceof zd?jM(t,e):t instanceof Bd?UM(t,e):n}function VM(t,e){return t instanceof Km?function(r){return Jb(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class qm extends Jv{}class zd extends Jv{constructor(e){super(),this.elements=e}}function jM(t,e){const n=zM(e);for(const r of t.elements)n.some(i=>hi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bd extends Jv{constructor(e){super(),this.elements=e}}function UM(t,e){let n=zM(e);for(const r of t.elements)n=n.filter(i=>!hi(i,r));return{arrayValue:{values:n}}}class Km extends Jv{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function $C(t){return gt(t.integerValue||t.doubleValue)}function zM(t){return ax(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function cq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof zd&&i instanceof zd||r instanceof Bd&&i instanceof Bd?tc(r.elements,i.elements,hi):r instanceof Km&&i instanceof Km?hi(r.Ie,i.Ie):r instanceof qm&&i instanceof qm}(t.transform,e.transform)}class uq{constructor(e,n){this.version=e,this.transformResults=n}}class hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zv{}function BM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dx(t.key,hr.none()):new Lf(t.key,t.data,hr.none());{const n=t.data,r=En.empty();let i=new Yt(Bt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new wo(t.key,r,new Hn(i.toArray()),hr.none())}}function dq(t,e,n){t instanceof Lf?function(i,s,o){const a=i.value.clone(),l=NC(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wo?function(i,s,o){if(!Cp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=NC(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(WM(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function qu(t,e,n,r){return t instanceof Lf?function(s,o,a,l){if(!Cp(s.precondition,o))return a;const c=s.value.clone(),u=MC(s.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof wo?function(s,o,a,l){if(!Cp(s.precondition,o))return a;const c=MC(s.fieldTransforms,l,o),u=o.data;return u.setAll(WM(s)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Cp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function fq(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=VM(r.transform,i||null);s!=null&&(n===null&&(n=En.empty()),n.set(r.field,s))}return n||null}function OC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&tc(r,i,(s,o)=>cq(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lf extends Zv{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wo extends Zv{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function NC(t,e,n){const r=new Map;He(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,lq(o,a,n[i]))}return r}function MC(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,aq(s,o,e))}return r}class dx extends Zv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hq extends Zv{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&dq(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=qu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=qu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DM();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=BM(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&tc(this.mutations,e.mutations,(n,r)=>OC(n,r))&&tc(this.baseMutations,e.baseMutations,(n,r)=>OC(n,r))}}class fx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length);let i=function(){return nq}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new fx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,we;function vq(t){switch(t){default:return le();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function HM(t){if(t===void 0)return qi("GRPC error has no .code"),F.UNKNOWN;switch(t){case pt.OK:return F.OK;case pt.CANCELLED:return F.CANCELLED;case pt.UNKNOWN:return F.UNKNOWN;case pt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case pt.INTERNAL:return F.INTERNAL;case pt.UNAVAILABLE:return F.UNAVAILABLE;case pt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case pt.NOT_FOUND:return F.NOT_FOUND;case pt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case pt.ABORTED:return F.ABORTED;case pt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case pt.DATA_LOSS:return F.DATA_LOSS;default:return le()}}(we=pt||(pt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yq(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q=new Ol([4294967295,4294967295],0);function DC(t){const e=yq().encode(t),n=new EH;return n.update(e),new Uint8Array(n.digest())}function LC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ol([n,r],0),new Ol([i,s],0)]}class hx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Eu(`Invalid padding: ${n}`);if(r<0)throw new Eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Eu(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ol.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ol.fromNumber(r)));return i.compare(_q)===1&&(i=new Ol([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=DC(e),[r,i]=LC(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new hx(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=DC(e),[r,i]=LC(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ff.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ey(ue.min(),i,new Ze(Se),Ki(),ve())}}class Ff{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ff(r,n,ve(),ve(),ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class qM{constructor(e,n){this.targetId=e,this.fe=n}}class KM{constructor(e,n,r=un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class FC{constructor(){this.ge=0,this.pe=jC(),this.ye=un.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ve(),n=ve(),r=ve();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:le()}}),new Ff(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=jC()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class bq{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ki(),this.Qe=VC(),this.Ke=new Ze(Se)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(e1(s))if(r===0){const o=new se(s.path);this.We(n,o,on.newNoDocument(o,ue.min()))}else He(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ha(r).toUint8Array()}catch(l){if(l instanceof xM)return ec("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new hx(o,i,s)}catch(l){return ec(l instanceof Eu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&e1(a.target)){const l=new se(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,on.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ve();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new ey(e,n,this.Ke,this.qe,r);return this.qe=Ki(),this.Qe=VC(),this.Ke=new Ze(Se),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new FC,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Yt(Se),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new FC),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function VC(){return new Ze(se.comparator)}function jC(){return new Ze(se.comparator)}const wq=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Eq=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),xq=(()=>({and:"AND",or:"OR"}))();class Tq{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function n1(t,e){return t.useProto3Json||Gv(e)?e:{value:e}}function Gm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Sq(t,e){return Gm(t,e.toTimestamp())}function ci(t){return He(!!t),ue.fromTimestamp(function(n){const r=ro(n);return new st(r.seconds,r.nanos)}(t))}function px(t,e){return function(r){return new De(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function QM(t){const e=De.fromString(t);return He(ZM(e)),e}function r1(t,e){return px(t.databaseId,e.path)}function G0(t,e){const n=QM(e);if(n.get(1)!==t.databaseId.projectId)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(YM(n))}function i1(t,e){return px(t.databaseId,e)}function Iq(t){const e=QM(t);return e.length===4?De.emptyPath():YM(e)}function s1(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YM(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function UC(t,e,n){return{name:r1(t,e),fields:n.value.mapValue.fields}}function Cq(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(He(u===void 0||typeof u=="string"),un.fromBase64String(u||"")):(He(u===void 0||u instanceof Uint8Array),un.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?F.UNKNOWN:HM(c.code);return new X(u,c.message||"")}(o);n=new KM(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=G0(t,r.document.name),s=ci(r.document.updateTime),o=r.document.createTime?ci(r.document.createTime):ue.min(),a=new En({mapValue:{fields:r.document.fields}}),l=on.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ap(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=G0(t,r.document),s=r.readTime?ci(r.readTime):ue.min(),o=on.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ap([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=G0(t,r.document),s=r.removedTargetIds||[];n=new Ap([],s,i,null)}else{if(!("filter"in e))return le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new gq(i,s),a=r.targetId;n=new qM(a,o)}}return n}function Aq(t,e){let n;if(e instanceof Lf)n={update:UC(t,e.key,e.value)};else if(e instanceof dx)n={delete:r1(t,e.key)};else if(e instanceof wo)n={update:UC(t,e.key,e.data),updateMask:Lq(e.fieldMask)};else{if(!(e instanceof hq))return le();n={verify:r1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof qm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Km)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Sq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:le()}(t,e.precondition)),n}function Rq(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?ci(i.updateTime):ci(s);return o.isEqual(ue.min())&&(o=ci(s)),new uq(o,i.transformResults||[])}(n,e))):[]}function Pq(t,e){return{documents:[i1(t,e.path)]}}function kq(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=i1(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=i1(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return JM(Fr.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:rl(d.field),direction:Nq(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=n1(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function $q(t){let e=Iq(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(d){const f=XM(d);return f instanceof Fr&&CM(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(g){return new Ud(il(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Gv(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,h=d.values||[];return new ic(h,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,h=d.values||[];return new ic(h,f)}(n.endAt)),XH(e,i,o,s,a,"F",l,c)}function Oq(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=il(n.unaryFilter.field);return yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=il(n.unaryFilter.field);return yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=il(n.unaryFilter.field);return yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=il(n.unaryFilter.field);return yt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return yt.create(il(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fr.create(n.compositeFilter.filters.map(r=>XM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function Nq(t){return wq[t]}function Mq(t){return Eq[t]}function Dq(t){return xq[t]}function rl(t){return{fieldPath:t.canonicalString()}}function il(t){return Bt.fromServerFormat(t.fieldPath)}function JM(t){return t instanceof yt?function(n){if(n.op==="=="){if(CC(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NAN"}};if(IC(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CC(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NAN"}};if(IC(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(n.field),op:Mq(n.op),value:n.value}}}(t):t instanceof Fr?function(n){const r=n.getFilters().map(i=>JM(i));return r.length===1?r[0]:{compositeFilter:{op:Dq(n.op),filters:r}}}(t):le()}function Lq(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r,i,s=ue.min(),o=ue.min(),a=un.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e){this.ut=e}}function Vq(t){const e=$q({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(){this.on=new Uq}addToCollectionParentIndex(e,n){return this.on.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(no.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(no.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class Uq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Yt(De.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Yt(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new sc(0)}static Nn(){return new sc(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(){this.changes=new Rc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qu(r.mutation,i,Hn.empty(),st.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){const i=Ho();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=wu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ho();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ki();const o=Hu(),a=function(){return Hu()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof wo)?s=s.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),qu(u.mutation,c,u.mutation.getFieldMask(),st.now())):o.set(c.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new Bq(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Hu();let i=new Ze((o,a)=>o-a),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Hn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||ve()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=DM();u.forEach(f=>{if(!s.has(f)){const h=BM(n.get(f),r.get(f));h!==null&&d.set(f,h),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ux(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(Ho());let a=-1,l=s;return o.next(c=>j.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?j.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ve())).next(u=>({batchId:a,changes:MM(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=wu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=wu();return this.indexManager.getCollectionParents(e,s).next(a=>j.forEach(a,l=>{const c=function(d,f){return new Ra(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,on.newInvalidDocument(u)))});let a=wu();return o.forEach((l,c)=>{const u=s.get(l);u!==void 0&&qu(u.mutation,c,Hn.empty(),st.now()),Xv(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return j.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ci(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:Vq(i.bundledQuery),readTime:ci(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(){this.overlays=new Ze(se.comparator),this.lr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ho();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=Ho(),s=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ze((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=Ho(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ho(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return j.resolve(a)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new mq(n,r));let s=this.lr.get(n);s===void 0&&(s=ve(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.hr=new Yt(Ct.Pr),this.Ir=new Yt(Ct.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ct(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new se(new De([])),r=new Ct(n,e),i=new Ct(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new se(new De([])),r=new Ct(n,e),i=new Ct(n,e+1);let s=ve();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ct(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return se.comparator(e.key,n.key)||Se(e.gr,n.gr)}static Tr(e,n){return Se(e.gr,n.gr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Yt(Ct.Pr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pq(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),i=new Ct(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yt(Se);return n.forEach(i=>{const s=new Ct(i,0),o=new Ct(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),j.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new Ct(new se(s),0);let a=new Yt(Se);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.gr)),!0)},o),j.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return j.forEach(n.mutations,i=>{const s=new Ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Ct(n,0),i=this.yr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{constructor(e){this.Cr=e,this.docs=function(){return new Ze(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let r=Ki();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():on.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ki();const o=n.path,a=new se(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||NH(OH(u),r)<=0||(i.has(u.key)||Xv(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){le()}vr(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Qq(this)}getSize(e){return j.resolve(this.size)}}class Qq extends zq{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e){this.persistence=e,this.Fr=new Rc(n=>lx(n),cx),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Mr=0,this.Or=new mx,this.targetCount=0,this.Nr=sc.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),j.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new sc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.kn(n),j.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e,n){this.Br={},this.overlays={},this.Lr=new sx(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Yq(this),this.indexManager=new jq,this.remoteDocumentCache=function(i){return new Gq(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Fq(n),this.Kr=new Hq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Kq(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new Jq(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return j.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class Jq extends DH{constructor(e){super(),this.currentSequenceNumber=e}}class gx{constructor(e){this.persistence=e,this.Gr=new mx,this.zr=null}static jr(e){return new gx(e)}get Hr(){if(this.zr)return this.zr;throw le()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),j.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Hr,r=>{const i=se.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return j.or([()=>j.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ve(),i=ve();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new vx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Zq;return this.Hi(e,n,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Xc()<=ge.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",nl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),j.resolve()):(Xc()<=ge.DEBUG&&te("QueryEngine","Query:",nl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Xc()<=ge.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",nl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):j.resolve())}zi(e,n){if(kC(n))return j.resolve(null);let r=li(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Hm(n,null,"F"),r=li(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ve(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,o,l.readTime)?this.zi(e,Hm(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,r,i){return kC(n)||i.isEqual(ue.min())?j.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?j.resolve(null):(Xc()<=ge.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nl(n)),this.Xi(e,o,n,$H(i,-1)).next(a=>a))})}Yi(e,n){let r=new Yt(OM(e));return n.forEach((i,s)=>{Xv(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Xc()<=ge.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",nl(n)),this.Gi.getDocumentsMatchingQuery(e,n,no.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Ze(Se),this.ns=new Rc(s=>lx(s),cx),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wq(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function nK(t,e,n,r){return new tK(t,e,n,r)}async function eD(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ve();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}function rK(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,f=d.keys();let h=j.resolve();return f.forEach(g=>{h=h.next(()=>u.getEntry(l,g)).next(m=>{const y=c.docVersions.get(g);He(y!==null),m.version.compareTo(y)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),h.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ve();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function tD(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function iK(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];e.targetChanges.forEach((u,d)=>{const f=i.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(s,u.addedDocuments,d)));let h=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(un.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(d,h),function(m,y,v){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,h,u)&&a.push(n.qr.updateTargetData(s,h))});let l=Ki(),c=ve();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(sK(s,o,e.documentUpdates).next(u=>{l=u.us,c=u.cs})),!r.isEqual(ue.min())){const u=n.qr.getLastRemoteSnapshotVersion(s).next(d=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ts=i,s))}function sK(t,e,n){let r=ve(),i=ve();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ki();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:o,cs:i}})}function oK(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aK(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Is(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function o1(t,e,n){const r=fe(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Df(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function zC(t,e,n){const r=fe(t);let i=ue.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=fe(l),f=d.ns.get(u);return f!==void 0?j.resolve(d.ts.get(f)):d.qr.getTargetData(c,u)}(r,o,li(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:ve())).next(a=>(lK(r,ZH(e),a),{documents:a,ls:s})))}function lK(t,e,n){let r=t.rs.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class BC{constructor(){this.activeTargetIds=sq()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cK{constructor(){this.eo=new BC,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new BC,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch=null;function Q0(){return Ch===null?Ch=function(){return 268435456+Math.round(2147483648*Math.random())}():Ch++,"0x"+Ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class hK extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const a=Q0(),l=this.So(n,r);te("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,s,o),this.Do(n,l,c,i).then(u=>(te("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ec("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Co(n,r,i,s,o,a){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ac}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=dK[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=Q0();return new Promise((o,a)=>{const l=new wH;l.setWithCredentials(!0),l.listenOnce(yH.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case K0.NO_ERROR:const u=l.getResponseJson();te(tn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case K0.TIMEOUT:te(tn,`RPC '${e}' ${s} timed out`),a(new X(F.DEADLINE_EXCEEDED,"Request time out"));break;case K0.HTTP_ERROR:const d=l.getStatus();if(te(tn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const h=f==null?void 0:f.error;if(h&&h.status&&h.message){const g=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(v)>=0?v:F.UNKNOWN}(h.status);a(new X(g,h.message))}else a(new X(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(F.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{te(tn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);te(tn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}vo(e,n,r){const i=Q0(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gH(),a=vH(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new bH({})),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");te(tn,`Creating RPC '${e}' stream ${i}: ${u}`,l);const d=o.createWebChannel(u,l);let f=!1,h=!1;const g=new fK({co:y=>{h?te(tn,`Not sending because RPC '${e}' stream ${i} is closed:`,y):(f||(te(tn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),te(tn,`RPC '${e}' stream ${i} sending:`,y),d.send(y))},lo:()=>d.close()}),m=(y,v,_)=>{y.listen(v,b=>{try{_(b)}catch(w){setTimeout(()=>{throw w},0)}})};return m(d,Th.EventType.OPEN,()=>{h||te(tn,`RPC '${e}' stream ${i} transport opened.`)}),m(d,Th.EventType.CLOSE,()=>{h||(h=!0,te(tn,`RPC '${e}' stream ${i} transport closed`),g.Ro())}),m(d,Th.EventType.ERROR,y=>{h||(h=!0,ec(tn,`RPC '${e}' stream ${i} transport errored:`,y),g.Ro(new X(F.UNAVAILABLE,"The operation could not be completed")))}),m(d,Th.EventType.MESSAGE,y=>{var v;if(!h){const _=y.data[0];He(!!_);const b=_,w=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(w){te(tn,`RPC '${e}' stream ${i} received error:`,w);const E=w.status;let x=function(A){const C=pt[A];if(C!==void 0)return HM(C)}(E),S=w.message;x===void 0&&(x=F.INTERNAL,S="Unknown error status: "+E+" with message "+w.message),h=!0,g.Ro(new X(x,S)),d.close()}else te(tn,`RPC '${e}' stream ${i} received:`,_),g.Vo(_)}}),m(a,_H.STAT_EVENT,y=>{y.stat===wC.PROXY?te(tn,`RPC '${e}' stream ${i} detected buffering proxy`):y.stat===wC.NOPROXY&&te(tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ao()},0),g}}function Y0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){return new Tq(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,n,r,i,s,o,a,l){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new nD(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(qi(n.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new X(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pK extends rD{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=Cq(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?ci(o.readTime):ue.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=s1(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=e1(l)?{documents:Pq(s,l)}:{query:kq(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=GM(s,o.resumeToken);const c=n1(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=Gm(s,o.snapshotVersion.toTimestamp());const c=n1(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=Oq(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=s1(this.serializer),n.removeTarget=e,this.e_(n)}}class mK extends rD{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=Rq(e.writeResults,e.commitTime),r=ci(e.commitTime);return this.listener.I_(r,n)}return He(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=s1(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Aq(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(F.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(F.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class vK{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(qi(n),this.f_=!1):te("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yK{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Pa(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=fe(l);c.C_.add(4),await Vf(c),c.M_.set("Unknown"),c.C_.delete(4),await ny(c)}(this))})}),this.M_=new vK(r,i)}}async function ny(t){if(Pa(t))for(const e of t.v_)await e(!0)}async function Vf(t){for(const e of t.v_)await e(!1)}function iD(t,e){const n=fe(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),bx(n)?_x(n):Pc(n).Ho()&&yx(n,e))}function sD(t,e){const n=fe(t),r=Pc(n);n.D_.delete(e),r.Ho()&&oD(n,e),n.D_.size===0&&(r.Ho()?r.Zo():Pa(n)&&n.M_.set("Unknown"))}function yx(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pc(t).u_(e)}function oD(t,e){t.x_.Oe(e),Pc(t).c_(e)}function _x(t){t.x_=new bq({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Pc(t).start(),t.M_.g_()}function bx(t){return Pa(t)&&!Pc(t).jo()&&t.D_.size>0}function Pa(t){return fe(t).C_.size===0}function aD(t){t.x_=void 0}async function _K(t){t.D_.forEach((e,n)=>{yx(t,e)})}async function bK(t,e){aD(t),bx(t)?(t.M_.w_(e),_x(t)):t.M_.set("Unknown")}async function wK(t,e,n){if(t.M_.set("Online"),e instanceof KM&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.D_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.D_.delete(a),i.x_.removeTarget(a))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qm(t,r)}else if(e instanceof Ap?t.x_.$e(e):e instanceof qM?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(ue.min()))try{const r=await tD(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.D_.get(c);u&&s.D_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=s.D_.get(l);if(!u)return;s.D_.set(l,u.withResumeToken(un.EMPTY_BYTE_STRING,u.snapshotVersion)),oD(s,l);const d=new Is(u.target,l,c,u.sequenceNumber);yx(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await Qm(t,r)}}async function Qm(t,e,n){if(!Df(e))throw e;t.C_.add(1),await Vf(t),t.M_.set("Offline"),n||(n=()=>tD(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await ny(t)})}function lD(t,e){return e().catch(n=>Qm(t,n,e))}async function ry(t){const e=fe(t),n=io(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;EK(e);)try{const i=await oK(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,xK(e,i)}catch(i){await Qm(e,i)}cD(e)&&uD(e)}function EK(t){return Pa(t)&&t.b_.length<10}function xK(t,e){t.b_.push(e);const n=io(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function cD(t){return Pa(t)&&!io(t).jo()&&t.b_.length>0}function uD(t){io(t).start()}async function TK(t){io(t).E_()}async function SK(t){const e=io(t);for(const n of t.b_)e.P_(n.mutations)}async function IK(t,e,n){const r=t.b_.shift(),i=fx.from(r,e,n);await lD(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ry(t)}async function CK(t,e){e&&io(t).h_&&await async function(r,i){if(function(o){return vq(o)&&o!==F.ABORTED}(i.code)){const s=r.b_.shift();io(r).Yo(),await lD(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ry(r)}}(t,e),cD(t)&&uD(t)}async function HC(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=Pa(n);n.C_.add(3),await Vf(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await ny(n)}async function AK(t,e){const n=fe(t);e?(n.C_.delete(2),await ny(n)):e||(n.C_.add(2),await Vf(n),n.M_.set("Unknown"))}function Pc(t){return t.O_||(t.O_=function(n,r,i){const s=fe(n);return s.A_(),new pK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:_K.bind(null,t),Io:bK.bind(null,t),a_:wK.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),bx(t)?_x(t):t.M_.set("Unknown")):(await t.O_.stop(),aD(t))})),t.O_}function io(t){return t.N_||(t.N_=function(n,r,i){const s=fe(n);return s.A_(),new mK(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:TK.bind(null,t),Io:CK.bind(null,t),T_:SK.bind(null,t),I_:IK.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await ry(t)):(await t.N_.stop(),t.b_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new wx(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ex(t,e){if(qi("AsyncQueue",`${e}: ${t}`),Df(t))return new X(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=wu(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new Ml(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ml)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ml;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.B_=new Ze(se.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):le():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class oc{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new oc(e,n,Ml.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(){this.k_=void 0,this.listeners=[]}}class PK{constructor(){this.queries=new Rc(e=>$M(e),Yv),this.onlineState="Unknown",this.q_=new Set}}async function kK(t,e){const n=fe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new RK),i)try{s.k_=await n.onListen(r)}catch(o){const a=Ex(o,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&xx(n)}async function $K(t,e){const n=fe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function OK(t,e){const n=fe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&xx(n)}function NK(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function xx(t){t.q_.forEach(e=>{e.next()})}class MK{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.key=e}}class fD{constructor(e){this.key=e}}class DK{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ve(),this.mutatedKeys=ve(),this._a=OM(e),this.aa=new Ml(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new qC,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const f=i.get(u),h=Xv(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let y=!1;f&&h?f.data.isEqual(h.data)?g!==m&&(r.track({type:3,doc:h}),y=!0):this.ha(f,h)||(r.track({type:2,doc:h}),y=!0,(l&&this._a(h,l)>0||c&&this._a(h,c)<0)&&(a=!0)):!f&&h?(r.track({type:0,doc:h}),y=!0):f&&!h&&(r.track({type:1,doc:f}),y=!0,(l||c)&&(a=!0)),y&&(h?(o=o.add(h),s=m?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((c,u)=>function(f,h){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le()}};return g(f)-g(h)}(c.type,u.type)||this._a(c.doc,u.doc)),this.Pa(r);const o=n?this.Ia():[],a=this.oa.size===0&&this.current?1:0,l=a!==this.sa;return this.sa=a,s.length!==0||l?{snapshot:new oc(this.query,e.aa,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new qC,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ve(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new fD(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new dD(r))}),n}da(e){this.ia=e.ls,this.oa=ve();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return oc.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class LK{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class FK{constructor(e){this.key=e,this.Ra=!1}}class VK{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Rc(a=>$M(a),Yv),this.fa=new Map,this.ga=new Set,this.pa=new Ze(se.comparator),this.ya=new Map,this.wa=new mx,this.Sa={},this.ba=new Map,this.Da=sc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function jK(t,e){const n=YK(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await aK(n.localStore,li(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await UK(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&iD(n.remoteStore,o)}return i}async function UK(t,e,n,r,i){t.va=(d,f,h)=>async function(m,y,v,_){let b=y.view.ca(v);b.Zi&&(b=await zC(m.localStore,y.query,!1).then(({documents:x})=>y.view.ca(x,b)));const w=_&&_.targetChanges.get(y.targetId),E=y.view.applyChanges(b,m.isPrimaryClient,w);return GC(m,y.targetId,E.Ta),E.snapshot}(t,d,f,h);const s=await zC(t.localStore,e,!0),o=new DK(e,s.ls),a=o.ca(s.documents),l=Ff.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);GC(t,n,c.Ta);const u=new LK(e,n,o);return t.ma.set(e,u),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),c.snapshot}async function zK(t,e){const n=fe(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!Yv(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await o1(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),sD(n.remoteStore,r.targetId),a1(n,r.targetId)}).catch(Mf)):(a1(n,r.targetId),await o1(n.localStore,r.targetId,!0))}async function BK(t,e,n){const r=XK(t);try{const i=await function(o,a){const l=fe(o),c=st.now(),u=a.reduce((h,g)=>h.add(g.key),ve());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let g=Ki(),m=ve();return l.ss.getEntries(h,u).next(y=>{g=y,g.forEach((v,_)=>{_.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,g)).next(y=>{d=y;const v=[];for(const _ of a){const b=fq(_,d.get(_.key).overlayedDocument);b!=null&&v.push(new wo(_.key,b,TM(b.value.mapValue),hr.exists(!0)))}return l.mutationQueue.addMutationBatch(h,c,v,a)}).next(y=>{f=y;const v=y.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(h,y.batchId,v)})}).then(()=>({batchId:f.batchId,changes:MM(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new Ze(Se)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(r,i.batchId,n),await jf(r,i.changes),await ry(r.remoteStore)}catch(i){const s=Ex(i,"Failed to persist write");n.reject(s)}}async function hD(t,e){const n=fe(t);try{const r=await iK(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?He(o.Ra):i.removedDocuments.size>0&&(He(o.Ra),o.Ra=!1))}),await jf(n,r,e)}catch(r){await Mf(r)}}function KC(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=fe(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.listeners)f.Q_(a)&&(c=!0)}),c&&xx(l)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WK(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Ze(se.comparator);o=o.insert(s,on.newNoDocument(s,ue.min()));const a=ve().add(s),l=new ey(ue.min(),new Map,new Ze(Se),o,a);await hD(r,l),r.pa=r.pa.remove(s),r.ya.delete(e),Tx(r)}else await o1(r.localStore,e,!1).then(()=>a1(r,e,n)).catch(Mf)}async function HK(t,e){const n=fe(t),r=e.batch.batchId;try{const i=await rK(n.localStore,e);mD(n,r,null),pD(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jf(n,i)}catch(i){await Mf(i)}}async function qK(t,e,n){const r=fe(t);try{const i=await function(o,a){const l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(He(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);mD(r,e,n),pD(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jf(r,i)}catch(i){await Mf(i)}}function pD(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function mD(t,e,n){const r=fe(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function a1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||gD(t,r)})}function gD(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(sD(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),Tx(t))}function GC(t,e,n){for(const r of n)r instanceof dD?(t.wa.addReference(r.key,e),KK(t,r)):r instanceof fD?(te("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||gD(t,r.key)):le()}function KK(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(te("SyncEngine","New document in limbo: "+n),t.ga.add(r),Tx(t))}function Tx(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new se(De.fromString(e)),r=t.Da.next();t.ya.set(r,new FK(n)),t.pa=t.pa.insert(n,r),iD(t.remoteStore,new Is(li(kM(n.path)),r,"TargetPurposeLimboResolution",sx._e))}}async function jf(t,e,n){const r=fe(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=vx.Qi(l.targetId,c);s.push(u)}}))}),await Promise.all(o),r.Va.a_(i),await async function(l,c){const u=fe(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>j.forEach(c,f=>j.forEach(f.ki,h=>u.persistence.referenceDelegate.addReference(d,f.targetId,h)).next(()=>j.forEach(f.qi,h=>u.persistence.referenceDelegate.removeReference(d,f.targetId,h)))))}catch(d){if(!Df(d))throw d;te("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const h=u.ts.get(f),g=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(g);u.ts=u.ts.insert(f,m)}}}(r.localStore,s))}async function GK(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await eD(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(a=>{a.forEach(l=>{l.reject(new X(F.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jf(n,r._s)}}function QK(t,e){const n=fe(t),r=n.ya.get(e);if(r&&r.Ra)return ve().add(r.key);{let i=ve();const s=n.fa.get(e);if(!s)return i;for(const o of s){const a=n.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function YK(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WK.bind(null,e),e.Va.a_=OK.bind(null,e.eventManager),e.Va.Fa=NK.bind(null,e.eventManager),e}function XK(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HK.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qK.bind(null,e),e}class QC{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ty(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return nK(this.persistence,new eK,e.initialUser,this.serializer)}createPersistence(e){return new Xq(gx.jr,this.serializer)}createSharedClientState(e){return new cK}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class JK{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GK.bind(null,this.syncEngine),await AK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PK}()}createDatastore(e){const n=ty(e.databaseInfo.databaseId),r=function(s){return new hK(s)}(e.databaseInfo);return function(s,o,a,l){return new gK(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new yK(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>KC(this.syncEngine,n,0),function(){return WC.D()?new WC:new uK}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,u){const d=new VK(i,s,o,a,l,c);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=fe(n);te("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Vf(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZK{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rn.UNAUTHENTICATED,this.clientId=wM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{te("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ex(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function X0(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await eD(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function YC(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nG(t);te("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>HC(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>HC(e.remoteStore,s)),t._onlineComponents=e}function tG(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function nG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await X0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!tG(n))throw n;ec("Error using user provided cache. Falling back to memory cache: "+n),await X0(t,new QC)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await X0(t,new QC);return t._offlineComponents}async function vD(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await YC(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await YC(t,new JK))),t._onlineComponents}function rG(t){return vD(t).then(e=>e.syncEngine)}async function iG(t){const e=await vD(t),n=e.eventManager;return n.onListen=jK.bind(null,e.syncEngine),n.onUnlisten=zK.bind(null,e.syncEngine),n}function sG(t,e,n={}){const r=new Ws;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const u=new ZK({next:f=>{o.enqueueAndForget(()=>$K(s,d)),f.fromCache&&l.source==="server"?c.reject(new X(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new MK(a,u,{includeMetadataChanges:!0,J_:!0});return kK(s,d)}(await iG(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t,e,n){if(!n)throw new X(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oG(t,e,n,r){if(e===!0&&r===!0)throw new X(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function JC(t){if(!se.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ZC(t){if(se.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function Gi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=iy(t);throw new X(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function aG(t,e){if(e<=0)throw new X(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e2(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new xH;switch(r.type){case"firstParty":return new CH(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=XC.get(n);r&&(te("ComponentProvider","Removing Datastore"),XC.delete(n),r.terminate())}(this),Promise.resolve()}}function lG(t,e,n,r={}){var i;const s=(t=Gi(t,sy))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ec("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=rn.MOCK_USER;else{a=OV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new X(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new rn(c)}t._authCredentials=new TH(new bM(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class Hs extends rs{constructor(e,n,r){super(e,n,kM(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new se(e))}withConverter(e){return new Hs(this.firestore,e,this._path)}}function It(t,e,...n){if(t=de(t),_D("collection","path",e),t instanceof sy){const r=De.fromString(e,...n);return ZC(r),new Hs(t,null,r)}{if(!(t instanceof Pn||t instanceof Hs))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return ZC(r),new Hs(t.firestore,null,r)}}function ys(t,e,...n){if(t=de(t),arguments.length===1&&(e=wM.newId()),_D("doc","path",e),t instanceof sy){const r=De.fromString(e,...n);return JC(r),new Pn(t,null,new se(r))}{if(!(t instanceof Pn||t instanceof Hs))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return JC(r),new Pn(t.firestore,t instanceof Hs?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new nD(this,"async_queue_retry"),this.iu=()=>{const n=Y0();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Y0();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Y0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Ws;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Df(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw qi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=wx.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&le()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class kc extends sy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new cG}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||wD(this),this._firestoreClient.terminate()}}function uG(t,e){const n=typeof t=="object"?t:yE(),r=typeof t=="string"?t:e||"(default)",i=yf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=kV("firestore");s&&lG(i,...s)}return i}function bD(t){return t._firestoreClient||wD(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wD(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,u){return new VH(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,yD(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new eG(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ac(un.fromBase64String(e))}catch(n){throw new X(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ac(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=/^__.*__$/;class fG{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lf(e,this.data,n,this.fieldTransforms)}}class ED{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}class Cx{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Cx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Ym(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(xD(this.Iu)&&dG.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class hG{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ty(e)}pu(e,n,r,i=!1){return new Cx({Iu:e,methodName:n,gu:r,path:Bt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uf(t){const e=t._freezeSettings(),n=ty(t._databaseId);return new hG(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TD(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);Ax("Data must be an object, but it was:",o,r);const a=ID(r,o);let l,c;if(s.merge)l=new Hn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const f=l1(e,d,n);if(!o.contains(f))throw new X(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);AD(u,f)||u.push(f)}l=new Hn(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new fG(new En(a),l,c)}class ay extends Sx{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ay}}function pG(t,e,n,r){const i=t.pu(1,e,n);Ax("Data must be an object, but it was:",i,r);const s=[],o=En.empty();Aa(r,(l,c)=>{const u=Rx(e,l,n);c=de(c);const d=i.Ru(u);if(c instanceof ay)s.push(u);else{const f=zf(c,d);f!=null&&(s.push(u),o.set(u,f))}});const a=new Hn(s);return new ED(o,a,i.fieldTransforms)}function mG(t,e,n,r,i,s){const o=t.pu(1,e,n),a=[l1(e,r,n)],l=[i];if(s.length%2!=0)throw new X(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(l1(e,s[f])),l.push(s[f+1]);const c=[],u=En.empty();for(let f=a.length-1;f>=0;--f)if(!AD(c,a[f])){const h=a[f];let g=l[f];g=de(g);const m=o.Ru(h);if(g instanceof ay)c.push(h);else{const y=zf(g,m);y!=null&&(c.push(h),u.set(h,y))}}const d=new Hn(c);return new ED(u,d,o.fieldTransforms)}function SD(t,e,n,r=!1){return zf(n,t.pu(r?4:3,e))}function zf(t,e){if(CD(t=de(t)))return Ax("Unsupported field value:",e,t),ID(t,e);if(t instanceof Sx)return function(r,i){if(!xD(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=zf(a,i.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=de(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=st.fromDate(r);return{timestampValue:Gm(i.serializer,s)}}if(r instanceof st){const s=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gm(i.serializer,s)}}if(r instanceof Ix)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ac)return{bytesValue:GM(i.serializer,r._byteString)};if(r instanceof Pn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:px(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${iy(r)}`)}(t,e)}function ID(t,e){const n={};return EM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(t,(r,i)=>{const s=zf(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function CD(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof st||t instanceof Ix||t instanceof ac||t instanceof Pn||t instanceof Sx)}function Ax(t,e,n){if(!CD(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=iy(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function l1(t,e,n){if((e=de(e))instanceof oy)return e._internalPath;if(typeof e=="string")return Rx(t,e);throw Ym("Field path arguments must be of type string or ",t,!1,void 0,n)}const gG=new RegExp("[~\\*/\\[\\]]");function Rx(t,e,n){if(e.search(gG)>=0)throw Ym(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new oy(...e.split("."))._internalPath}catch{throw Ym(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ym(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new X(F.INVALID_ARGUMENT,a+t+l)}function AD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ly("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vG extends Px{data(){return super.data()}}function ly(t,e){return typeof e=="string"?Rx(t,e):e instanceof oy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yG(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kx{}class cy extends kx{}function Ln(t,e,...n){let r=[];e instanceof kx&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof $x).length,a=s.filter(l=>l instanceof uy).length;if(o>1||o>0&&a>0)throw new X(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class uy extends cy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new uy(e,n,r)}_apply(e){const n=this._parse(e);return PD(e._query,n),new rs(e.firestore,e.converter,t1(e._query,n))}_parse(e){const n=Uf(e.firestore);return function(s,o,a,l,c,u,d){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new X(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){n2(d,u);const h=[];for(const g of d)h.push(t2(l,s,g));f={arrayValue:{values:h}}}else f=t2(l,s,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||n2(d,u),f=SD(a,o,d,u==="in"||u==="not-in");return yt.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gr(t,e,n){const r=e,i=ly("where",t);return uy._create(i,r,n)}class $x extends kx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $x(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)PD(o,l),o=t1(o,l)}(e._query,n),new rs(e.firestore,e.converter,t1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ox extends cy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ox(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new X(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new X(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ud(s,o)}(e._query,this._field,this._direction);return new rs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ra(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Wd(t,e="asc"){const n=e,r=ly("orderBy",t);return Ox._create(r,n)}class Nx extends cy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Nx(e,n,r)}_apply(e){return new rs(e.firestore,e.converter,Hm(e._query,this._limit,this._limitType))}}function Ku(t){return aG("limit",t),Nx._create("limit",t,"F")}class Mx extends cy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Mx(e,n,r)}_apply(e){const n=_G(e,this.type,this._docOrFields,this._inclusive);return new rs(e.firestore,e.converter,function(i,s){return new Ra(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function RD(...t){return Mx._create("startAfter",t,!1)}function _G(t,e,n,r){if(n[0]=de(n[0]),n[0]instanceof Px)return function(s,o,a,l,c){if(!l)throw new X(F.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const d of Nl(s))if(d.field.isKeyField())u.push(Wm(o,l.key));else{const f=l.data.field(d.field);if(Qv(f))throw new X(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const h=d.field.canonicalString();throw new X(F.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${h}' (used as the orderBy) does not exist.`)}u.push(f)}return new ic(u,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Uf(t.firestore);return function(o,a,l,c,u,d){const f=o.explicitOrderBy;if(u.length>f.length)throw new X(F.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const h=[];for(let g=0;g<u.length;g++){const m=u[g];if(f[g].field.isKeyField()){if(typeof m!="string")throw new X(F.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof m}`);if(!ux(o)&&m.indexOf("/")!==-1)throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${m}' contains a slash.`);const y=o.path.child(De.fromString(m));if(!se.isDocumentKey(y))throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const v=new se(y);h.push(Wm(a,v))}else{const y=SD(l,c,m);h.push(y)}}return new ic(h,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function t2(t,e,n){if(typeof(n=de(n))=="string"){if(n==="")throw new X(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ux(e)&&n.indexOf("/")!==-1)throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(De.fromString(n));if(!se.isDocumentKey(r))throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wm(t,new se(r))}if(n instanceof Pn)return Wm(t,n._key);throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${iy(n)}.`)}function n2(t,e){if(!Array.isArray(t)||t.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PD(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bG{convertValue(e,n="none"){switch(pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Aa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ix(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ox(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fd(e));default:return null}}convertTimestamp(e){const n=ro(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);He(ZM(r));const i=new Vd(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||qi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wG extends Px{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ly("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rp extends wG{data(e={}){return super.data(e)}}class EG{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ah(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rp(this._firestore,this._userDataWriter,r.key,r,new Ah(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Rp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ah(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Rp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ah(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:xG(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le()}}class TG extends bG{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function Fn(t){t=Gi(t,rs);const e=Gi(t.firestore,kc),n=bD(e),r=new TG(e);return yG(t._query),sG(n,t._query).then(i=>new EG(e,r,t,i))}function Rh(t,e,n){t=Gi(t,Pn);const r=Gi(t.firestore,kc),i=kD(t.converter,e,n);return dy(r,[TD(Uf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hr.none())])}function SG(t,e,n,...r){t=Gi(t,Pn);const i=Gi(t.firestore,kc),s=Uf(i);let o;return o=typeof(e=de(e))=="string"||e instanceof oy?mG(s,"updateDoc",t._key,e,n,r):pG(s,"updateDoc",t._key,e),dy(i,[o.toMutation(t._key,hr.exists(!0))])}function r2(t){return dy(Gi(t.firestore,kc),[new dx(t._key,hr.none())])}function IG(t,e){const n=Gi(t.firestore,kc),r=ys(t),i=kD(t.converter,e);return dy(n,[TD(Uf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,hr.exists(!1))]).then(()=>r)}function dy(t,e){return function(r,i){const s=new Ws;return r.asyncQueue.enqueueAndForget(async()=>BK(await rG(r),i,s)),s.promise}(bD(t),e)}(function(e,n=!0){(function(i){Ac=i})(vo),eo(new Bi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new kc(new SH(r.getProvider("auth-internal")),new RH(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vd(c.options.projectId,u)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),kr(EC,"4.3.2",e),kr(EC,"4.3.2","esm2017")})();const CG={apiKey:"AIzaSyCzKpSc68iGDFaGNP0VIvhYGab48loEkd4",authDomain:"split-bill-427e2.firebaseapp.com",projectId:"split-bill-427e2",storageBucket:"split-bill-427e2.appspot.com",messagingSenderId:"98401231170",appId:"1:98401231170:web:61f1eed1898e81f42768db",measurementId:"G-27Q3NY7SXE"},$D=wv(CG),Dx=Sf($D),Vt=uG($D),c1="/assets/menu-outline-23963ee5.svg",AG="/assets/output-onlinepngtools-b75ef400.png";function gi(t,e=[]){let n=[];function r(s,o){const a=p.createContext(o),l=n.length;n=[...n,o];function c(d){const{scope:f,children:h,...g}=d,m=(f==null?void 0:f[t][l])||a,y=p.useMemo(()=>g,Object.values(g));return p.createElement(m.Provider,{value:y},h)}function u(d,f){const h=(f==null?void 0:f[t][l])||a,g=p.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,RG(i,...e)]}function RG(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Pt(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}const Vr=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{};function PG(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Bf(...t){return e=>t.forEach(n=>PG(n,e))}function et(...t){return p.useCallback(Bf(...t),t)}const ma=p.forwardRef((t,e)=>{const{children:n,...r}=t,i=p.Children.toArray(n),s=i.find($G);if(s){const o=s.props.children,a=i.map(l=>l===s?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:l);return p.createElement(u1,W({},r,{ref:e}),p.isValidElement(o)?p.cloneElement(o,void 0,a):null)}return p.createElement(u1,W({},r,{ref:e}),n)});ma.displayName="Slot";const u1=p.forwardRef((t,e)=>{const{children:n,...r}=t;return p.isValidElement(n)?p.cloneElement(n,{...OG(r,n.props),ref:e?Bf(e,n.ref):n.ref}):p.Children.count(n)>1?p.Children.only(null):null});u1.displayName="SlotClone";const kG=({children:t})=>p.createElement(p.Fragment,null,t);function $G(t){return p.isValidElement(t)&&t.type===kG}function OG(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const NG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ye=NG.reduce((t,e)=>{const n=p.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?ma:e;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(a,W({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Xm(t,e){t&&xa.flushSync(()=>t.dispatchEvent(e))}const OD="Avatar",[MG,Xpe]=gi(OD),[DG,ND]=MG(OD),LG=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=p.useState("idle");return p.createElement(DG,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s},p.createElement(ye.span,W({},r,{ref:e})))}),FG="AvatarImage",VG=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=ND(FG,n),a=zG(r),l=Pt(c=>{i(c),o.onImageLoadingStatusChange(c)});return Vr(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?p.createElement(ye.img,W({},s,{ref:e,src:r})):null}),jG="AvatarFallback",UG=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=ND(jG,n),[o,a]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?p.createElement(ye.span,W({},i,{ref:e})):null});function zG(t){const[e,n]=p.useState("idle");return p.useEffect(()=>{if(!t){n("error");return}let r=!0;const i=new window.Image,s=o=>()=>{r&&n(o)};return n("loading"),i.onload=s("loaded"),i.onerror=s("error"),i.src=t,()=>{r=!1}},[t]),e}const MD=LG,DD=VG,LD=UG;function FD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=FD(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function VD(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=FD(t))&&(r&&(r+=" "),r+=e);return r}function BG(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=jD(e))&&(r&&(r+=" "),r+=n);return r}function jD(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=jD(t[r]))&&(n&&(n+=" "),n+=e);return n}var Lx="-";function WG(t){var e=qG(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,i=r===void 0?{}:r;function s(a){var l=a.split(Lx);return l[0]===""&&l.length!==1&&l.shift(),UD(l,e)||HG(a)}function o(a,l){var c=n[a]||[];return l&&i[a]?[].concat(c,i[a]):c}return{getClassGroupId:s,getConflictingClassGroupIds:o}}function UD(t,e){var o;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),i=r?UD(t.slice(1),r):void 0;if(i)return i;if(e.validators.length!==0){var s=t.join(Lx);return(o=e.validators.find(function(a){var l=a.validator;return l(s)}))==null?void 0:o.classGroupId}}var i2=/^\[(.+)\]$/;function HG(t){if(i2.test(t)){var e=i2.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function qG(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=GG(Object.entries(t.classGroups),n);return i.forEach(function(s){var o=s[0],a=s[1];d1(a,r,o,e)}),r}function d1(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var s=i===""?e:s2(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(KG(i)){d1(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var a=o[0],l=o[1];d1(l,s2(e,a),n,r)})})}function s2(t,e){var n=t;return e.split(Lx).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function KG(t){return t.isThemeGetter}function GG(t,e){return e?t.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):o});return[r,s]}):t}function QG(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):i(o,a)}}}var zD="!";function YG(t){var e=t.separator||":",n=e.length===1,r=e[0],i=e.length;return function(o){for(var a=[],l=0,c=0,u,d=0;d<o.length;d++){var f=o[d];if(l===0){if(f===r&&(n||o.slice(d,d+i)===e)){a.push(o.slice(c,d)),c=d+i;continue}if(f==="/"){u=d;continue}}f==="["?l++:f==="]"&&l--}var h=a.length===0?o:o.substring(c),g=h.startsWith(zD),m=g?h.substring(1):h,y=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:y}}}function XG(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function JG(t){return{cache:QG(t.cacheSize),splitModifiers:YG(t),...WG(t)}}var ZG=/\s+/;function eQ(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return t.trim().split(ZG).map(function(o){var a=n(o),l=a.modifiers,c=a.hasImportantModifier,u=a.baseClassName,d=a.maybePostfixModifierPosition,f=r(d?u.substring(0,d):u),h=!!d;if(!f){if(!d)return{isTailwindClass:!1,originalClassName:o};if(f=r(u),!f)return{isTailwindClass:!1,originalClassName:o};h=!1}var g=XG(l).join(":"),m=c?g+zD:g;return{isTailwindClass:!0,modifierId:m,classGroupId:f,originalClassName:o,hasPostfixModifier:h}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,l=o.classGroupId,c=o.hasPostfixModifier,u=a+l;return s.has(u)?!1:(s.add(u),i(l,c).forEach(function(d){return s.add(a+d)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function tQ(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,s,o=a;function a(c){var u=e[0],d=e.slice(1),f=d.reduce(function(h,g){return g(h)},u());return r=JG(f),i=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){var u=i(c);if(u)return u;var d=eQ(c,r);return s(c,d),d}return function(){return o(BG.apply(null,arguments))}}function Fe(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var BD=/^\[(?:([a-z-]+):)?(.+)\]$/i,nQ=/^\d+\/\d+$/,rQ=new Set(["px","full","screen"]),iQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oQ=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Er(t){return qo(t)||rQ.has(t)||nQ.test(t)||f1(t)}function f1(t){return ka(t,"length",fQ)}function aQ(t){return ka(t,"size",WD)}function lQ(t){return ka(t,"position",WD)}function cQ(t){return ka(t,"url",hQ)}function Ph(t){return ka(t,"number",qo)}function qo(t){return!Number.isNaN(Number(t))}function uQ(t){return t.endsWith("%")&&qo(t.slice(0,-1))}function Jc(t){return o2(t)||ka(t,"number",o2)}function me(t){return BD.test(t)}function Zc(){return!0}function cs(t){return iQ.test(t)}function dQ(t){return ka(t,"",pQ)}function ka(t,e,n){var r=BD.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function fQ(t){return sQ.test(t)}function WD(){return!1}function hQ(t){return t.startsWith("url(")}function o2(t){return Number.isInteger(Number(t))}function pQ(t){return oQ.test(t)}function mQ(){var t=Fe("colors"),e=Fe("spacing"),n=Fe("blur"),r=Fe("brightness"),i=Fe("borderColor"),s=Fe("borderRadius"),o=Fe("borderSpacing"),a=Fe("borderWidth"),l=Fe("contrast"),c=Fe("grayscale"),u=Fe("hueRotate"),d=Fe("invert"),f=Fe("gap"),h=Fe("gradientColorStops"),g=Fe("gradientColorStopPositions"),m=Fe("inset"),y=Fe("margin"),v=Fe("opacity"),_=Fe("padding"),b=Fe("saturate"),w=Fe("scale"),E=Fe("sepia"),x=Fe("skew"),S=Fe("space"),I=Fe("translate"),A=function(){return["auto","contain","none"]},C=function(){return["auto","hidden","clip","visible","scroll"]},R=function(){return["auto",me,e]},P=function(){return[me,e]},k=function(){return["",Er]},M=function(){return["auto",qo,me]},D=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},V=function(){return["solid","dashed","dotted","double","none"]},H=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},O=function(){return["start","end","center","between","around","evenly","stretch"]},$=function(){return["","0",me]},L=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},z=function(){return[qo,Ph]},G=function(){return[qo,me]};return{cacheSize:500,theme:{colors:[Zc],spacing:[Er],blur:["none","",cs,me],brightness:z(),borderColor:[t],borderRadius:["none","","full",cs,me],borderSpacing:P(),borderWidth:k(),contrast:z(),grayscale:$(),hueRotate:G(),invert:$(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[uQ,f1],inset:R(),margin:R(),opacity:z(),padding:P(),saturate:z(),scale:z(),sepia:$(),skew:G(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[cs]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(D(),[me])}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jc]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Jc]}],"grid-cols":[{"grid-cols":[Zc]}],"col-start-end":[{col:["auto",{span:["full",Jc]},me]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Zc]}],"row-start-end":[{row:["auto",{span:[Jc]},me]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal"].concat(O())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(O(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(O(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",me,e]}],"min-w":[{"min-w":["min","max","fit",me,Er]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[cs]},cs,me]}],h:[{h:[me,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",me,Er]}],"max-h":[{"max-h":[me,e,"min","max","fit"]}],"font-size":[{text:["base",cs,f1]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ph]}],"font-family":[{font:[Zc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",qo,Ph]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",me,Er]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(V(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Er]}],"underline-offset":[{"underline-offset":["auto",me,Er]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(D(),[lQ])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cQ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(V(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:V()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(V())}],"outline-offset":[{"outline-offset":[me,Er]}],"outline-w":[{outline:[Er]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Er]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",cs,dQ]}],"shadow-color":[{shadow:[Zc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":H()}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",cs,me]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[b]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Jc,me]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[x]}],"skew-y":[{"skew-y":[x]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Er,Ph]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var gQ=tQ(mQ);function _e(...t){return gQ(VD(t))}const HD=(t,e)=>{const n=[];return t==null||t.filter(r=>{if(n.length===0)n.push({name:r.user_expense_name,expenses:[r.user_expense_amount]});else{const i=n.find(s=>s.name===r.user_expense_name);i?i.expenses.push(r.user_expense_amount):n.push({name:r.user_expense_name,expenses:[r.user_expense_amount]})}}),n.find(r=>{r.name===e&&(r.name="You")}),n};function qD(t,e){const n=t.length,r=t.map(l=>l.expenses.reduce((c,u)=>c+u,0)),s=r.reduce((l,c)=>l+c,0)/n,o=new Array(n).fill(0);for(let l=0;l<n;l++)o[l]=r[l]-s;const a=[];for(let l=0;l<n;l++)if(o[l]<0){for(let c=0;c<n;c++)if(o[c]>0){const u=Math.min(Math.abs(o[l]),o[c]);o[l]+=u,o[c]-=u,a.push({from:t[l].name===e?"You":t[l].name,to:t[c].name===e?"You":t[c].name,amount:u})}}return a}const KD=(t,e,n)=>{const r=parseInt(e),i=t.map((s,o)=>{var a,l;return s.from==="You"?{userString:`${(a=s.from)==null?void 0:a.split(" ")[0]} owe ${s.to}`,userNumber:parseInt(s.amount.toFixed(2)),groupId:r?r+o:o,groupName:n}:{userString:`${(l=s.from)==null?void 0:l.split(" ")[0]} owes ${s.to}`,userNumber:parseInt(s.amount.toFixed(2)),groupId:r?r+o:o,groupName:n}});return i.length>0?i:[{userString:"All people are settled up",userNumber:0,groupId:r,groupName:n}]},GD=(t,e)=>{const n=t*1e3+e/1e6,r=new Date(n),i=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],s=r.getMonth(),o=r.getDate();let a="th";if(o<11||o>13)switch(o%10){case 1:a="st";break;case 2:a="nd";break;case 3:a="rd";break}return`${i[s]} ${o}${a}`},vQ=t=>t==null?void 0:t.reduce((e,n)=>{const r=e.find(i=>i.user_expense_name===n.user_expense_name);return r?r.user_expense_amount+=n.user_expense_amount:e.push({user_expense_name:n.user_expense_name,user_expense_amount:n.user_expense_amount}),e},[]),Jm=p.forwardRef(({className:t,...e},n)=>T.jsx(MD,{ref:n,className:_e("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Jm.displayName=MD.displayName;const QD=p.forwardRef(({className:t,...e},n)=>T.jsx(DD,{ref:n,className:_e("aspect-square h-full w-full",t),...e}));QD.displayName=DD.displayName;const Zm=p.forwardRef(({className:t,...e},n)=>T.jsx(LD,{ref:n,className:_e("flex h-full w-full items-center justify-center rounded-full bg-slate-100 dark:bg-slate-800",t),...e}));Zm.displayName=LD.displayName;function ie(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function $a({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=yQ({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Pt(n),l=p.useCallback(c=>{if(s){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[s,t,i,a]);return[o,l]}function yQ({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,i=p.useRef(r),s=Pt(e);return p.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}const _Q=p.createContext(void 0);function fy(t){const e=p.useContext(_Q);return t||e||"ltr"}function bQ(t,e){return p.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const rr=t=>{const{present:e,children:n}=t,r=wQ(e),i=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),s=et(r.ref,i.ref);return typeof n=="function"||r.isPresent?p.cloneElement(i,{ref:s}):null};rr.displayName="Presence";function wQ(t){const[e,n]=p.useState(),r=p.useRef({}),i=p.useRef(t),s=p.useRef("none"),o=t?"mounted":"unmounted",[a,l]=bQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=kh(r.current);s.current=a==="mounted"?c:"none"},[a]),Vr(()=>{const c=r.current,u=i.current;if(u!==t){const f=s.current,h=kh(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Vr(()=>{if(e){const c=d=>{const h=kh(r.current).includes(d.animationName);d.target===e&&h&&xa.flushSync(()=>l("ANIMATION_END"))},u=d=>{d.target===e&&(s.current=kh(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function kh(t){return(t==null?void 0:t.animationName)||"none"}const EQ=Hp["useId".toString()]||(()=>{});let xQ=0;function ui(t){const[e,n]=p.useState(EQ());return Vr(()=>{t||n(r=>r??String(xQ++))},[t]),t||(e?`radix-${e}`:"")}function Wf(t){const e=t+"CollectionProvider",[n,r]=gi(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:g,children:m}=h,y=ne.useRef(null),v=ne.useRef(new Map).current;return ne.createElement(i,{scope:g,itemMap:v,collectionRef:y},m)},a=t+"CollectionSlot",l=ne.forwardRef((h,g)=>{const{scope:m,children:y}=h,v=s(a,m),_=et(g,v.collectionRef);return ne.createElement(ma,{ref:_},y)}),c=t+"CollectionItemSlot",u="data-radix-collection-item",d=ne.forwardRef((h,g)=>{const{scope:m,children:y,...v}=h,_=ne.useRef(null),b=et(g,_),w=s(c,m);return ne.useEffect(()=>(w.itemMap.set(_,{ref:_,...v}),()=>void w.itemMap.delete(_))),ne.createElement(ma,{[u]:"",ref:b},y)});function f(h){const g=s(t+"CollectionConsumer",h);return ne.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((w,E)=>v.indexOf(w.ref.current)-v.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},f,r]}function TQ(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const h1="dismissableLayer.update",SQ="dismissableLayer.pointerDownOutside",IQ="dismissableLayer.focusOutside";let a2;const CQ=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fx=p.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,u=p.useContext(CQ),[d,f]=p.useState(null),h=(n=d==null?void 0:d.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,g]=p.useState({}),m=et(e,I=>f(I)),y=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(v),b=d?y.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,E=b>=_,x=AQ(I=>{const A=I.target,C=[...u.branches].some(R=>R.contains(A));!E||C||(s==null||s(I),a==null||a(I),I.defaultPrevented||l==null||l())},h),S=RQ(I=>{const A=I.target;[...u.branches].some(R=>R.contains(A))||(o==null||o(I),a==null||a(I),I.defaultPrevented||l==null||l())},h);return TQ(I=>{b===u.layers.size-1&&(i==null||i(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(a2=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),l2(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=a2)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),l2())},[d,u]),p.useEffect(()=>{const I=()=>g({});return document.addEventListener(h1,I),()=>document.removeEventListener(h1,I)},[]),p.createElement(ye.div,W({},c,{ref:m,style:{pointerEvents:w?E?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,S.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,x.onPointerDownCapture)}))});function AQ(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){YD(SQ,n,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function RQ(t,e=globalThis==null?void 0:globalThis.document){const n=Pt(t),r=p.useRef(!1);return p.useEffect(()=>{const i=s=>{s.target&&!r.current&&YD(IQ,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function l2(){const t=new CustomEvent(h1);document.dispatchEvent(t)}function YD(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Xm(i,s):i.dispatchEvent(s)}function PQ(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const kQ=p.forwardRef((t,e)=>p.createElement(ye.span,W({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),$Q=kQ,Hf="NavigationMenu",[Vx,XD,OQ]=Wf(Hf),[p1,NQ,MQ]=Wf(Hf),[jx,Jpe]=gi(Hf,[OQ,MQ]),[DQ,Ur]=jx(Hf),[LQ,FQ]=jx(Hf),VQ=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:i,defaultValue:s,delayDuration:o=200,skipDelayDuration:a=300,orientation:l="horizontal",dir:c,...u}=t,[d,f]=p.useState(null),h=et(e,A=>f(A)),g=fy(c),m=p.useRef(0),y=p.useRef(0),v=p.useRef(0),[_,b]=p.useState(!0),[w="",E]=$a({prop:r,onChange:A=>{const C=A!=="",R=a>0;C?(window.clearTimeout(v.current),R&&b(!1)):(window.clearTimeout(v.current),v.current=window.setTimeout(()=>b(!0),a)),i==null||i(A)},defaultProp:s}),x=p.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>E(""),150)},[E]),S=p.useCallback(A=>{window.clearTimeout(y.current),E(A)},[E]),I=p.useCallback(A=>{w===A?window.clearTimeout(y.current):m.current=window.setTimeout(()=>{window.clearTimeout(y.current),E(A)},o)},[w,E,o]);return p.useEffect(()=>()=>{window.clearTimeout(m.current),window.clearTimeout(y.current),window.clearTimeout(v.current)},[]),p.createElement(jQ,{scope:n,isRootMenu:!0,value:w,dir:g,orientation:l,rootNavigationMenu:d,onTriggerEnter:A=>{window.clearTimeout(m.current),_?I(A):S(A)},onTriggerLeave:()=>{window.clearTimeout(m.current),x()},onContentEnter:()=>window.clearTimeout(y.current),onContentLeave:x,onItemSelect:A=>{E(C=>C===A?"":A)},onItemDismiss:()=>E("")},p.createElement(ye.nav,W({"aria-label":"Main","data-orientation":l,dir:g},u,{ref:h})))}),jQ=t=>{const{scope:e,isRootMenu:n,rootNavigationMenu:r,dir:i,orientation:s,children:o,value:a,onItemSelect:l,onItemDismiss:c,onTriggerEnter:u,onTriggerLeave:d,onContentEnter:f,onContentLeave:h}=t,[g,m]=p.useState(null),[y,v]=p.useState(new Map),[_,b]=p.useState(null);return p.createElement(DQ,{scope:e,isRootMenu:n,rootNavigationMenu:r,value:a,previousValue:PQ(a),baseId:ui(),dir:i,orientation:s,viewport:g,onViewportChange:m,indicatorTrack:_,onIndicatorTrackChange:b,onTriggerEnter:Pt(u),onTriggerLeave:Pt(d),onContentEnter:Pt(f),onContentLeave:Pt(h),onItemSelect:Pt(l),onItemDismiss:Pt(c),onViewportContentChange:p.useCallback((w,E)=>{v(x=>(x.set(w,E),new Map(x)))},[]),onViewportContentRemove:p.useCallback(w=>{v(E=>E.has(w)?(E.delete(w),new Map(E)):E)},[])},p.createElement(Vx.Provider,{scope:e},p.createElement(LQ,{scope:e,items:y},o)))},UQ="NavigationMenuList",zQ=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=Ur(UQ,n),s=p.createElement(ye.ul,W({"data-orientation":i.orientation},r,{ref:e}));return p.createElement(ye.div,{style:{position:"relative"},ref:i.onIndicatorTrackChange},p.createElement(Vx.Slot,{scope:n},i.isRootMenu?p.createElement(n9,{asChild:!0},s):s))}),BQ="NavigationMenuItem",[WQ,JD]=jx(BQ),HQ=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,...i}=t,s=ui(),o=r||s||"LEGACY_REACT_AUTO_VALUE",a=p.useRef(null),l=p.useRef(null),c=p.useRef(null),u=p.useRef(()=>{}),d=p.useRef(!1),f=p.useCallback((g="start")=>{if(a.current){u.current();const m=m1(a.current);m.length&&Ux(g==="start"?m:m.reverse())}},[]),h=p.useCallback(()=>{if(a.current){const g=m1(a.current);g.length&&(u.current=nY(g))}},[]);return p.createElement(WQ,{scope:n,value:o,triggerRef:l,contentRef:a,focusProxyRef:c,wasEscapeCloseRef:d,onEntryKeyDown:f,onFocusProxyEnter:f,onRootContentClose:h,onContentFocusOutside:h},p.createElement(ye.li,W({},i,{ref:e})))}),c2="NavigationMenuTrigger",qQ=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,disabled:r,...i}=t,s=Ur(c2,t.__scopeNavigationMenu),o=JD(c2,t.__scopeNavigationMenu),a=p.useRef(null),l=et(a,o.triggerRef,e),c=i9(s.baseId,o.value),u=s9(s.baseId,o.value),d=p.useRef(!1),f=p.useRef(!1),h=o.value===s.value;return p.createElement(p.Fragment,null,p.createElement(Vx.ItemSlot,{scope:n,value:o.value},p.createElement(r9,{asChild:!0},p.createElement(ye.button,W({id:c,disabled:r,"data-disabled":r?"":void 0,"data-state":zx(h),"aria-expanded":h,"aria-controls":u},i,{ref:l,onPointerEnter:ie(t.onPointerEnter,()=>{f.current=!1,o.wasEscapeCloseRef.current=!1}),onPointerMove:ie(t.onPointerMove,eg(()=>{r||f.current||o.wasEscapeCloseRef.current||d.current||(s.onTriggerEnter(o.value),d.current=!0)})),onPointerLeave:ie(t.onPointerLeave,eg(()=>{r||(s.onTriggerLeave(),d.current=!1)})),onClick:ie(t.onClick,()=>{s.onItemSelect(o.value),f.current=h}),onKeyDown:ie(t.onKeyDown,g=>{const y={horizontal:"ArrowDown",vertical:s.dir==="rtl"?"ArrowLeft":"ArrowRight"}[s.orientation];h&&g.key===y&&(o.onEntryKeyDown(),g.preventDefault())})})))),h&&p.createElement(p.Fragment,null,p.createElement($Q,{"aria-hidden":!0,tabIndex:0,ref:o.focusProxyRef,onFocus:g=>{const m=o.contentRef.current,y=g.relatedTarget,v=y===a.current,_=m==null?void 0:m.contains(y);(v||!_)&&o.onFocusProxyEnter(v?"start":"end")}}),s.viewport&&p.createElement("span",{"aria-owns":u})))}),u2="navigationMenu.linkSelect",KQ=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,active:r,onSelect:i,...s}=t;return p.createElement(r9,{asChild:!0},p.createElement(ye.a,W({"data-active":r?"":void 0,"aria-current":r?"page":void 0},s,{ref:e,onClick:ie(t.onClick,o=>{const a=o.target,l=new CustomEvent(u2,{bubbles:!0,cancelable:!0});if(a.addEventListener(u2,c=>i==null?void 0:i(c),{once:!0}),Xm(a,l),!l.defaultPrevented&&!o.metaKey){const c=new CustomEvent(Pp,{bubbles:!0,cancelable:!0});Xm(a,c)}},{checkForDefaultPrevented:!1})})))}),ZD="NavigationMenuIndicator",GQ=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ur(ZD,t.__scopeNavigationMenu),s=!!i.value;return i.indicatorTrack?g$.createPortal(p.createElement(rr,{present:n||s},p.createElement(QQ,W({},r,{ref:e}))),i.indicatorTrack):null}),QQ=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=Ur(ZD,n),s=XD(n),[o,a]=p.useState(null),[l,c]=p.useState(null),u=i.orientation==="horizontal",d=!!i.value;p.useEffect(()=>{var h;const m=(h=s().find(y=>y.value===i.value))===null||h===void 0?void 0:h.ref.current;m&&a(m)},[s,i.value]);const f=()=>{o&&c({size:u?o.offsetWidth:o.offsetHeight,offset:u?o.offsetLeft:o.offsetTop})};return g1(o,f),g1(i.indicatorTrack,f),l?p.createElement(ye.div,W({"aria-hidden":!0,"data-state":d?"visible":"hidden","data-orientation":i.orientation},r,{ref:e,style:{position:"absolute",...u?{left:0,width:l.size+"px",transform:`translateX(${l.offset}px)`}:{top:0,height:l.size+"px",transform:`translateY(${l.offset}px)`},...r.style}})):null}),Hd="NavigationMenuContent",YQ=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ur(Hd,t.__scopeNavigationMenu),s=JD(Hd,t.__scopeNavigationMenu),o=et(s.contentRef,e),a=s.value===i.value,l={value:s.value,triggerRef:s.triggerRef,focusProxyRef:s.focusProxyRef,wasEscapeCloseRef:s.wasEscapeCloseRef,onContentFocusOutside:s.onContentFocusOutside,onRootContentClose:s.onRootContentClose,...r};return i.viewport?p.createElement(XQ,W({forceMount:n},l,{ref:o})):p.createElement(rr,{present:n||a},p.createElement(e9,W({"data-state":zx(a)},l,{ref:o,onPointerEnter:ie(t.onPointerEnter,i.onContentEnter),onPointerLeave:ie(t.onPointerLeave,eg(i.onContentLeave)),style:{pointerEvents:!a&&i.isRootMenu?"none":void 0,...l.style}})))}),XQ=p.forwardRef((t,e)=>{const n=Ur(Hd,t.__scopeNavigationMenu),{onViewportContentChange:r,onViewportContentRemove:i}=n;return Vr(()=>{r(t.value,{ref:e,...t})},[t,e,r]),Vr(()=>()=>i(t.value),[t.value,i]),null}),Pp="navigationMenu.rootContentDismiss",e9=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,triggerRef:i,focusProxyRef:s,wasEscapeCloseRef:o,onRootContentClose:a,onContentFocusOutside:l,...c}=t,u=Ur(Hd,n),d=p.useRef(null),f=et(d,e),h=i9(u.baseId,r),g=s9(u.baseId,r),m=XD(n),y=p.useRef(null),{onItemDismiss:v}=u;p.useEffect(()=>{const b=d.current;if(u.isRootMenu&&b){const w=()=>{var E;v(),a(),b.contains(document.activeElement)&&((E=i.current)===null||E===void 0||E.focus())};return b.addEventListener(Pp,w),()=>b.removeEventListener(Pp,w)}},[u.isRootMenu,t.value,i,v,a]);const _=p.useMemo(()=>{const w=m().map(C=>C.value);u.dir==="rtl"&&w.reverse();const E=w.indexOf(u.value),x=w.indexOf(u.previousValue),S=r===u.value,I=x===w.indexOf(r);if(!S&&!I)return y.current;const A=(()=>{if(E!==x){if(S&&x!==-1)return E>x?"from-end":"from-start";if(I&&E!==-1)return E>x?"to-start":"to-end"}return null})();return y.current=A,A},[u.previousValue,u.value,u.dir,m,r]);return p.createElement(n9,{asChild:!0},p.createElement(Fx,W({id:g,"aria-labelledby":h,"data-motion":_,"data-orientation":u.orientation},c,{ref:f,onDismiss:()=>{var b;const w=new Event(Pp,{bubbles:!0,cancelable:!0});(b=d.current)===null||b===void 0||b.dispatchEvent(w)},onFocusOutside:ie(t.onFocusOutside,b=>{var w;l();const E=b.target;(w=u.rootNavigationMenu)!==null&&w!==void 0&&w.contains(E)&&b.preventDefault()}),onPointerDownOutside:ie(t.onPointerDownOutside,b=>{var w;const E=b.target,x=m().some(I=>{var A;return(A=I.ref.current)===null||A===void 0?void 0:A.contains(E)}),S=u.isRootMenu&&((w=u.viewport)===null||w===void 0?void 0:w.contains(E));(x||S||!u.isRootMenu)&&b.preventDefault()}),onKeyDown:ie(t.onKeyDown,b=>{const w=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!w){const S=m1(b.currentTarget),I=document.activeElement,A=S.findIndex(P=>P===I),R=b.shiftKey?S.slice(0,A).reverse():S.slice(A+1,S.length);if(Ux(R))b.preventDefault();else{var x;(x=s.current)===null||x===void 0||x.focus()}}}),onEscapeKeyDown:ie(t.onEscapeKeyDown,b=>{o.current=!0})})))}),t9="NavigationMenuViewport",JQ=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=!!Ur(t9,t.__scopeNavigationMenu).value;return p.createElement(rr,{present:n||s},p.createElement(ZQ,W({},r,{ref:e})))}),ZQ=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,children:r,...i}=t,s=Ur(t9,n),o=et(e,s.onViewportChange),a=FQ(Hd,t.__scopeNavigationMenu),[l,c]=p.useState(null),[u,d]=p.useState(null),f=l?(l==null?void 0:l.width)+"px":void 0,h=l?(l==null?void 0:l.height)+"px":void 0,g=!!s.value,m=g?s.value:s.previousValue;return g1(u,()=>{u&&c({width:u.offsetWidth,height:u.offsetHeight})}),p.createElement(ye.div,W({"data-state":zx(g),"data-orientation":s.orientation},i,{ref:o,style:{pointerEvents:!g&&s.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":f,"--radix-navigation-menu-viewport-height":h,...i.style},onPointerEnter:ie(t.onPointerEnter,s.onContentEnter),onPointerLeave:ie(t.onPointerLeave,eg(s.onContentLeave))}),Array.from(a.items).map(([v,{ref:_,forceMount:b,...w}])=>{const E=m===v;return p.createElement(rr,{key:v,present:b||E},p.createElement(e9,W({},w,{ref:Bf(_,x=>{E&&x&&d(x)})})))}))}),eY="FocusGroup",n9=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=Ur(eY,n);return p.createElement(p1.Provider,{scope:n},p.createElement(p1.Slot,{scope:n},p.createElement(ye.div,W({dir:i.dir},r,{ref:e}))))}),d2=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],tY="FocusGroupItem",r9=p.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=NQ(n),s=Ur(tY,n);return p.createElement(p1.ItemSlot,{scope:n},p.createElement(ye.button,W({},r,{ref:e,onKeyDown:ie(t.onKeyDown,o=>{if(["Home","End",...d2].includes(o.key)){let l=i().map(d=>d.ref.current);if([s.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(o.key)&&l.reverse(),d2.includes(o.key)){const d=l.indexOf(o.currentTarget);l=l.slice(d+1)}setTimeout(()=>Ux(l)),o.preventDefault()}})})))});function m1(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Ux(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}function nY(t){return t.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{t.forEach(e=>{const n=e.dataset.tabindex;e.setAttribute("tabindex",n)})}}function g1(t,e){const n=Pt(e);Vr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function zx(t){return t?"open":"closed"}function i9(t,e){return`${t}-trigger-${e}`}function s9(t,e){return`${t}-content-${e}`}function eg(t){return e=>e.pointerType==="mouse"?t(e):void 0}const o9=VQ,a9=zQ,rY=HQ,l9=qQ,iY=KQ,c9=GQ,u9=YQ,d9=JQ,f2=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,h2=VD,f9=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return h2(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const f=f2(u)||f2(d);return i[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(g=>{let[m,y]=g;return Array.isArray(y)?y.includes({...s,...a}[m]):{...s,...a}[m]===y})?[...c,d,f]:c},[]);return h2(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};var sY={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const oY=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$c=(t,e)=>{const n=p.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},c)=>p.createElement("svg",{ref:c,...sY,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${oY(t)}`,...l},[...e.map(([u,d])=>p.createElement(u,d)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},aY=$c("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),h9=$c("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),lY=$c("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),cY=$c("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),uY=$c("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),dY=$c("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),p9=p.forwardRef(({className:t,children:e,...n},r)=>T.jsxs(o9,{ref:r,className:_e("relative z-50 mr-2 flex max-w-max  items-center justify-center ",t),...n,children:[e,T.jsx(y9,{})]}));p9.displayName=o9.displayName;const m9=p.forwardRef(({className:t,...e},n)=>T.jsx(a9,{ref:n,className:_e("group flex flex-1 list-none items-center justify-center space-x-1 ",t),...e}));m9.displayName=a9.displayName;const fY=rY,hY=f9("group inline-flex h-10 w-max items-center justify-center rounded-md bg-white px-1 py-2 text-sm font-medium transition-colors hover:bg-secondary-bg-color hover:text-slate-900 focus:bg-secondary-bg-color focus:text-slate-900 focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-slate-100/50 data-[state=open]:bg-slate-100/50 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50 dark:focus:bg-slate-800 dark:focus:text-slate-50 dark:data-[active]:bg-slate-800/50 dark:data-[state=open]:bg-slate-800/50"),g9=p.forwardRef(({className:t,children:e,...n},r)=>T.jsxs(l9,{ref:r,className:_e(hY(),"group",t),...n,children:[e,"",T.jsx(h9,{className:"relative top-[1px] mr-2 ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));g9.displayName=l9.displayName;const v9=p.forwardRef(({className:t,...e},n)=>T.jsx(u9,{ref:n,className:_e("right-0 top-0 w-full h-9 data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto",t),...e}));v9.displayName=u9.displayName;const pY=iY,y9=p.forwardRef(({className:t,...e},n)=>T.jsx("div",{className:_e("absolute right-[.01rem] top-11 flex justify-center items-center"),children:T.jsx(d9,{className:_e("origin-top-center p-4 relative pt-2 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border border-slate-200 bg-primary-bg-color text-slate-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)] dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),ref:n,...e})}));y9.displayName=d9.displayName;const mY=p.forwardRef(({className:t,...e},n)=>T.jsx(c9,{ref:n,className:_e("top-full z-[1] flex h-1.5 items-end  justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",t),...e,children:T.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-primary-bg-color shadow-md dark:bg-slate-800"})}));mY.displayName=c9.displayName;function gY({showNavBar:t,setShowNavBar:e}){var u,d,f;const n=_c(),r=(u=Kt(pn))==null?void 0:u.email.slice(0,1).toUpperCase(),i=(d=Kt(pn))==null?void 0:d.displayName,s=(f=Kt(pn))==null?void 0:f.photoUrl,o=mf(),a=()=>{Dx.signOut().then(()=>{console.log("Successfully signed out."),o(wV()),n("/login")}).catch(h=>{console.error("Error signing out:",h)})},l=()=>{t&&e(!1)},c=()=>{!t&&e(!0)};return T.jsxs("nav",{className:"h-16 flex justify-between m-auto  max-w-5xl items-center",children:[T.jsxs("div",{className:"sm:hidden",children:[T.jsxs("button",{onClick:l,type:"button",className:"inline-flex items-center p-2  text-sm  rounded-lg sm:hidden",children:[T.jsx("span",{className:"sr-only",children:"Open sidebar"}),T.jsx("img",{src:c1,className:"w-12 h-12",alt:"Open menu"})]}),T.jsx("aside",{className:t?"fixed top-16 sm:static left-0 z-40 w-64 rounded-medium  transition-transform -translate-x-full sm:translate-x-0  ":"fixed top-0 left-0 sm:static z-40 w-64 h-screen transition-transform  sm:translate-x-0",children:T.jsxs("button",{onClick:c,type:"button",className:"inline-flex items-center p-2 text-sm  rounded-lg sm:hidden",children:[T.jsx("span",{className:"sr-only",children:"Open sidebar"}),T.jsx("img",{src:c1,className:"w-12 h-12",alt:"Close menu"})]})})]}),T.jsx(Ar,{to:"/",children:T.jsx("img",{src:AG,className:"sm:ml-6 w-20 object-contain lg:ml-4"})}),T.jsxs("div",{className:"flex sm:gap-2 bg-primary-bg-color",children:[T.jsxs(Jm,{children:[T.jsx(QD,{src:s}),T.jsx(Zm,{children:r})]}),T.jsx(p9,{children:T.jsx(m9,{children:T.jsxs(fY,{children:[T.jsx(g9,{onPointerMove:h=>h.preventDefault(),onPointerLeave:h=>h.preventDefault(),className:"bg-primary-bg-color",children:i}),T.jsx(v9,{children:T.jsx("div",{onClick:a,className:"md:pt-2",children:T.jsx(pY,{className:"md:px-4 cursor-pointer",children:"Logout"})})})]})})})]})]})}var _9=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},tg=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},vY=Object.defineProperty,yY=Object.defineProperties,_Y=Object.getOwnPropertyDescriptors,p2=Object.getOwnPropertySymbols,bY=Object.prototype.hasOwnProperty,wY=Object.prototype.propertyIsEnumerable,m2=function(t,e,n){return e in t?vY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Rt=function(t,e){for(var n in e||(e={}))bY.call(e,n)&&m2(t,n,e[n]);if(p2)for(var r=0,i=p2(e);r<i.length;r++){var n=i[r];wY.call(e,n)&&m2(t,n,e[n])}return t},Oi=function(t,e){return yY(t,_Y(e))},b9=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(c){i(c)}},o=function(l){try{a(n.throw(l))}catch(c){i(c)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},Ke;(function(t){t.uninitialized="uninitialized",t.pending="pending",t.fulfilled="fulfilled",t.rejected="rejected"})(Ke||(Ke={}));function EY(t){return{status:t,isUninitialized:t===Ke.uninitialized,isLoading:t===Ke.pending,isSuccess:t===Ke.fulfilled,isError:t===Ke.rejected}}var g2=function(t){return[].concat.apply([],t)};function xY(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}function TY(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}var v2=Ql;function w9(t,e){if(t===e||!(v2(t)&&v2(e)||Array.isArray(t)&&Array.isArray(e)))return e;for(var n=Object.keys(e),r=Object.keys(t),i=n.length===r.length,s=Array.isArray(e)?[]:{},o=0,a=n;o<a.length;o++){var l=a[o];s[l]=w9(t[l],e[l]),i&&(i=t[l]===s[l])}return i?t:s}var y2=function(){function t(e,n){n===void 0&&(n=void 0),this.value=e,this.meta=n}return t}(),Bx=Rn("__rtkq/focused"),E9=Rn("__rtkq/unfocused"),Wx=Rn("__rtkq/online"),x9=Rn("__rtkq/offline"),pi;(function(t){t.query="query",t.mutation="mutation"})(pi||(pi={}));function T9(t){return t.type===pi.query}function SY(t){return t.type===pi.mutation}function S9(t,e,n,r,i,s){return IY(t)?t(e,n,r,i).map(v1).map(s):Array.isArray(t)?t.map(v1).map(s):[]}function IY(t){return typeof t=="function"}function v1(t){return typeof t=="string"?{type:t}:t}function J0(t){return t!=null}var qd=Symbol("forceQueryFn"),y1=function(t){return typeof t[qd]=="function"};function CY(t){var e=t.serializeQueryArgs,n=t.queryThunk,r=t.mutationThunk,i=t.api,s=t.context,o=new Map,a=new Map,l=i.internalActions,c=l.unsubscribeQueryResult,u=l.removeMutationResult,d=l.updateSubscriptionOptions;return{buildInitiateQuery:_,buildInitiateMutation:b,getRunningQueryThunk:g,getRunningMutationThunk:m,getRunningQueriesThunk:y,getRunningMutationsThunk:v,getRunningOperationPromises:h,removalWarning:f};function f(){throw new Error(`This method had to be removed due to a conceptual bug in RTK.
       Please see https://github.com/reduxjs/redux-toolkit/pull/2481 for details.
       See https://redux-toolkit.js.org/rtk-query/usage/server-side-rendering for new guidance on SSR.`)}function h(){typeof process<"u";var w=function(E){return Array.from(E.values()).flatMap(function(x){return x?Object.values(x):[]})};return tg(tg([],w(o)),w(a)).filter(J0)}function g(w,E){return function(x){var S,I=s.endpointDefinitions[w],A=e({queryArgs:E,endpointDefinition:I,endpointName:w});return(S=o.get(x))==null?void 0:S[A]}}function m(w,E){return function(x){var S;return(S=a.get(x))==null?void 0:S[E]}}function y(){return function(w){return Object.values(o.get(w)||{}).filter(J0)}}function v(){return function(w){return Object.values(a.get(w)||{}).filter(J0)}}function _(w,E){var x=function(S,I){var A=I===void 0?{}:I,C=A.subscribe,R=C===void 0?!0:C,P=A.forceRefetch,k=A.subscriptionOptions,M=qd,D=A[M];return function(V,H){var O,$,L=e({queryArgs:S,endpointDefinition:E,endpointName:w}),z=n((O={type:"query",subscribe:R,forceRefetch:P,subscriptionOptions:k,endpointName:w,originalArgs:S,queryCacheKey:L},O[qd]=D,O)),G=i.endpoints[w].select(S),K=V(z),q=G(H()),Q=K.requestId,ee=K.abort,he=q.requestId!==Q,ut=($=o.get(V))==null?void 0:$[L],wt=function(){return G(H())},Jt=Object.assign(D?K.then(wt):he&&!ut?Promise.resolve(q):Promise.all([ut,K]).then(wt),{arg:S,requestId:Q,subscriptionOptions:k,queryCacheKey:L,abort:ee,unwrap:function(){return b9(this,null,function(){var qe;return _9(this,function(yi){switch(yi.label){case 0:return[4,Jt];case 1:if(qe=yi.sent(),qe.isError)throw qe.error;return[2,qe.data]}})})},refetch:function(){return V(x(S,{subscribe:!1,forceRefetch:!0}))},unsubscribe:function(){R&&V(c({queryCacheKey:L,requestId:Q}))},updateSubscriptionOptions:function(qe){Jt.subscriptionOptions=qe,V(d({endpointName:w,requestId:Q,queryCacheKey:L,options:qe}))}});if(!ut&&!he&&!D){var ir=o.get(V)||{};ir[L]=Jt,o.set(V,ir),Jt.then(function(){delete ir[L],Object.keys(ir).length||o.delete(V)})}return Jt}};return x}function b(w){return function(E,x){var S=x===void 0?{}:x,I=S.track,A=I===void 0?!0:I,C=S.fixedCacheKey;return function(R,P){var k=r({type:"mutation",endpointName:w,originalArgs:E,track:A,fixedCacheKey:C}),M=R(k),D=M.requestId,V=M.abort,H=M.unwrap,O=M.unwrap().then(function(G){return{data:G}}).catch(function(G){return{error:G}}),$=function(){R(u({requestId:D,fixedCacheKey:C}))},L=Object.assign(O,{arg:M.arg,requestId:D,abort:V,unwrap:H,unsubscribe:$,reset:$}),z=a.get(R)||{};return a.set(R,z),z[D]=L,L.then(function(){delete z[D],Object.keys(z).length||a.delete(R)}),C&&(z[C]=L,L.then(function(){z[C]===L&&(delete z[C],Object.keys(z).length||a.delete(R))})),L}}}}function _2(t){return t}function AY(t){var e=this,n=t.reducerPath,r=t.baseQuery,i=t.context.endpointDefinitions,s=t.serializeQueryArgs,o=t.api,a=function(b,w,E){return function(x){var S=i[b];x(o.internalActions.queryResultPatched({queryCacheKey:s({queryArgs:w,endpointDefinition:S,endpointName:b}),patches:E}))}},l=function(b,w,E){return function(x,S){var I,A,C=o.endpoints[b].select(w)(S()),R={patches:[],inversePatches:[],undo:function(){return x(o.util.patchQueryData(b,w,R.inversePatches))}};if(C.status===Ke.uninitialized)return R;if("data"in C)if(Mr(C.data)){var P=q$(C.data,E),k=P[1],M=P[2];(I=R.patches).push.apply(I,k),(A=R.inversePatches).push.apply(A,M)}else{var D=E(C.data);R.patches.push({op:"replace",path:[],value:D}),R.inversePatches.push({op:"replace",path:[],value:C.data})}return x(o.util.patchQueryData(b,w,R.patches)),R}},c=function(b,w,E){return function(x){var S;return x(o.endpoints[b].initiate(w,(S={subscribe:!1,forceRefetch:!0},S[qd]=function(){return{data:E}},S)))}},u=function(b,w){return b9(e,[b,w],function(E,x){var S,I,A,C,R,P,k,M,D,V,H,O,$,L,z,G,K,q,Q=x.signal,ee=x.abort,he=x.rejectWithValue,ut=x.fulfillWithValue,wt=x.dispatch,Jt=x.getState,ir=x.extra;return _9(this,function(qe){switch(qe.label){case 0:S=i[E.endpointName],qe.label=1;case 1:return qe.trys.push([1,8,,13]),I=_2,A=void 0,C={signal:Q,abort:ee,dispatch:wt,getState:Jt,extra:ir,endpoint:E.endpointName,type:E.type,forced:E.type==="query"?d(E,Jt()):void 0},R=E.type==="query"?E[qd]:void 0,R?(A=R(),[3,6]):[3,2];case 2:return S.query?[4,r(S.query(E.originalArgs),C,S.extraOptions)]:[3,4];case 3:return A=qe.sent(),S.transformResponse&&(I=S.transformResponse),[3,6];case 4:return[4,S.queryFn(E.originalArgs,C,S.extraOptions,function(yi){return r(yi,C,S.extraOptions)})];case 5:A=qe.sent(),qe.label=6;case 6:if(typeof process<"u",A.error)throw new y2(A.error,A.meta);return H=ut,[4,I(A.data,A.meta,E.originalArgs)];case 7:return[2,H.apply(void 0,[qe.sent(),(K={fulfilledTimeStamp:Date.now(),baseQueryMeta:A.meta},K[gu]=!0,K)])];case 8:if(O=qe.sent(),$=O,!($ instanceof y2))return[3,12];L=_2,S.query&&S.transformErrorResponse&&(L=S.transformErrorResponse),qe.label=9;case 9:return qe.trys.push([9,11,,12]),z=he,[4,L($.value,$.meta,E.originalArgs)];case 10:return[2,z.apply(void 0,[qe.sent(),(q={baseQueryMeta:$.meta},q[gu]=!0,q)])];case 11:return G=qe.sent(),$=G,[3,12];case 12:throw typeof process<"u",console.error($),$;case 13:return[2]}})})};function d(b,w){var E,x,S,I,A=(x=(E=w[n])==null?void 0:E.queries)==null?void 0:x[b.queryCacheKey],C=(S=w[n])==null?void 0:S.config.refetchOnMountOrArgChange,R=A==null?void 0:A.fulfilledTimeStamp,P=(I=b.forceRefetch)!=null?I:b.subscribe&&C;return P?P===!0||(Number(new Date)-Number(R))/1e3>=P:!1}var f=NI(n+"/executeQuery",u,{getPendingMeta:function(){var b;return b={startedTimeStamp:Date.now()},b[gu]=!0,b},condition:function(b,w){var E=w.getState,x,S,I,A=E(),C=(S=(x=A[n])==null?void 0:x.queries)==null?void 0:S[b.queryCacheKey],R=C==null?void 0:C.fulfilledTimeStamp,P=b.originalArgs,k=C==null?void 0:C.originalArgs,M=i[b.endpointName];return y1(b)?!0:(C==null?void 0:C.status)==="pending"?!1:d(b,A)||T9(M)&&((I=M==null?void 0:M.forceRefetch)!=null&&I.call(M,{currentArg:P,previousArg:k,endpointState:C,state:A}))?!0:!R},dispatchConditionRejection:!0}),h=NI(n+"/executeMutation",u,{getPendingMeta:function(){var b;return b={startedTimeStamp:Date.now()},b[gu]=!0,b}}),g=function(b){return"force"in b},m=function(b){return"ifOlderThan"in b},y=function(b,w,E){return function(x,S){var I=g(E)&&E.force,A=m(E)&&E.ifOlderThan,C=function(M){return M===void 0&&(M=!0),o.endpoints[b].initiate(w,{forceRefetch:M})},R=o.endpoints[b].select(w)(S());if(I)x(C());else if(A){var P=R==null?void 0:R.fulfilledTimeStamp;if(!P){x(C());return}var k=(Number(new Date)-Number(new Date(P)))/1e3>=A;k&&x(C())}else x(C(!1))}};function v(b){return function(w){var E,x;return((x=(E=w==null?void 0:w.meta)==null?void 0:E.arg)==null?void 0:x.endpointName)===b}}function _(b,w){return{matchPending:ju(fE(b),v(w)),matchFulfilled:ju(Ta(b),v(w)),matchRejected:ju(wd(b),v(w))}}return{queryThunk:f,mutationThunk:h,prefetch:y,updateQueryData:l,upsertQueryData:c,patchQueryData:a,buildMatchThunkActions:_}}function I9(t,e,n,r){return S9(n[t.meta.arg.endpointName][e],Ta(t)?t.payload:void 0,yv(t)?t.payload:void 0,t.meta.arg.originalArgs,"baseQueryMeta"in t.meta?t.meta.baseQueryMeta:void 0,r)}function $h(t,e,n){var r=t[e];r&&n(r)}function Kd(t){var e;return(e="arg"in t?t.arg.fixedCacheKey:t.fixedCacheKey)!=null?e:t.requestId}function b2(t,e,n){var r=t[Kd(e)];r&&n(r)}var eu={};function RY(t){var e=t.reducerPath,n=t.queryThunk,r=t.mutationThunk,i=t.context,s=i.endpointDefinitions,o=i.apiUid,a=i.extractRehydrationInfo,l=i.hasRehydrationInfo,c=t.assertTagType,u=t.config,d=Rn(e+"/resetApiState"),f=vs({name:e+"/queries",initialState:eu,reducers:{removeQueryResult:{reducer:function(E,x){var S=x.payload.queryCacheKey;delete E[S]},prepare:P0()},queryResultPatched:function(E,x){var S=x.payload,I=S.queryCacheKey,A=S.patches;$h(E,I,function(C){C.data=II(C.data,A.concat())})}},extraReducers:function(E){E.addCase(n.pending,function(x,S){var I=S.meta,A=S.meta.arg,C,R,P=y1(A);(A.subscribe||P)&&((R=x[C=A.queryCacheKey])!=null||(x[C]={status:Ke.uninitialized,endpointName:A.endpointName})),$h(x,A.queryCacheKey,function(k){k.status=Ke.pending,k.requestId=P&&k.requestId?k.requestId:I.requestId,A.originalArgs!==void 0&&(k.originalArgs=A.originalArgs),k.startedTimeStamp=I.startedTimeStamp})}).addCase(n.fulfilled,function(x,S){var I=S.meta,A=S.payload;$h(x,I.arg.queryCacheKey,function(C){var R;if(!(C.requestId!==I.requestId&&!y1(I.arg))){var P=s[I.arg.endpointName].merge;if(C.status=Ke.fulfilled,P)if(C.data!==void 0){var k=I.fulfilledTimeStamp,M=I.arg,D=I.baseQueryMeta,V=I.requestId,H=gf(C.data,function(O){return P(O,A,{arg:M.originalArgs,baseQueryMeta:D,fulfilledTimeStamp:k,requestId:V})});C.data=H}else C.data=A;else C.data=(R=s[I.arg.endpointName].structuralSharing)==null||R?w9(Nr(C.data)?R8(C.data):C.data,A):A;delete C.error,C.fulfilledTimeStamp=I.fulfilledTimeStamp}})}).addCase(n.rejected,function(x,S){var I=S.meta,A=I.condition,C=I.arg,R=I.requestId,P=S.error,k=S.payload;$h(x,C.queryCacheKey,function(M){if(!A){if(M.requestId!==R)return;M.status=Ke.rejected,M.error=k??P}})}).addMatcher(l,function(x,S){for(var I=a(S).queries,A=0,C=Object.entries(I);A<C.length;A++){var R=C[A],P=R[0],k=R[1];((k==null?void 0:k.status)===Ke.fulfilled||(k==null?void 0:k.status)===Ke.rejected)&&(x[P]=k)}})}}),h=vs({name:e+"/mutations",initialState:eu,reducers:{removeMutationResult:{reducer:function(E,x){var S=x.payload,I=Kd(S);I in E&&delete E[I]},prepare:P0()}},extraReducers:function(E){E.addCase(r.pending,function(x,S){var I=S.meta,A=S.meta,C=A.requestId,R=A.arg,P=A.startedTimeStamp;R.track&&(x[Kd(I)]={requestId:C,status:Ke.pending,endpointName:R.endpointName,startedTimeStamp:P})}).addCase(r.fulfilled,function(x,S){var I=S.payload,A=S.meta;A.arg.track&&b2(x,A,function(C){C.requestId===A.requestId&&(C.status=Ke.fulfilled,C.data=I,C.fulfilledTimeStamp=A.fulfilledTimeStamp)})}).addCase(r.rejected,function(x,S){var I=S.payload,A=S.error,C=S.meta;C.arg.track&&b2(x,C,function(R){R.requestId===C.requestId&&(R.status=Ke.rejected,R.error=I??A)})}).addMatcher(l,function(x,S){for(var I=a(S).mutations,A=0,C=Object.entries(I);A<C.length;A++){var R=C[A],P=R[0],k=R[1];((k==null?void 0:k.status)===Ke.fulfilled||(k==null?void 0:k.status)===Ke.rejected)&&P!==(k==null?void 0:k.requestId)&&(x[P]=k)}})}}),g=vs({name:e+"/invalidation",initialState:eu,reducers:{},extraReducers:function(E){E.addCase(f.actions.removeQueryResult,function(x,S){for(var I=S.payload.queryCacheKey,A=0,C=Object.values(x);A<C.length;A++)for(var R=C[A],P=0,k=Object.values(R);P<k.length;P++){var M=k[P],D=M.indexOf(I);D!==-1&&M.splice(D,1)}}).addMatcher(l,function(x,S){for(var I,A,C,R,P=a(S).provided,k=0,M=Object.entries(P);k<M.length;k++)for(var D=M[k],V=D[0],H=D[1],O=0,$=Object.entries(H);O<$.length;O++)for(var L=$[O],z=L[0],G=L[1],K=(R=(A=(I=x[V])!=null?I:x[V]={})[C=z||"__internal_without_id"])!=null?R:A[C]=[],q=0,Q=G;q<Q.length;q++){var ee=Q[q],he=K.includes(ee);he||K.push(ee)}}).addMatcher(bc(Ta(n),yv(n)),function(x,S){for(var I,A,C,R,P=I9(S,"providesTags",s,c),k=S.meta.arg.queryCacheKey,M=0,D=Object.values(x);M<D.length;M++)for(var V=D[M],H=0,O=Object.values(V);H<O.length;H++){var $=O[H],L=$.indexOf(k);L!==-1&&$.splice(L,1)}for(var z=0,G=P;z<G.length;z++){var K=G[z],q=K.type,Q=K.id,ee=(R=(A=(I=x[q])!=null?I:x[q]={})[C=Q||"__internal_without_id"])!=null?R:A[C]=[],he=ee.includes(k);he||ee.push(k)}})}}),m=vs({name:e+"/subscriptions",initialState:eu,reducers:{updateSubscriptionOptions:function(E,x){},unsubscribeQueryResult:function(E,x){},internal_probeSubscription:function(E,x){}}}),y=vs({name:e+"/internalSubscriptions",initialState:eu,reducers:{subscriptionsUpdated:{reducer:function(E,x){return II(E,x.payload)},prepare:P0()}}}),v=vs({name:e+"/config",initialState:Rt({online:xY(),focused:TY(),middlewareRegistered:!1},u),reducers:{middlewareRegistered:function(E,x){var S=x.payload;E.middlewareRegistered=E.middlewareRegistered==="conflict"||o!==S?"conflict":!0}},extraReducers:function(E){E.addCase(Wx,function(x){x.online=!0}).addCase(x9,function(x){x.online=!1}).addCase(Bx,function(x){x.focused=!0}).addCase(E9,function(x){x.focused=!1}).addMatcher(l,function(x){return Rt({},x)})}}),_=G$({queries:f.reducer,mutations:h.reducer,provided:g.reducer,subscriptions:y.reducer,config:v.reducer}),b=function(E,x){return _(d.match(x)?void 0:E,x)},w=Oi(Rt(Rt(Rt(Rt(Rt({},v.actions),f.actions),m.actions),y.actions),h.actions),{unsubscribeMutationResult:h.actions.removeMutationResult,resetApiState:d});return{reducer:b,actions:w}}var Ko=Symbol.for("RTKQ/skipToken"),C9={status:Ke.uninitialized},w2=gf(C9,function(){}),E2=gf(C9,function(){});function PY(t){var e=t.serializeQueryArgs,n=t.reducerPath,r=function(u){return w2},i=function(u){return E2};return{buildQuerySelector:a,buildMutationSelector:l,selectInvalidatedBy:c};function s(u){return Rt(Rt({},u),EY(u.status))}function o(u){var d=u[n];return d}function a(u,d){return function(f){var h=e({queryArgs:f,endpointDefinition:d,endpointName:u}),g=function(y){var v,_,b;return(b=(_=(v=o(y))==null?void 0:v.queries)==null?void 0:_[h])!=null?b:w2},m=f===Ko?r:g;return Vu(m,s)}}function l(){return function(u){var d,f;typeof u=="object"?f=(d=Kd(u))!=null?d:Ko:f=u;var h=function(m){var y,v,_;return(_=(v=(y=o(m))==null?void 0:y.mutations)==null?void 0:v[f])!=null?_:E2},g=f===Ko?i:h;return Vu(g,s)}}function c(u,d){for(var f,h=u[n],g=new Set,m=0,y=d.map(v1);m<y.length;m++){var v=y[m],_=h.provided[v.type];if(_)for(var b=(f=v.id!==void 0?_[v.id]:g2(Object.values(_)))!=null?f:[],w=0,E=b;w<E.length;w++){var x=E[w];g.add(x)}}return g2(Array.from(g.values()).map(function(S){var I=h.queries[S];return I?[{queryCacheKey:S,endpointName:I.endpointName,originalArgs:I.originalArgs}]:[]}))}}var Oh=WeakMap?new WeakMap:void 0,x2=function(t){var e=t.endpointName,n=t.queryArgs,r="",i=Oh==null?void 0:Oh.get(n);if(typeof i=="string")r=i;else{var s=JSON.stringify(n,function(o,a){return Ql(a)?Object.keys(a).sort().reduce(function(l,c){return l[c]=a[c],l},{}):a});Ql(n)&&(Oh==null||Oh.set(n,s)),r=s}return e+"("+r+")"};function kY(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var i=kb(function(u){var d,f;return(f=r.extractRehydrationInfo)==null?void 0:f.call(r,u,{reducerPath:(d=r.reducerPath)!=null?d:"api"})}),s=Oi(Rt({reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1},r),{extractRehydrationInfo:i,serializeQueryArgs:function(u){var d=x2;if("serializeQueryArgs"in u.endpointDefinition){var f=u.endpointDefinition.serializeQueryArgs;d=function(h){var g=f(h);return typeof g=="string"?g:x2(Oi(Rt({},h),{queryArgs:g}))}}else r.serializeQueryArgs&&(d=r.serializeQueryArgs);return d(u)},tagTypes:tg([],r.tagTypes||[])}),o={endpointDefinitions:{},batch:function(u){u()},apiUid:Z$(),extractRehydrationInfo:i,hasRehydrationInfo:kb(function(u){return i(u)!=null})},a={injectEndpoints:c,enhanceEndpoints:function(u){var d=u.addTagTypes,f=u.endpoints;if(d)for(var h=0,g=d;h<g.length;h++){var m=g[h];s.tagTypes.includes(m)||s.tagTypes.push(m)}if(f)for(var y=0,v=Object.entries(f);y<v.length;y++){var _=v[y],b=_[0],w=_[1];typeof w=="function"?w(o.endpointDefinitions[b]):Object.assign(o.endpointDefinitions[b]||{},w)}return a}},l=t.map(function(u){return u.init(a,s,o)});function c(u){for(var d=u.endpoints({query:function(w){return Oi(Rt({},w),{type:pi.query})},mutation:function(w){return Oi(Rt({},w),{type:pi.mutation})}}),f=0,h=Object.entries(d);f<h.length;f++){var g=h[f],m=g[0],y=g[1];if(!u.overrideExisting&&m in o.endpointDefinitions){typeof process<"u";continue}o.endpointDefinitions[m]=y;for(var v=0,_=l;v<_.length;v++){var b=_[v];b.injectEndpoint(m,y)}}return a}return a.injectEndpoints({endpoints:r.endpoints})}}function $Y(){return function(){throw new Error("When using `fakeBaseQuery`, all queries & mutations must use the `queryFn` definition syntax.")}}function OY(t){for(var e in t)return!1;return!0}var NY=2147483647/1e3-1,MY=function(t){var e=t.reducerPath,n=t.api,r=t.context,i=t.internalState,s=n.internalActions,o=s.removeQueryResult,a=s.unsubscribeQueryResult;function l(f){var h=i.currentSubscriptions[f];return!!h&&!OY(h)}var c={},u=function(f,h,g){var m;if(a.match(f)){var y=h.getState()[e],v=f.payload.queryCacheKey;d(v,(m=y.queries[v])==null?void 0:m.endpointName,h,y.config)}if(n.util.resetApiState.match(f))for(var _=0,b=Object.entries(c);_<b.length;_++){var w=b[_],E=w[0],x=w[1];x&&clearTimeout(x),delete c[E]}if(r.hasRehydrationInfo(f))for(var y=h.getState()[e],S=r.extractRehydrationInfo(f).queries,I=0,A=Object.entries(S);I<A.length;I++){var C=A[I],v=C[0],R=C[1];d(v,R==null?void 0:R.endpointName,h,y.config)}};function d(f,h,g,m){var y,v=r.endpointDefinitions[h],_=(y=v==null?void 0:v.keepUnusedDataFor)!=null?y:m.keepUnusedDataFor;if(_!==1/0){var b=Math.max(0,Math.min(_,NY));if(!l(f)){var w=c[f];w&&clearTimeout(w),c[f]=setTimeout(function(){l(f)||g.dispatch(o({queryCacheKey:f})),delete c[f]},b*1e3)}}}return u},DY=function(t){var e=t.reducerPath,n=t.context,r=t.context.endpointDefinitions,i=t.mutationThunk,s=t.api,o=t.assertTagType,a=t.refetchQuery,l=s.internalActions.removeQueryResult,c=bc(Ta(i),yv(i)),u=function(f,h){c(f)&&d(I9(f,"invalidatesTags",r,o),h),s.util.invalidateTags.match(f)&&d(S9(f.payload,void 0,void 0,void 0,void 0,o),h)};function d(f,h){var g=h.getState(),m=g[e],y=s.util.selectInvalidatedBy(g,f);n.batch(function(){for(var v,_=Array.from(y.values()),b=0,w=_;b<w.length;b++){var E=w[b].queryCacheKey,x=m.queries[E],S=(v=m.subscriptions[E])!=null?v:{};x&&(Object.keys(S).length===0?h.dispatch(l({queryCacheKey:E})):x.status!==Ke.uninitialized&&h.dispatch(a(x,E)))}})}return u},LY=function(t){var e=t.reducerPath,n=t.queryThunk,r=t.api,i=t.refetchQuery,s=t.internalState,o={},a=function(h,g){(r.internalActions.updateSubscriptionOptions.match(h)||r.internalActions.unsubscribeQueryResult.match(h))&&c(h.payload,g),(n.pending.match(h)||n.rejected.match(h)&&h.meta.condition)&&c(h.meta.arg,g),(n.fulfilled.match(h)||n.rejected.match(h)&&!h.meta.condition)&&l(h.meta.arg,g),r.util.resetApiState.match(h)&&d()};function l(h,g){var m=h.queryCacheKey,y=g.getState()[e],v=y.queries[m],_=s.currentSubscriptions[m];if(!(!v||v.status===Ke.uninitialized)){var b=f(_);if(Number.isFinite(b)){var w=o[m];w!=null&&w.timeout&&(clearTimeout(w.timeout),w.timeout=void 0);var E=Date.now()+b,x=o[m]={nextPollTimestamp:E,pollingInterval:b,timeout:setTimeout(function(){x.timeout=void 0,g.dispatch(i(v,m))},b)}}}}function c(h,g){var m=h.queryCacheKey,y=g.getState()[e],v=y.queries[m],_=s.currentSubscriptions[m];if(!(!v||v.status===Ke.uninitialized)){var b=f(_);if(!Number.isFinite(b)){u(m);return}var w=o[m],E=Date.now()+b;(!w||E<w.nextPollTimestamp)&&l({queryCacheKey:m},g)}}function u(h){var g=o[h];g!=null&&g.timeout&&clearTimeout(g.timeout),delete o[h]}function d(){for(var h=0,g=Object.keys(o);h<g.length;h++){var m=g[h];u(m)}}function f(h){h===void 0&&(h={});var g=Number.POSITIVE_INFINITY;for(var m in h)h[m].pollingInterval&&(g=Math.min(h[m].pollingInterval,g));return g}return a},FY=function(t){var e=t.reducerPath,n=t.context,r=t.api,i=t.refetchQuery,s=t.internalState,o=r.internalActions.removeQueryResult,a=function(c,u){Bx.match(c)&&l(u,"refetchOnFocus"),Wx.match(c)&&l(u,"refetchOnReconnect")};function l(c,u){var d=c.getState()[e],f=d.queries,h=s.currentSubscriptions;n.batch(function(){for(var g=0,m=Object.keys(h);g<m.length;g++){var y=m[g],v=f[y],_=h[y];if(!(!_||!v)){var b=Object.values(_).some(function(w){return w[u]===!0})||Object.values(_).every(function(w){return w[u]===void 0})&&d.config[u];b&&(Object.keys(_).length===0?c.dispatch(o({queryCacheKey:y})):v.status!==Ke.uninitialized&&c.dispatch(i(v,y)))}}})}return a},T2=new Error("Promise never resolved before cacheEntryRemoved."),VY=function(t){var e=t.api,n=t.reducerPath,r=t.context,i=t.queryThunk,s=t.mutationThunk;t.internalState;var o=Ob(i),a=Ob(s),l=Ta(i,s),c={},u=function(h,g,m){var y=d(h);if(i.pending.match(h)){var v=m[n].queries[y],_=g.getState()[n].queries[y];!v&&_&&f(h.meta.arg.endpointName,h.meta.arg.originalArgs,y,g,h.meta.requestId)}else if(s.pending.match(h)){var _=g.getState()[n].mutations[y];_&&f(h.meta.arg.endpointName,h.meta.arg.originalArgs,y,g,h.meta.requestId)}else if(l(h)){var b=c[y];b!=null&&b.valueResolved&&(b.valueResolved({data:h.payload,meta:h.meta.baseQueryMeta}),delete b.valueResolved)}else if(e.internalActions.removeQueryResult.match(h)||e.internalActions.removeMutationResult.match(h)){var b=c[y];b&&(delete c[y],b.cacheEntryRemoved())}else if(e.util.resetApiState.match(h))for(var w=0,E=Object.entries(c);w<E.length;w++){var x=E[w],S=x[0],b=x[1];delete c[S],b.cacheEntryRemoved()}};function d(h){return o(h)?h.meta.arg.queryCacheKey:a(h)?h.meta.requestId:e.internalActions.removeQueryResult.match(h)?h.payload.queryCacheKey:e.internalActions.removeMutationResult.match(h)?Kd(h.payload):""}function f(h,g,m,y,v){var _=r.endpointDefinitions[h],b=_==null?void 0:_.onCacheEntryAdded;if(b){var w={},E=new Promise(function(R){w.cacheEntryRemoved=R}),x=Promise.race([new Promise(function(R){w.valueResolved=R}),E.then(function(){throw T2})]);x.catch(function(){}),c[m]=w;var S=e.endpoints[h].select(_.type===pi.query?g:m),I=y.dispatch(function(R,P,k){return k}),A=Oi(Rt({},y),{getCacheEntry:function(){return S(y.getState())},requestId:v,extra:I,updateCachedData:_.type===pi.query?function(R){return y.dispatch(e.util.updateQueryData(h,g,R))}:void 0,cacheDataLoaded:x,cacheEntryRemoved:E}),C=b(g,A);Promise.resolve(C).catch(function(R){if(R!==T2)throw R})}}return u},jY=function(t){var e=t.api,n=t.context,r=t.queryThunk,i=t.mutationThunk,s=fE(r,i),o=wd(r,i),a=Ta(r,i),l={},c=function(u,d){var f,h,g;if(s(u)){var m=u.meta,y=m.requestId,v=m.arg,_=v.endpointName,b=v.originalArgs,w=n.endpointDefinitions[_],E=w==null?void 0:w.onQueryStarted;if(E){var x={},S=new Promise(function(D,V){x.resolve=D,x.reject=V});S.catch(function(){}),l[y]=x;var I=e.endpoints[_].select(w.type===pi.query?b:y),A=d.dispatch(function(D,V,H){return H}),C=Oi(Rt({},d),{getCacheEntry:function(){return I(d.getState())},requestId:y,extra:A,updateCachedData:w.type===pi.query?function(D){return d.dispatch(e.util.updateQueryData(_,b,D))}:void 0,queryFulfilled:S});E(b,C)}}else if(a(u)){var R=u.meta,y=R.requestId,P=R.baseQueryMeta;(f=l[y])==null||f.resolve({data:u.payload,meta:P}),delete l[y]}else if(o(u)){var k=u.meta,y=k.requestId,M=k.rejectedWithValue,P=k.baseQueryMeta;(g=l[y])==null||g.reject({error:(h=u.payload)!=null?h:u.error,isUnhandledError:!M,meta:P}),delete l[y]}};return c},UY=function(t){var e=t.api,n=t.context.apiUid,r=t.reducerPath;return function(i,s){var o,a;e.util.resetApiState.match(i)&&s.dispatch(e.internalActions.middlewareRegistered(n)),typeof process<"u"}},S2,zY=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis):function(t){return(S2||(S2=Promise.resolve())).then(t).catch(function(e){return setTimeout(function(){throw e},0)})},BY=function(t){var e=t.api,n=t.queryThunk,r=t.internalState,i=e.reducerPath+"/subscriptions",s=null,o=!1,a=e.internalActions,l=a.updateSubscriptionOptions,c=a.unsubscribeQueryResult,u=function(d,f){var h,g,m,y,v,_,b,w,E;if(l.match(f)){var x=f.payload,S=x.queryCacheKey,I=x.requestId,A=x.options;return(h=d==null?void 0:d[S])!=null&&h[I]&&(d[S][I]=A),!0}if(c.match(f)){var C=f.payload,S=C.queryCacheKey,I=C.requestId;return d[S]&&delete d[S][I],!0}if(e.internalActions.removeQueryResult.match(f))return delete d[f.payload.queryCacheKey],!0;if(n.pending.match(f)){var R=f.meta,P=R.arg,I=R.requestId;if(P.subscribe){var k=(m=d[g=P.queryCacheKey])!=null?m:d[g]={};return k[I]=(v=(y=P.subscriptionOptions)!=null?y:k[I])!=null?v:{},!0}}if(n.rejected.match(f)){var M=f.meta,D=M.condition,P=M.arg,I=M.requestId;if(D&&P.subscribe){var k=(b=d[_=P.queryCacheKey])!=null?b:d[_]={};return k[I]=(E=(w=P.subscriptionOptions)!=null?w:k[I])!=null?E:{},!0}}return!1};return function(d,f){var h,g;if(s||(s=JSON.parse(JSON.stringify(r.currentSubscriptions))),e.util.resetApiState.match(d))return s=r.currentSubscriptions={},[!0,!1];if(e.internalActions.internal_probeSubscription.match(d)){var m=d.payload,y=m.queryCacheKey,v=m.requestId,_=!!((h=r.currentSubscriptions[y])!=null&&h[v]);return[!1,_]}var b=u(r.currentSubscriptions,d);if(b){o||(zY(function(){var S=JSON.parse(JSON.stringify(r.currentSubscriptions)),I=q$(s,function(){return S}),A=I[1];f.next(e.internalActions.subscriptionsUpdated(A)),s=S,o=!1}),o=!0);var w=!!((g=d.type)!=null&&g.startsWith(i)),E=n.rejected.match(d)&&d.meta.condition&&!!d.meta.arg.subscribe,x=!w&&!E;return[x,!1]}return[!0,!1]}};function WY(t){var e=t.reducerPath,n=t.queryThunk,r=t.api,i=t.context,s=i.apiUid,o={invalidateTags:Rn(e+"/invalidateTags")},a=function(d){return!!d&&typeof d.type=="string"&&d.type.startsWith(e+"/")},l=[UY,MY,DY,LY,VY,jY],c=function(d){var f=!1,h={currentSubscriptions:{}},g=Oi(Rt({},t),{internalState:h,refetchQuery:u}),m=l.map(function(_){return _(g)}),y=BY(g),v=FY(g);return function(_){return function(b){f||(f=!0,d.dispatch(r.internalActions.middlewareRegistered(s)));var w=Oi(Rt({},d),{next:_}),E=d.getState(),x=y(b,w,E),S=x[0],I=x[1],A;if(S?A=_(b):A=I,d.getState()[e]&&(v(b,w,E),a(b)||i.hasRehydrationInfo(b)))for(var C=0,R=m;C<R.length;C++){var P=R[C];P(b,w,E)}return A}}};return{middleware:c,actions:o};function u(d,f,h){return h===void 0&&(h={}),n(Rt({type:"query",endpointName:d.endpointName,originalArgs:d.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:f},h))}}function us(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Object.assign.apply(Object,tg([t],e))}var I2=Symbol(),HY=function(){return{name:I2,init:function(t,e,n){var r=e.baseQuery,i=e.tagTypes,s=e.reducerPath,o=e.serializeQueryArgs,a=e.keepUnusedDataFor,l=e.refetchOnMountOrArgChange,c=e.refetchOnFocus,u=e.refetchOnReconnect;N8();var d=function(K){return typeof process<"u",K};Object.assign(t,{reducerPath:s,endpoints:{},internalActions:{onOnline:Wx,onOffline:x9,onFocus:Bx,onFocusLost:E9},util:{}});var f=AY({baseQuery:r,reducerPath:s,context:n,api:t,serializeQueryArgs:o}),h=f.queryThunk,g=f.mutationThunk,m=f.patchQueryData,y=f.updateQueryData,v=f.upsertQueryData,_=f.prefetch,b=f.buildMatchThunkActions,w=RY({context:n,queryThunk:h,mutationThunk:g,reducerPath:s,assertTagType:d,config:{refetchOnFocus:c,refetchOnReconnect:u,refetchOnMountOrArgChange:l,keepUnusedDataFor:a,reducerPath:s}}),E=w.reducer,x=w.actions;us(t.util,{patchQueryData:m,updateQueryData:y,upsertQueryData:v,prefetch:_,resetApiState:x.resetApiState}),us(t.internalActions,x);var S=WY({reducerPath:s,context:n,queryThunk:h,mutationThunk:g,api:t,assertTagType:d}),I=S.middleware,A=S.actions;us(t.util,A),us(t,{reducer:E,middleware:I});var C=PY({serializeQueryArgs:o,reducerPath:s}),R=C.buildQuerySelector,P=C.buildMutationSelector,k=C.selectInvalidatedBy;us(t.util,{selectInvalidatedBy:k});var M=CY({queryThunk:h,mutationThunk:g,api:t,serializeQueryArgs:o,context:n}),D=M.buildInitiateQuery,V=M.buildInitiateMutation,H=M.getRunningMutationThunk,O=M.getRunningMutationsThunk,$=M.getRunningQueriesThunk,L=M.getRunningQueryThunk,z=M.getRunningOperationPromises,G=M.removalWarning;return us(t.util,{getRunningOperationPromises:z,getRunningOperationPromise:G,getRunningMutationThunk:H,getRunningMutationsThunk:O,getRunningQueryThunk:L,getRunningQueriesThunk:$}),{name:I2,injectEndpoint:function(K,q){var Q,ee,he=t;(ee=(Q=he.endpoints)[K])!=null||(Q[K]={}),T9(q)?us(he.endpoints[K],{name:K,select:R(K,q),initiate:D(K,q)},b(h,K)):SY(q)&&us(he.endpoints[K],{name:K,select:P(),initiate:V(K)},b(g,K))}}}}},qY=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},KY=Object.defineProperty,GY=Object.defineProperties,QY=Object.getOwnPropertyDescriptors,C2=Object.getOwnPropertySymbols,YY=Object.prototype.hasOwnProperty,XY=Object.prototype.propertyIsEnumerable,A2=function(t,e,n){return e in t?KY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Ei=function(t,e){for(var n in e||(e={}))YY.call(e,n)&&A2(t,n,e[n]);if(C2)for(var r=0,i=C2(e);r<i.length;r++){var n=i[r];XY.call(e,n)&&A2(t,n,e[n])}return t},kp=function(t,e){return GY(t,QY(e))};function R2(t,e,n,r){var i=p.useMemo(function(){return{queryArgs:t,serialized:typeof t=="object"?e({queryArgs:t,endpointDefinition:n,endpointName:r}):t}},[t,e,n,r]),s=p.useRef(i);return p.useEffect(function(){s.current.serialized!==i.serialized&&(s.current=i)},[i]),s.current.serialized===i.serialized?s.current.queryArgs:t}var Z0=Symbol();function e_(t){var e=p.useRef(t);return p.useEffect(function(){_m(e.current,t)||(e.current=t)},[t]),_m(e.current,t)?e.current:t}var Nh=WeakMap?new WeakMap:void 0,JY=function(t){var e=t.endpointName,n=t.queryArgs,r="",i=Nh==null?void 0:Nh.get(n);if(typeof i=="string")r=i;else{var s=JSON.stringify(n,function(o,a){return Ql(a)?Object.keys(a).sort().reduce(function(l,c){return l[c]=a[c],l},{}):a});Ql(n)&&(Nh==null||Nh.set(n,s)),r=s}return e+"("+r+")"},ZY=typeof window<"u"&&window.document&&window.document.createElement?p.useLayoutEffect:p.useEffect,eX=function(t){return t},tX=function(t){return t.isUninitialized?kp(Ei({},t),{isUninitialized:!1,isFetching:!0,isLoading:t.data===void 0,status:Ke.pending}):t};function nX(t){var e=t.api,n=t.moduleOptions,r=n.batch,i=n.useDispatch,s=n.useSelector,o=n.useStore,a=n.unstable__sideEffectsInRender,l=t.serializeQueryArgs,c=t.context,u=a?function(m){return m()}:p.useEffect;return{buildQueryHooks:h,buildMutationHook:g,usePrefetch:f};function d(m,y,v){if(y!=null&&y.endpointName&&m.isUninitialized){var _=y.endpointName,b=c.endpointDefinitions[_];l({queryArgs:y.originalArgs,endpointDefinition:b,endpointName:_})===l({queryArgs:v,endpointDefinition:b,endpointName:_})&&(y=void 0)}var w=m.isSuccess?m.data:y==null?void 0:y.data;w===void 0&&(w=m.data);var E=w!==void 0,x=m.isLoading,S=!E&&x,I=m.isSuccess||x&&E;return kp(Ei({},m),{data:w,currentData:m.data,isFetching:x,isLoading:S,isSuccess:I})}function f(m,y){var v=i(),_=e_(y);return p.useCallback(function(b,w){return v(e.util.prefetch(m,b,Ei(Ei({},_),w)))},[m,v,_])}function h(m){var y=function(b,w){var E=w===void 0?{}:w,x=E.refetchOnReconnect,S=E.refetchOnFocus,I=E.refetchOnMountOrArgChange,A=E.skip,C=A===void 0?!1:A,R=E.pollingInterval,P=R===void 0?0:R,k=e.endpoints[m].initiate,M=i(),D=R2(C?Ko:b,JY,c.endpointDefinitions[m],m),V=e_({refetchOnReconnect:x,refetchOnFocus:S,pollingInterval:P}),H=p.useRef(!1),O=p.useRef(),$=O.current||{},L=$.queryCacheKey,z=$.requestId,G=!1;if(L&&z){var K=M(e.internalActions.internal_probeSubscription({queryCacheKey:L,requestId:z}));G=!!K}var q=!G&&H.current;return u(function(){H.current=G}),u(function(){q&&(O.current=void 0)},[q]),u(function(){var Q,ee=O.current;if(typeof process<"u",D===Ko){ee==null||ee.unsubscribe(),O.current=void 0;return}var he=(Q=O.current)==null?void 0:Q.subscriptionOptions;if(!ee||ee.arg!==D){ee==null||ee.unsubscribe();var ut=M(k(D,{subscriptionOptions:V,forceRefetch:I}));O.current=ut}else V!==he&&ee.updateSubscriptionOptions(V)},[M,k,I,D,V,q]),p.useEffect(function(){return function(){var Q;(Q=O.current)==null||Q.unsubscribe(),O.current=void 0}},[]),p.useMemo(function(){return{refetch:function(){var Q;if(!O.current)throw new Error("Cannot refetch a query that has not been started yet.");return(Q=O.current)==null?void 0:Q.refetch()}}},[])},v=function(b){var w=b===void 0?{}:b,E=w.refetchOnReconnect,x=w.refetchOnFocus,S=w.pollingInterval,I=S===void 0?0:S,A=e.endpoints[m].initiate,C=i(),R=p.useState(Z0),P=R[0],k=R[1],M=p.useRef(),D=e_({refetchOnReconnect:E,refetchOnFocus:x,pollingInterval:I});u(function(){var O,$,L=(O=M.current)==null?void 0:O.subscriptionOptions;D!==L&&(($=M.current)==null||$.updateSubscriptionOptions(D))},[D]);var V=p.useRef(D);u(function(){V.current=D},[D]);var H=p.useCallback(function(O,$){$===void 0&&($=!1);var L;return r(function(){var z;(z=M.current)==null||z.unsubscribe(),M.current=L=C(A(O,{subscriptionOptions:V.current,forceRefetch:!$})),k(O)}),L},[C,A]);return p.useEffect(function(){return function(){var O;(O=M==null?void 0:M.current)==null||O.unsubscribe()}},[]),p.useEffect(function(){P!==Z0&&!M.current&&H(P,!0)},[P,H]),p.useMemo(function(){return[H,P]},[H,P])},_=function(b,w){var E=w===void 0?{}:w,x=E.skip,S=x===void 0?!1:x,I=E.selectFromResult,A=e.endpoints[m].select,C=R2(S?Ko:b,l,c.endpointDefinitions[m],m),R=p.useRef(),P=p.useMemo(function(){return Vu([A(C),function(H,O){return O},function(H){return C}],d)},[A,C]),k=p.useMemo(function(){return I?Vu([P],I):P},[P,I]),M=s(function(H){return k(H,R.current)},_m),D=o(),V=P(D.getState(),R.current);return ZY(function(){R.current=V},[V]),M};return{useQueryState:_,useQuerySubscription:y,useLazyQuerySubscription:v,useLazyQuery:function(b){var w=v(b),E=w[0],x=w[1],S=_(x,kp(Ei({},b),{skip:x===Z0})),I=p.useMemo(function(){return{lastArg:x}},[x]);return p.useMemo(function(){return[E,S,I]},[E,S,I])},useQuery:function(b,w){var E=y(b,w),x=_(b,Ei({selectFromResult:b===Ko||w!=null&&w.skip?void 0:tX},w)),S=x.data,I=x.status,A=x.isLoading,C=x.isSuccess,R=x.isError,P=x.error;return p.useDebugValue({data:S,status:I,isLoading:A,isSuccess:C,isError:R,error:P}),p.useMemo(function(){return Ei(Ei({},x),E)},[x,E])}}}function g(m){return function(y){var v=y===void 0?{}:y,_=v.selectFromResult,b=_===void 0?eX:_,w=v.fixedCacheKey,E=e.endpoints[m],x=E.select,S=E.initiate,I=i(),A=p.useState(),C=A[0],R=A[1];p.useEffect(function(){return function(){C!=null&&C.arg.fixedCacheKey||C==null||C.reset()}},[C]);var P=p.useCallback(function(ee){var he=I(S(ee,{fixedCacheKey:w}));return R(he),he},[I,S,w]),k=(C||{}).requestId,M=p.useMemo(function(){return Vu([x({fixedCacheKey:w,requestId:C==null?void 0:C.requestId})],b)},[x,C,b,w]),D=s(M,_m),V=w==null?C==null?void 0:C.arg.originalArgs:void 0,H=p.useCallback(function(){r(function(){C&&R(void 0),w&&I(e.internalActions.removeMutationResult({requestId:k,fixedCacheKey:w}))})},[I,w,C,k]),O=D.endpointName,$=D.data,L=D.status,z=D.isLoading,G=D.isSuccess,K=D.isError,q=D.error;p.useDebugValue({endpointName:O,data:$,status:L,isLoading:z,isSuccess:G,isError:K,error:q});var Q=p.useMemo(function(){return kp(Ei({},D),{originalArgs:V,reset:H})},[D,V,H]);return p.useMemo(function(){return[P,Q]},[P,Q])}}}var ng;(function(t){t.query="query",t.mutation="mutation"})(ng||(ng={}));function rX(t){return t.type===ng.query}function iX(t){return t.type===ng.mutation}function t_(t){return t.replace(t[0],t[0].toUpperCase())}function Mh(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Object.assign.apply(Object,qY([t],e))}var sX=Symbol(),oX=function(t){var e=t===void 0?{}:t,n=e.batch,r=n===void 0?xa.unstable_batchedUpdates:n,i=e.useDispatch,s=i===void 0?U$:i,o=e.useSelector,a=o===void 0?O$:o,l=e.useStore,c=l===void 0?j$:l,u=e.unstable__sideEffectsInRender,d=u===void 0?!1:u;return{name:sX,init:function(f,h,g){var m=h.serializeQueryArgs,y=f,v=nX({api:f,moduleOptions:{batch:r,useDispatch:s,useSelector:a,useStore:c,unstable__sideEffectsInRender:d},serializeQueryArgs:m,context:g}),_=v.buildQueryHooks,b=v.buildMutationHook,w=v.usePrefetch;return Mh(y,{usePrefetch:w}),Mh(g,{batch:r}),{injectEndpoint:function(E,x){if(rX(x)){var S=_(E),I=S.useQuery,A=S.useLazyQuery,C=S.useLazyQuerySubscription,R=S.useQueryState,P=S.useQuerySubscription;Mh(y.endpoints[E],{useQuery:I,useLazyQuery:A,useLazyQuerySubscription:C,useQueryState:R,useQuerySubscription:P}),f["use"+t_(E)+"Query"]=I,f["useLazy"+t_(E)+"Query"]=A}else if(iX(x)){var k=b(E);Mh(y.endpoints[E],{useMutation:k}),f["use"+t_(E)+"Mutation"]=k}}}}}},aX=kY(HY(),oX());const Dl=aX({baseQuery:$Y(),tagTypes:["groupExpense","recentActivity","balanceSummary"],endpoints:()=>({})});let lX={data:""},cX=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||lX,uX=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,dX=/\/\*[^]*?\*\/|  +/g,P2=/\n+/g,Es=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?Es(o,s):s+"{"+Es(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Es(o,e?e.replace(/([^,])+/g,a=>s.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Es.p?Es.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},bi={},A9=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+A9(t[n]);return e}return t},fX=(t,e,n,r,i)=>{let s=A9(t),o=bi[s]||(bi[s]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(s));if(!bi[o]){let l=s!==t?t:(c=>{let u,d,f=[{}];for(;u=uX.exec(c.replace(dX,""));)u[4]?f.shift():u[3]?(d=u[3].replace(P2," ").trim(),f.unshift(f[0][d]=f[0][d]||{})):f[0][u[1]]=u[2].replace(P2," ").trim();return f[0]})(t);bi[o]=Es(i?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&bi.g?bi.g:null;return n&&(bi.g=bi[o]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(bi[o],e,r,a),o},hX=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Es(a,""):a===!1?"":a}return r+i+(o??"")},"");function hy(t){let e=this||{},n=t.call?t(e.p):t;return fX(n.unshift?n.raw?hX(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,cX(e.target),e.g,e.o,e.k)}let R9,_1,b1;hy.bind({g:1});let Qi=hy.bind({k:1});function pX(t,e,n,r){Es.p=e,R9=t,_1=n,b1=r}function Eo(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;n.p=Object.assign({theme:_1&&_1()},a),n.o=/ *go\d+/.test(l),a.className=hy.apply(n,r)+(l?" "+l:""),e&&(a.ref=o);let c=t;return t[0]&&(c=a.as||t,delete a.as),b1&&c[0]&&b1(a),R9(c,a)}return e?e(i):i}}var mX=t=>typeof t=="function",rg=(t,e)=>mX(t)?t(e):t,gX=(()=>{let t=0;return()=>(++t).toString()})(),P9=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),vX=20,$p=new Map,yX=1e3,k2=t=>{if($p.has(t))return;let e=setTimeout(()=>{$p.delete(t),Oa({type:4,toastId:t})},yX);$p.set(t,e)},_X=t=>{let e=$p.get(t);e&&clearTimeout(e)},w1=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,vX)};case 1:return e.toast.id&&_X(e.toast.id),{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return t.toasts.find(s=>s.id===n.id)?w1(t,{type:1,toast:n}):w1(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?k2(r):t.toasts.forEach(s=>{k2(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},Op=[],Np={toasts:[],pausedAt:void 0},Oa=t=>{Np=w1(Np,t),Op.forEach(e=>{e(Np)})},bX={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wX=(t={})=>{let[e,n]=p.useState(Np);p.useEffect(()=>(Op.push(n),()=>{let i=Op.indexOf(n);i>-1&&Op.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o;return{...t,...t[i.type],...i,duration:i.duration||((s=t[i.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||bX[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:r}},EX=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||gX()}),qf=t=>(e,n)=>{let r=EX(e,t,n);return Oa({type:2,toast:r}),r.id},Oe=(t,e)=>qf("blank")(t,e);Oe.error=qf("error");Oe.success=qf("success");Oe.loading=qf("loading");Oe.custom=qf("custom");Oe.dismiss=t=>{Oa({type:3,toastId:t})};Oe.remove=t=>Oa({type:4,toastId:t});Oe.promise=(t,e,n)=>{let r=Oe.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(i=>(Oe.success(rg(e.success,i),{id:r,...n,...n==null?void 0:n.success}),i)).catch(i=>{Oe.error(rg(e.error,i),{id:r,...n,...n==null?void 0:n.error})}),t};var xX=(t,e)=>{Oa({type:1,toast:{id:t,height:e}})},TX=()=>{Oa({type:5,time:Date.now()})},SX=t=>{let{toasts:e,pausedAt:n}=wX(t);p.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&Oe.dismiss(a.id);return}return setTimeout(()=>Oe.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=p.useCallback(()=>{n&&Oa({type:6,time:Date.now()})},[n]),i=p.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=o||{},u=e.filter(h=>(h.position||c)===(s.position||c)&&h.height),d=u.findIndex(h=>h.id===s.id),f=u.filter((h,g)=>g<d&&h.visible).length;return u.filter(h=>h.visible).slice(...a?[f+1]:[0,f]).reduce((h,g)=>h+(g.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:xX,startPause:TX,endPause:r,calculateOffset:i}}},IX=Qi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,CX=Qi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,AX=Qi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,RX=Eo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${IX} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${CX} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${AX} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,PX=Qi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,kX=Eo("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${PX} 1s linear infinite;
`,$X=Qi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,OX=Qi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,NX=Eo("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$X} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${OX} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,MX=Eo("div")`
  position: absolute;
`,DX=Eo("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,LX=Qi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,FX=Eo("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${LX} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,VX=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?p.createElement(FX,null,e):e:n==="blank"?null:p.createElement(DX,null,p.createElement(kX,{...r}),n!=="loading"&&p.createElement(MX,null,n==="error"?p.createElement(RX,{...r}):p.createElement(NX,{...r})))},jX=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,UX=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,zX="0%{opacity:0;} 100%{opacity:1;}",BX="0%{opacity:1;} 100%{opacity:0;}",WX=Eo("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,HX=Eo("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,qX=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=P9()?[zX,BX]:[jX(n),UX(n)];return{animation:e?`${Qi(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Qi(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},KX=p.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?qX(t.position||e||"top-center",t.visible):{opacity:0},s=p.createElement(VX,{toast:t}),o=p.createElement(HX,{...t.ariaProps},rg(t.message,t));return p.createElement(WX,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):p.createElement(p.Fragment,null,s,o))});pX(p.createElement);var GX=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=p.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return p.createElement("div",{ref:s,className:e,style:n},i)},QX=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:P9()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},YX=hy`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Dh=16,XX=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=SX(n);return p.createElement("div",{style:{position:"fixed",zIndex:9999,top:Dh,left:Dh,right:Dh,bottom:Dh,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),f=QX(u,d);return p.createElement(GX,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?YX:"",style:f},c.type==="custom"?rg(c.message,c):i?i(c):p.createElement(KX,{toast:c,position:u}))}))};let tu=null;const JX=Dl.injectEndpoints({endpoints:t=>({fetchUserGroups:t.query({async queryFn(e){try{const n=It(Vt,"userGroups"),r=Ln(n,Gr("user_group_email","array-contains",e)),i=await Fn(r),s=[];return i==null||i.forEach(o=>{s.push({id:o.id,...o.data()})}),{data:s}}catch(n){return console.error(n.message),{error:n.message}}},providesTags:["groupExpense"]}),fetchExpensesForGroup:t.query({async queryFn(e){tu=null;try{const n=Ln(It(Vt,`userGroups/${e}/expenses`),Wd("created_at","desc"),Ku(9),Gr("settled_up","==",!1)),r=await Fn(n);tu=r.docs[r.docs.length-1];const i=[];return r==null||r.forEach(s=>{const o=s.data(),a=o.created_at;i.push({id:s.id,...o,created_at:{seconds:a.seconds,nanoseconds:a.nanoseconds}})}),{data:i}}catch(n){return console.error(n.message),{error:n.message}}},providesTags:["groupExpense"]}),fetchPaginatedExpensesForGroup:t.query({async queryFn(e){try{if(!tu)return{data:[]};const n=Ln(It(Vt,`userGroups/${e}/expenses`),Wd("created_at","desc"),Ku(4),Gr("settled_up","==",!1),RD(tu)),r=await Fn(n);tu=r.docs[r.docs.length-1];const i=[];return r==null||r.forEach(s=>{const o=s.data(),a=o.created_at;i.push({id:s.id,...o,created_at:{seconds:a.seconds,nanoseconds:a.nanoseconds}})}),{data:i}}catch(n){return console.error(n.message),{error:n.message}}},providesTags:["groupExpense"]}),fetchUserExpenses:t.query({async queryFn(e){try{const n=[],r=It(Vt,"userGroups"),i=Ln(r,Gr("user_group_email","array-contains",e)),s=await Fn(i);for(const o of s.docs){const a=Ln(It(o.ref,"expenses"),Ku(3)),l=await Fn(a);for(const c of l.docs)n.push({id:c.id,...c.data()})}return{data:n}}catch(n){return console.error(n.message),{error:n.message}}},providesTags:["groupExpense"]}),setAddGroup:t.mutation({async queryFn({user_group_email:e,user_group_name:n}){try{const r=Oe.loading("Adding group...");return await IG(It(Vt,"userGroups"),{user_group_name:n,user_group_email:e}),Oe.dismiss(r),Oe.success("Group has been added"),{data:null}}catch(r){return console.error(r.message),{error:r.message}}},invalidatesTags:["groupExpense"]}),setAddExpenseToGroup:t.mutation({async queryFn({groupId:e,userExpenseAmountNumber:n,userExpenseDescription:r,userExpenseName:i,settledUp:s,createdAt:o,expenseGroupsArray:a,recentActivityId:l}){try{const{seconds:c,nanoseconds:u}=o,d=new st(c,u),f={user_expense_amount:n,user_expense_description:r,user_expense_name:i,settled_up:s,created_at:d,delete_expense:!1},h=Oe.loading("Adding expense..."),g=ys(It(Vt,`userGroups/${e}/expenses`),l);await Rh(g,{...f});const m=async y=>{var w;const v=It(Vt,"recentExpenses"),_=Ln(v,Gr("user_email","==",y)),b=await Fn(_);if(((w=b.docs[0])==null?void 0:w.id)===void 0){const E=ys(v);await Rh(E,{user_email:y});const x=It(E,"expenses");await Rh(ys(x,l),{...f})}else{const E=It(Vt,"recentExpenses",b.docs[0].id,"expenses");await Rh(ys(E,l),{...f})}};return a.forEach(y=>{m(y)}),Oe.dismiss(h),Oe.success("Expense added"),{data:null}}catch(c){return console.error(c.message),{error:c.message}}},invalidatesTags:["groupExpense"]}),deleteExpenseGroup:t.mutation({async queryFn({groupId:e,expenseId:n,expenseGroupsArray:r}){try{const i=Oe.loading("Deleting expense...");await r2(ys(Vt,`userGroups/${e}/expenses/${n}`));const s=async o=>{const a=It(Vt,"recentExpenses"),l=Ln(a,Gr("user_email","==",o)),c=await Fn(l);await r2(ys(Vt,`recentExpenses/${c.docs[0].id}/expenses/${n}`))};return r.forEach(o=>{s(o)}),Oe.dismiss(i),Oe.success("Expense deleted"),{data:null}}catch(i){return console.error(i.message),{error:i.message}}},invalidatesTags:["groupExpense"]})})}),{useFetchUserGroupsQuery:Na,useFetchExpensesForGroupQuery:k9,useFetchPaginatedExpensesForGroupQuery:ZX,useFetchUserExpensesQuery:Zpe,useSetAddExpenseToGroupMutation:eJ,useSetAddGroupMutation:tJ,useDeleteExpenseGroupMutation:nJ}=JX,rJ=(t,e)=>{p.useEffect(()=>{t==="/"&&e("/")},[t,e])};var iJ=function(e){return sJ(e)&&!oJ(e)};function sJ(t){return!!t&&typeof t=="object"}function oJ(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||cJ(t)}var aJ=typeof Symbol=="function"&&Symbol.for,lJ=aJ?Symbol.for("react.element"):60103;function cJ(t){return t.$$typeof===lJ}function uJ(t){return Array.isArray(t)?[]:{}}function ig(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Gd(uJ(t),t,e):t}function dJ(t,e,n){return t.concat(e).map(function(r){return ig(r,n)})}function fJ(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=ig(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=ig(e[i],n):r[i]=Gd(t[i],e[i],n)}),r}function Gd(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||dJ,n.isMergeableObject=n.isMergeableObject||iJ;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):fJ(t,e,n):ig(e,n)}Gd.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Gd(r,i,n)},{})};var E1=Gd,hJ=typeof global=="object"&&global&&global.Object===Object&&global;const $9=hJ;var pJ=typeof self=="object"&&self&&self.Object===Object&&self,mJ=$9||pJ||Function("return this")();const vi=mJ;var gJ=vi.Symbol;const so=gJ;var O9=Object.prototype,vJ=O9.hasOwnProperty,yJ=O9.toString,nu=so?so.toStringTag:void 0;function _J(t){var e=vJ.call(t,nu),n=t[nu];try{t[nu]=void 0;var r=!0}catch{}var i=yJ.call(t);return r&&(e?t[nu]=n:delete t[nu]),i}var bJ=Object.prototype,wJ=bJ.toString;function EJ(t){return wJ.call(t)}var xJ="[object Null]",TJ="[object Undefined]",$2=so?so.toStringTag:void 0;function Ma(t){return t==null?t===void 0?TJ:xJ:$2&&$2 in Object(t)?_J(t):EJ(t)}function N9(t,e){return function(n){return t(e(n))}}var SJ=N9(Object.getPrototypeOf,Object);const Hx=SJ;function Da(t){return t!=null&&typeof t=="object"}var IJ="[object Object]",CJ=Function.prototype,AJ=Object.prototype,M9=CJ.toString,RJ=AJ.hasOwnProperty,PJ=M9.call(Object);function O2(t){if(!Da(t)||Ma(t)!=IJ)return!1;var e=Hx(t);if(e===null)return!0;var n=RJ.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&M9.call(n)==PJ}var N2=Array.isArray,M2=Object.keys,kJ=Object.prototype.hasOwnProperty,$J=typeof Element<"u";function x1(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=N2(t),r=N2(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!x1(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var c=t instanceof RegExp,u=e instanceof RegExp;if(c!=u)return!1;if(c&&u)return t.toString()==e.toString();var d=M2(t);if(s=d.length,s!==M2(e).length)return!1;for(i=s;i--!==0;)if(!kJ.call(e,d[i]))return!1;if($J&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=d[i],!(o==="_owner"&&t.$$typeof)&&!x1(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var OJ=function(e,n){try{return x1(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const Do=Pg(OJ);var NJ=!0;function MJ(t,e){if(!NJ){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}function DJ(){this.__data__=[],this.size=0}function D9(t,e){return t===e||t!==t&&e!==e}function py(t,e){for(var n=t.length;n--;)if(D9(t[n][0],e))return n;return-1}var LJ=Array.prototype,FJ=LJ.splice;function VJ(t){var e=this.__data__,n=py(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():FJ.call(e,n,1),--this.size,!0}function jJ(t){var e=this.__data__,n=py(e,t);return n<0?void 0:e[n][1]}function UJ(t){return py(this.__data__,t)>-1}function zJ(t,e){var n=this.__data__,r=py(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function is(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}is.prototype.clear=DJ;is.prototype.delete=VJ;is.prototype.get=jJ;is.prototype.has=UJ;is.prototype.set=zJ;function BJ(){this.__data__=new is,this.size=0}function WJ(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function HJ(t){return this.__data__.get(t)}function qJ(t){return this.__data__.has(t)}function Kf(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var KJ="[object AsyncFunction]",GJ="[object Function]",QJ="[object GeneratorFunction]",YJ="[object Proxy]";function L9(t){if(!Kf(t))return!1;var e=Ma(t);return e==GJ||e==QJ||e==KJ||e==YJ}var XJ=vi["__core-js_shared__"];const n_=XJ;var D2=function(){var t=/[^.]+$/.exec(n_&&n_.keys&&n_.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function JJ(t){return!!D2&&D2 in t}var ZJ=Function.prototype,eZ=ZJ.toString;function La(t){if(t!=null){try{return eZ.call(t)}catch{}try{return t+""}catch{}}return""}var tZ=/[\\^$.*+?()[\]{}|]/g,nZ=/^\[object .+?Constructor\]$/,rZ=Function.prototype,iZ=Object.prototype,sZ=rZ.toString,oZ=iZ.hasOwnProperty,aZ=RegExp("^"+sZ.call(oZ).replace(tZ,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lZ(t){if(!Kf(t)||JJ(t))return!1;var e=L9(t)?aZ:nZ;return e.test(La(t))}function cZ(t,e){return t==null?void 0:t[e]}function Fa(t,e){var n=cZ(t,e);return lZ(n)?n:void 0}var uZ=Fa(vi,"Map");const Qd=uZ;var dZ=Fa(Object,"create");const Yd=dZ;function fZ(){this.__data__=Yd?Yd(null):{},this.size=0}function hZ(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var pZ="__lodash_hash_undefined__",mZ=Object.prototype,gZ=mZ.hasOwnProperty;function vZ(t){var e=this.__data__;if(Yd){var n=e[t];return n===pZ?void 0:n}return gZ.call(e,t)?e[t]:void 0}var yZ=Object.prototype,_Z=yZ.hasOwnProperty;function bZ(t){var e=this.__data__;return Yd?e[t]!==void 0:_Z.call(e,t)}var wZ="__lodash_hash_undefined__";function EZ(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Yd&&e===void 0?wZ:e,this}function ga(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ga.prototype.clear=fZ;ga.prototype.delete=hZ;ga.prototype.get=vZ;ga.prototype.has=bZ;ga.prototype.set=EZ;function xZ(){this.size=0,this.__data__={hash:new ga,map:new(Qd||is),string:new ga}}function TZ(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function my(t,e){var n=t.__data__;return TZ(e)?n[typeof e=="string"?"string":"hash"]:n.map}function SZ(t){var e=my(this,t).delete(t);return this.size-=e?1:0,e}function IZ(t){return my(this,t).get(t)}function CZ(t){return my(this,t).has(t)}function AZ(t,e){var n=my(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function xo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}xo.prototype.clear=xZ;xo.prototype.delete=SZ;xo.prototype.get=IZ;xo.prototype.has=CZ;xo.prototype.set=AZ;var RZ=200;function PZ(t,e){var n=this.__data__;if(n instanceof is){var r=n.__data__;if(!Qd||r.length<RZ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new xo(r)}return n.set(t,e),this.size=n.size,this}function Oc(t){var e=this.__data__=new is(t);this.size=e.size}Oc.prototype.clear=BJ;Oc.prototype.delete=WJ;Oc.prototype.get=HJ;Oc.prototype.has=qJ;Oc.prototype.set=PZ;function kZ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var $Z=function(){try{var t=Fa(Object,"defineProperty");return t({},"",{}),t}catch{}}();const L2=$Z;function F9(t,e,n){e=="__proto__"&&L2?L2(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var OZ=Object.prototype,NZ=OZ.hasOwnProperty;function V9(t,e,n){var r=t[e];(!(NZ.call(t,e)&&D9(r,n))||n===void 0&&!(e in t))&&F9(t,e,n)}function gy(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?F9(n,a,l):V9(n,a,l)}return n}function MZ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var DZ="[object Arguments]";function F2(t){return Da(t)&&Ma(t)==DZ}var j9=Object.prototype,LZ=j9.hasOwnProperty,FZ=j9.propertyIsEnumerable,VZ=F2(function(){return arguments}())?F2:function(t){return Da(t)&&LZ.call(t,"callee")&&!FZ.call(t,"callee")};const jZ=VZ;var UZ=Array.isArray;const Gf=UZ;function zZ(){return!1}var U9=typeof qn=="object"&&qn&&!qn.nodeType&&qn,V2=U9&&typeof Kn=="object"&&Kn&&!Kn.nodeType&&Kn,BZ=V2&&V2.exports===U9,j2=BZ?vi.Buffer:void 0,WZ=j2?j2.isBuffer:void 0,HZ=WZ||zZ;const z9=HZ;var qZ=9007199254740991,KZ=/^(?:0|[1-9]\d*)$/;function GZ(t,e){var n=typeof t;return e=e??qZ,!!e&&(n=="number"||n!="symbol"&&KZ.test(t))&&t>-1&&t%1==0&&t<e}var QZ=9007199254740991;function B9(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=QZ}var YZ="[object Arguments]",XZ="[object Array]",JZ="[object Boolean]",ZZ="[object Date]",eee="[object Error]",tee="[object Function]",nee="[object Map]",ree="[object Number]",iee="[object Object]",see="[object RegExp]",oee="[object Set]",aee="[object String]",lee="[object WeakMap]",cee="[object ArrayBuffer]",uee="[object DataView]",dee="[object Float32Array]",fee="[object Float64Array]",hee="[object Int8Array]",pee="[object Int16Array]",mee="[object Int32Array]",gee="[object Uint8Array]",vee="[object Uint8ClampedArray]",yee="[object Uint16Array]",_ee="[object Uint32Array]",je={};je[dee]=je[fee]=je[hee]=je[pee]=je[mee]=je[gee]=je[vee]=je[yee]=je[_ee]=!0;je[YZ]=je[XZ]=je[cee]=je[JZ]=je[uee]=je[ZZ]=je[eee]=je[tee]=je[nee]=je[ree]=je[iee]=je[see]=je[oee]=je[aee]=je[lee]=!1;function bee(t){return Da(t)&&B9(t.length)&&!!je[Ma(t)]}function qx(t){return function(e){return t(e)}}var W9=typeof qn=="object"&&qn&&!qn.nodeType&&qn,Gu=W9&&typeof Kn=="object"&&Kn&&!Kn.nodeType&&Kn,wee=Gu&&Gu.exports===W9,r_=wee&&$9.process,Eee=function(){try{var t=Gu&&Gu.require&&Gu.require("util").types;return t||r_&&r_.binding&&r_.binding("util")}catch{}}();const lc=Eee;var U2=lc&&lc.isTypedArray,xee=U2?qx(U2):bee;const Tee=xee;var See=Object.prototype,Iee=See.hasOwnProperty;function H9(t,e){var n=Gf(t),r=!n&&jZ(t),i=!n&&!r&&z9(t),s=!n&&!r&&!i&&Tee(t),o=n||r||i||s,a=o?MZ(t.length,String):[],l=a.length;for(var c in t)(e||Iee.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||GZ(c,l)))&&a.push(c);return a}var Cee=Object.prototype;function Kx(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Cee;return t===n}var Aee=N9(Object.keys,Object);const Ree=Aee;var Pee=Object.prototype,kee=Pee.hasOwnProperty;function $ee(t){if(!Kx(t))return Ree(t);var e=[];for(var n in Object(t))kee.call(t,n)&&n!="constructor"&&e.push(n);return e}function q9(t){return t!=null&&B9(t.length)&&!L9(t)}function Gx(t){return q9(t)?H9(t):$ee(t)}function Oee(t,e){return t&&gy(e,Gx(e),t)}function Nee(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Mee=Object.prototype,Dee=Mee.hasOwnProperty;function Lee(t){if(!Kf(t))return Nee(t);var e=Kx(t),n=[];for(var r in t)r=="constructor"&&(e||!Dee.call(t,r))||n.push(r);return n}function Qx(t){return q9(t)?H9(t,!0):Lee(t)}function Fee(t,e){return t&&gy(e,Qx(e),t)}var K9=typeof qn=="object"&&qn&&!qn.nodeType&&qn,z2=K9&&typeof Kn=="object"&&Kn&&!Kn.nodeType&&Kn,Vee=z2&&z2.exports===K9,B2=Vee?vi.Buffer:void 0,W2=B2?B2.allocUnsafe:void 0;function jee(t,e){if(e)return t.slice();var n=t.length,r=W2?W2(n):new t.constructor(n);return t.copy(r),r}function G9(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function Uee(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function Q9(){return[]}var zee=Object.prototype,Bee=zee.propertyIsEnumerable,H2=Object.getOwnPropertySymbols,Wee=H2?function(t){return t==null?[]:(t=Object(t),Uee(H2(t),function(e){return Bee.call(t,e)}))}:Q9;const Yx=Wee;function Hee(t,e){return gy(t,Yx(t),e)}function Y9(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var qee=Object.getOwnPropertySymbols,Kee=qee?function(t){for(var e=[];t;)Y9(e,Yx(t)),t=Hx(t);return e}:Q9;const X9=Kee;function Gee(t,e){return gy(t,X9(t),e)}function J9(t,e,n){var r=e(t);return Gf(t)?r:Y9(r,n(t))}function Qee(t){return J9(t,Gx,Yx)}function Yee(t){return J9(t,Qx,X9)}var Xee=Fa(vi,"DataView");const T1=Xee;var Jee=Fa(vi,"Promise");const S1=Jee;var Zee=Fa(vi,"Set");const I1=Zee;var ete=Fa(vi,"WeakMap");const C1=ete;var q2="[object Map]",tte="[object Object]",K2="[object Promise]",G2="[object Set]",Q2="[object WeakMap]",Y2="[object DataView]",nte=La(T1),rte=La(Qd),ite=La(S1),ste=La(I1),ote=La(C1),Lo=Ma;(T1&&Lo(new T1(new ArrayBuffer(1)))!=Y2||Qd&&Lo(new Qd)!=q2||S1&&Lo(S1.resolve())!=K2||I1&&Lo(new I1)!=G2||C1&&Lo(new C1)!=Q2)&&(Lo=function(t){var e=Ma(t),n=e==tte?t.constructor:void 0,r=n?La(n):"";if(r)switch(r){case nte:return Y2;case rte:return q2;case ite:return K2;case ste:return G2;case ote:return Q2}return e});const Xx=Lo;var ate=Object.prototype,lte=ate.hasOwnProperty;function cte(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&lte.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var ute=vi.Uint8Array;const X2=ute;function Jx(t){var e=new t.constructor(t.byteLength);return new X2(e).set(new X2(t)),e}function dte(t,e){var n=e?Jx(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var fte=/\w*$/;function hte(t){var e=new t.constructor(t.source,fte.exec(t));return e.lastIndex=t.lastIndex,e}var J2=so?so.prototype:void 0,Z2=J2?J2.valueOf:void 0;function pte(t){return Z2?Object(Z2.call(t)):{}}function mte(t,e){var n=e?Jx(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var gte="[object Boolean]",vte="[object Date]",yte="[object Map]",_te="[object Number]",bte="[object RegExp]",wte="[object Set]",Ete="[object String]",xte="[object Symbol]",Tte="[object ArrayBuffer]",Ste="[object DataView]",Ite="[object Float32Array]",Cte="[object Float64Array]",Ate="[object Int8Array]",Rte="[object Int16Array]",Pte="[object Int32Array]",kte="[object Uint8Array]",$te="[object Uint8ClampedArray]",Ote="[object Uint16Array]",Nte="[object Uint32Array]";function Mte(t,e,n){var r=t.constructor;switch(e){case Tte:return Jx(t);case gte:case vte:return new r(+t);case Ste:return dte(t,n);case Ite:case Cte:case Ate:case Rte:case Pte:case kte:case $te:case Ote:case Nte:return mte(t,n);case yte:return new r;case _te:case Ete:return new r(t);case bte:return hte(t);case wte:return new r;case xte:return pte(t)}}var eA=Object.create,Dte=function(){function t(){}return function(e){if(!Kf(e))return{};if(eA)return eA(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const Lte=Dte;function Fte(t){return typeof t.constructor=="function"&&!Kx(t)?Lte(Hx(t)):{}}var Vte="[object Map]";function jte(t){return Da(t)&&Xx(t)==Vte}var tA=lc&&lc.isMap,Ute=tA?qx(tA):jte;const zte=Ute;var Bte="[object Set]";function Wte(t){return Da(t)&&Xx(t)==Bte}var nA=lc&&lc.isSet,Hte=nA?qx(nA):Wte;const qte=Hte;var Kte=1,Gte=2,Qte=4,Z9="[object Arguments]",Yte="[object Array]",Xte="[object Boolean]",Jte="[object Date]",Zte="[object Error]",e4="[object Function]",ene="[object GeneratorFunction]",tne="[object Map]",nne="[object Number]",t4="[object Object]",rne="[object RegExp]",ine="[object Set]",sne="[object String]",one="[object Symbol]",ane="[object WeakMap]",lne="[object ArrayBuffer]",cne="[object DataView]",une="[object Float32Array]",dne="[object Float64Array]",fne="[object Int8Array]",hne="[object Int16Array]",pne="[object Int32Array]",mne="[object Uint8Array]",gne="[object Uint8ClampedArray]",vne="[object Uint16Array]",yne="[object Uint32Array]",Ne={};Ne[Z9]=Ne[Yte]=Ne[lne]=Ne[cne]=Ne[Xte]=Ne[Jte]=Ne[une]=Ne[dne]=Ne[fne]=Ne[hne]=Ne[pne]=Ne[tne]=Ne[nne]=Ne[t4]=Ne[rne]=Ne[ine]=Ne[sne]=Ne[one]=Ne[mne]=Ne[gne]=Ne[vne]=Ne[yne]=!0;Ne[Zte]=Ne[e4]=Ne[ane]=!1;function Mp(t,e,n,r,i,s){var o,a=e&Kte,l=e&Gte,c=e&Qte;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Kf(t))return t;var u=Gf(t);if(u){if(o=cte(t),!a)return G9(t,o)}else{var d=Xx(t),f=d==e4||d==ene;if(z9(t))return jee(t,a);if(d==t4||d==Z9||f&&!i){if(o=l||f?{}:Fte(t),!a)return l?Gee(t,Fee(o,t)):Hee(t,Oee(o,t))}else{if(!Ne[d])return i?t:{};o=Mte(t,d,a)}}s||(s=new Oc);var h=s.get(t);if(h)return h;s.set(t,o),qte(t)?t.forEach(function(y){o.add(Mp(y,e,n,y,t,s))}):zte(t)&&t.forEach(function(y,v){o.set(v,Mp(y,e,n,v,t,s))});var g=c?l?Yee:Qee:l?Qx:Gx,m=u?void 0:g(t);return kZ(m||t,function(y,v){m&&(v=y,y=t[v]),V9(o,v,Mp(y,e,n,v,t,s))}),o}var _ne=4;function rA(t){return Mp(t,_ne)}function n4(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var bne="[object Symbol]";function Zx(t){return typeof t=="symbol"||Da(t)&&Ma(t)==bne}var wne="Expected a function";function eT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(wne);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(eT.Cache||xo),n}eT.Cache=xo;var Ene=500;function xne(t){var e=eT(t,function(r){return n.size===Ene&&n.clear(),r}),n=e.cache;return e}var Tne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sne=/\\(\\)?/g,Ine=xne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Tne,function(n,r,i,s){e.push(i?s.replace(Sne,"$1"):r||n)}),e});const Cne=Ine;var Ane=1/0;function Rne(t){if(typeof t=="string"||Zx(t))return t;var e=t+"";return e=="0"&&1/t==-Ane?"-0":e}var Pne=1/0,iA=so?so.prototype:void 0,sA=iA?iA.toString:void 0;function r4(t){if(typeof t=="string")return t;if(Gf(t))return n4(t,r4)+"";if(Zx(t))return sA?sA.call(t):"";var e=t+"";return e=="0"&&1/t==-Pne?"-0":e}function kne(t){return t==null?"":r4(t)}function i4(t){return Gf(t)?n4(t,Rne):Zx(t)?[t]:G9(Cne(kne(t)))}function Ue(){return Ue=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ue.apply(this,arguments)}function _l(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var vy=p.createContext(void 0);vy.displayName="FormikContext";var $ne=vy.Provider;vy.Consumer;function s4(){var t=p.useContext(vy);return t||MJ(!1),t}var Nn=function(e){return typeof e=="function"},yy=function(e){return e!==null&&typeof e=="object"},One=function(e){return String(Math.floor(Number(e)))===e},i_=function(e){return Object.prototype.toString.call(e)==="[object String]"},Nne=function(e){return p.Children.count(e)===0},s_=function(e){return yy(e)&&Nn(e.then)};function $n(t,e,n,r){r===void 0&&(r=0);for(var i=i4(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function ea(t,e,n){for(var r=rA(t),i=r,s=0,o=i4(e);s<o.length-1;s++){var a=o[s],l=$n(t,o.slice(0,s+1));if(l&&(yy(l)||Array.isArray(l)))i=i[a]=rA(l);else{var c=o[s+1];i=i[a]=One(c)&&Number(c)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function o4(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];yy(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},o4(a,e,n,r[o])):r[o]=e}return r}function Mne(t,e){switch(e.type){case"SET_VALUES":return Ue({},t,{values:e.payload});case"SET_TOUCHED":return Ue({},t,{touched:e.payload});case"SET_ERRORS":return Do(t.errors,e.payload)?t:Ue({},t,{errors:e.payload});case"SET_STATUS":return Ue({},t,{status:e.payload});case"SET_ISSUBMITTING":return Ue({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Ue({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Ue({},t,{values:ea(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Ue({},t,{touched:ea(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Ue({},t,{errors:ea(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Ue({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Ue({},t,{touched:o4(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Ue({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Ue({},t,{isSubmitting:!1});default:return t}}var Io={},Lh={};function _y(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,c=l===void 0?!1:l,u=t.onSubmit,d=_l(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=Ue({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:u},d),h=p.useRef(f.initialValues),g=p.useRef(f.initialErrors||Io),m=p.useRef(f.initialTouched||Lh),y=p.useRef(f.initialStatus),v=p.useRef(!1),_=p.useRef({});p.useEffect(function(){return v.current=!0,function(){v.current=!1}},[]);var b=p.useState(0),w=b[1],E=p.useRef({values:f.initialValues,errors:f.initialErrors||Io,touched:f.initialTouched||Lh,status:f.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),x=E.current,S=p.useCallback(function(N){var J=E.current;E.current=Mne(J,N),J!==E.current&&w(function(re){return re+1})},[]),I=p.useCallback(function(N,J){return new Promise(function(re,oe){var pe=f.validate(N,J);pe==null?re(Io):s_(pe)?pe.then(function(Ce){re(Ce||Io)},function(Ce){oe(Ce)}):re(pe)})},[f.validate]),A=p.useCallback(function(N,J){var re=f.validationSchema,oe=Nn(re)?re(J):re,pe=J&&oe.validateAt?oe.validateAt(J,N):Lne(N,oe);return new Promise(function(Ce,Tt){pe.then(function(){Ce(Io)},function(_i){_i.name==="ValidationError"?Ce(Dne(_i)):Tt(_i)})})},[f.validationSchema]),C=p.useCallback(function(N,J){return new Promise(function(re){return re(_.current[N].validate(J))})},[]),R=p.useCallback(function(N){var J=Object.keys(_.current).filter(function(oe){return Nn(_.current[oe].validate)}),re=J.length>0?J.map(function(oe){return C(oe,$n(N,oe))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(re).then(function(oe){return oe.reduce(function(pe,Ce,Tt){return Ce==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ce&&(pe=ea(pe,J[Tt],Ce)),pe},{})})},[C]),P=p.useCallback(function(N){return Promise.all([R(N),f.validationSchema?A(N):{},f.validate?I(N):{}]).then(function(J){var re=J[0],oe=J[1],pe=J[2],Ce=E1.all([re,oe,pe],{arrayMerge:Fne});return Ce})},[f.validate,f.validationSchema,R,I,A]),k=sr(function(N){return N===void 0&&(N=x.values),S({type:"SET_ISVALIDATING",payload:!0}),P(N).then(function(J){return v.current&&(S({type:"SET_ISVALIDATING",payload:!1}),S({type:"SET_ERRORS",payload:J})),J})});p.useEffect(function(){o&&v.current===!0&&Do(h.current,f.initialValues)&&k(h.current)},[o,k]);var M=p.useCallback(function(N){var J=N&&N.values?N.values:h.current,re=N&&N.errors?N.errors:g.current?g.current:f.initialErrors||{},oe=N&&N.touched?N.touched:m.current?m.current:f.initialTouched||{},pe=N&&N.status?N.status:y.current?y.current:f.initialStatus;h.current=J,g.current=re,m.current=oe,y.current=pe;var Ce=function(){S({type:"RESET_FORM",payload:{isSubmitting:!!N&&!!N.isSubmitting,errors:re,touched:oe,status:pe,values:J,isValidating:!!N&&!!N.isValidating,submitCount:N&&N.submitCount&&typeof N.submitCount=="number"?N.submitCount:0}})};if(f.onReset){var Tt=f.onReset(x.values,yi);s_(Tt)?Tt.then(Ce):Ce()}else Ce()},[f.initialErrors,f.initialStatus,f.initialTouched]);p.useEffect(function(){v.current===!0&&!Do(h.current,f.initialValues)&&c&&(h.current=f.initialValues,M(),o&&k(h.current))},[c,f.initialValues,M,o,k]),p.useEffect(function(){c&&v.current===!0&&!Do(g.current,f.initialErrors)&&(g.current=f.initialErrors||Io,S({type:"SET_ERRORS",payload:f.initialErrors||Io}))},[c,f.initialErrors]),p.useEffect(function(){c&&v.current===!0&&!Do(m.current,f.initialTouched)&&(m.current=f.initialTouched||Lh,S({type:"SET_TOUCHED",payload:f.initialTouched||Lh}))},[c,f.initialTouched]),p.useEffect(function(){c&&v.current===!0&&!Do(y.current,f.initialStatus)&&(y.current=f.initialStatus,S({type:"SET_STATUS",payload:f.initialStatus}))},[c,f.initialStatus,f.initialTouched]);var D=sr(function(N){if(_.current[N]&&Nn(_.current[N].validate)){var J=$n(x.values,N),re=_.current[N].validate(J);return s_(re)?(S({type:"SET_ISVALIDATING",payload:!0}),re.then(function(oe){return oe}).then(function(oe){S({type:"SET_FIELD_ERROR",payload:{field:N,value:oe}}),S({type:"SET_ISVALIDATING",payload:!1})})):(S({type:"SET_FIELD_ERROR",payload:{field:N,value:re}}),Promise.resolve(re))}else if(f.validationSchema)return S({type:"SET_ISVALIDATING",payload:!0}),A(x.values,N).then(function(oe){return oe}).then(function(oe){S({type:"SET_FIELD_ERROR",payload:{field:N,value:$n(oe,N)}}),S({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),V=p.useCallback(function(N,J){var re=J.validate;_.current[N]={validate:re}},[]),H=p.useCallback(function(N){delete _.current[N]},[]),O=sr(function(N,J){S({type:"SET_TOUCHED",payload:N});var re=J===void 0?i:J;return re?k(x.values):Promise.resolve()}),$=p.useCallback(function(N){S({type:"SET_ERRORS",payload:N})},[]),L=sr(function(N,J){var re=Nn(N)?N(x.values):N;S({type:"SET_VALUES",payload:re});var oe=J===void 0?n:J;return oe?k(re):Promise.resolve()}),z=p.useCallback(function(N,J){S({type:"SET_FIELD_ERROR",payload:{field:N,value:J}})},[]),G=sr(function(N,J,re){S({type:"SET_FIELD_VALUE",payload:{field:N,value:J}});var oe=re===void 0?n:re;return oe?k(ea(x.values,N,J)):Promise.resolve()}),K=p.useCallback(function(N,J){var re=J,oe=N,pe;if(!i_(N)){N.persist&&N.persist();var Ce=N.target?N.target:N.currentTarget,Tt=Ce.type,_i=Ce.name,Ky=Ce.id,Gy=Ce.value,hL=Ce.checked,Bpe=Ce.outerHTML,ZT=Ce.options,pL=Ce.multiple;re=J||_i||Ky,oe=/number|range/.test(Tt)?(pe=parseFloat(Gy),isNaN(pe)?"":pe):/checkbox/.test(Tt)?jne($n(x.values,re),hL,Gy):ZT&&pL?Vne(ZT):Gy}re&&G(re,oe)},[G,x.values]),q=sr(function(N){if(i_(N))return function(J){return K(J,N)};K(N)}),Q=sr(function(N,J,re){J===void 0&&(J=!0),S({type:"SET_FIELD_TOUCHED",payload:{field:N,value:J}});var oe=re===void 0?i:re;return oe?k(x.values):Promise.resolve()}),ee=p.useCallback(function(N,J){N.persist&&N.persist();var re=N.target,oe=re.name,pe=re.id,Ce=re.outerHTML,Tt=J||oe||pe;Q(Tt,!0)},[Q]),he=sr(function(N){if(i_(N))return function(J){return ee(J,N)};ee(N)}),ut=p.useCallback(function(N){Nn(N)?S({type:"SET_FORMIK_STATE",payload:N}):S({type:"SET_FORMIK_STATE",payload:function(){return N}})},[]),wt=p.useCallback(function(N){S({type:"SET_STATUS",payload:N})},[]),Jt=p.useCallback(function(N){S({type:"SET_ISSUBMITTING",payload:N})},[]),ir=sr(function(){return S({type:"SUBMIT_ATTEMPT"}),k().then(function(N){var J=N instanceof Error,re=!J&&Object.keys(N).length===0;if(re){var oe;try{if(oe=Fc(),oe===void 0)return}catch(pe){throw pe}return Promise.resolve(oe).then(function(pe){return v.current&&S({type:"SUBMIT_SUCCESS"}),pe}).catch(function(pe){if(v.current)throw S({type:"SUBMIT_FAILURE"}),pe})}else if(v.current&&(S({type:"SUBMIT_FAILURE"}),J))throw N})}),qe=sr(function(N){N&&N.preventDefault&&Nn(N.preventDefault)&&N.preventDefault(),N&&N.stopPropagation&&Nn(N.stopPropagation)&&N.stopPropagation(),ir().catch(function(J){console.warn("Warning: An unhandled error was caught from submitForm()",J)})}),yi={resetForm:M,validateForm:k,validateField:D,setErrors:$,setFieldError:z,setFieldTouched:Q,setFieldValue:G,setStatus:wt,setSubmitting:Jt,setTouched:O,setValues:L,setFormikState:ut,submitForm:ir},Fc=sr(function(){return u(x.values,yi)}),By=sr(function(N){N&&N.preventDefault&&Nn(N.preventDefault)&&N.preventDefault(),N&&N.stopPropagation&&Nn(N.stopPropagation)&&N.stopPropagation(),M()}),Wy=p.useCallback(function(N){return{value:$n(x.values,N),error:$n(x.errors,N),touched:!!$n(x.touched,N),initialValue:$n(h.current,N),initialTouched:!!$n(m.current,N),initialError:$n(g.current,N)}},[x.errors,x.touched,x.values]),Hy=p.useCallback(function(N){return{setValue:function(re,oe){return G(N,re,oe)},setTouched:function(re,oe){return Q(N,re,oe)},setError:function(re){return z(N,re)}}},[G,Q,z]),qy=p.useCallback(function(N){var J=yy(N),re=J?N.name:N,oe=$n(x.values,re),pe={name:re,value:oe,onChange:q,onBlur:he};if(J){var Ce=N.type,Tt=N.value,_i=N.as,Ky=N.multiple;Ce==="checkbox"?Tt===void 0?pe.checked=!!oe:(pe.checked=!!(Array.isArray(oe)&&~oe.indexOf(Tt)),pe.value=Tt):Ce==="radio"?(pe.checked=oe===Tt,pe.value=Tt):_i==="select"&&Ky&&(pe.value=pe.value||[],pe.multiple=!0)}return pe},[he,q,x.values]),Vc=p.useMemo(function(){return!Do(h.current,x.values)},[h.current,x.values]),Ha=p.useMemo(function(){return typeof a<"u"?Vc?x.errors&&Object.keys(x.errors).length===0:a!==!1&&Nn(a)?a(f):a:x.errors&&Object.keys(x.errors).length===0},[a,Vc,x.errors,f]),fL=Ue({},x,{initialValues:h.current,initialErrors:g.current,initialTouched:m.current,initialStatus:y.current,handleBlur:he,handleChange:q,handleReset:By,handleSubmit:qe,resetForm:M,setErrors:$,setFormikState:ut,setFieldTouched:Q,setFieldValue:G,setFieldError:z,setStatus:wt,setSubmitting:Jt,setTouched:O,setValues:L,submitForm:ir,validateForm:k,validateField:D,isValid:Ha,dirty:Vc,unregisterField:H,registerField:V,getFieldProps:qy,getFieldMeta:Wy,getFieldHelpers:Hy,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return fL}function a4(t){var e=_y(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return p.useImperativeHandle(s,function(){return e}),p.createElement($ne,{value:e},n?p.createElement(n,e):i?i(e):r?Nn(r)?r(e):Nne(r)?null:p.Children.only(r):null)}function Dne(t){var e={};if(t.inner){if(t.inner.length===0)return ea(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;$n(e,o.path)||(e=ea(e,o.path,o.message))}}return e}function Lne(t,e,n,r){n===void 0&&(n=!1);var i=A1(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function A1(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||O2(i)?A1(i):i!==""?i:void 0}):O2(t[r])?e[r]=A1(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function Fne(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?E1(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=E1(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function Vne(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function jne(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var Une=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?p.useLayoutEffect:p.useEffect;function sr(t){var e=p.useRef(t);return Une(function(){e.current=t}),p.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function sg(t){var e=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,a=_l(t,["validate","name","render","children","as","component"]),l=s4(),c=_l(l,["validate","validationSchema"]),u=c.registerField,d=c.unregisterField;p.useEffect(function(){return u(n,{validate:e}),function(){d(n)}},[u,d,n,e]);var f=c.getFieldProps(Ue({name:n},a)),h=c.getFieldMeta(n),g={field:f,form:c};if(r)return r(Ue({},g,{meta:h}));if(Nn(i))return i(Ue({},g,{meta:h}));if(o){if(typeof o=="string"){var m=a.innerRef,y=_l(a,["innerRef"]);return p.createElement(o,Ue({ref:m},f,y),i)}return p.createElement(o,Ue({field:f,form:c},a),i)}var v=s||"input";if(typeof v=="string"){var _=a.innerRef,b=_l(a,["innerRef"]);return p.createElement(v,Ue({ref:_},f,b),i)}return p.createElement(v,Ue({},f,a),i)}var tT=p.forwardRef(function(t,e){var n=t.action,r=_l(t,["action"]),i=n??"#",s=s4(),o=s.handleReset,a=s.handleSubmit;return p.createElement("form",Ue({onSubmit:a,ref:e,onReset:o,action:i},r))});tT.displayName="Form";function Va(t){this._maxSize=t,this.clear()}Va.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Va.prototype.get=function(t){return this._values[t]};Va.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var zne=/[^.^\]^[]+|(?=\[\]|\.\.)/g,l4=/^\d+$/,Bne=/^\d/,Wne=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Hne=/^\s*(['"]?)(.*?)(\1)\s*$/,nT=512,oA=new Va(nT),aA=new Va(nT),lA=new Va(nT),ta={Cache:Va,split:R1,normalizePath:o_,setter:function(t){var e=o_(t);return aA.get(t)||aA.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=o_(t);return lA.get(t)||lA.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(rT(n)||l4.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){qne(Array.isArray(t)?t:R1(t),e,n)}};function o_(t){return oA.get(t)||oA.set(t,R1(t).map(function(e){return e.replace(Hne,"$2")}))}function R1(t){return t.match(zne)||[""]}function qne(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(Qne(i)&&(i='"'+i+'"'),a=rT(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function rT(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Kne(t){return t.match(Bne)&&!t.match(l4)}function Gne(t){return Wne.test(t)}function Qne(t){return!rT(t)&&(Kne(t)||Gne(t))}const Yne=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,by=t=>t.match(Yne)||[],wy=t=>t[0].toUpperCase()+t.slice(1),iT=(t,e)=>by(t).join(e).toLowerCase(),c4=t=>by(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),Xne=t=>wy(c4(t)),Jne=t=>iT(t,"_"),Zne=t=>iT(t,"-"),ere=t=>wy(iT(t," ")),tre=t=>by(t).map(wy).join(" ");var a_={words:by,upperFirst:wy,camelCase:c4,pascalCase:Xne,snakeCase:Jne,kebabCase:Zne,sentenceCase:ere,titleCase:tre},sT={exports:{}};sT.exports=function(t){return u4(nre(t),t)};sT.exports.array=u4;function u4(t,e){var n=t.length,r=new Array(n),i={},s=n,o=rre(e),a=ire(t);for(e.forEach(function(c){if(!a.has(c[0])||!a.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(c,u,d){if(d.has(c)){var f;try{f=", node was:"+JSON.stringify(c)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[u]){i[u]=!0;var h=o.get(c)||new Set;if(h=Array.from(h),u=h.length){d.add(c);do{var g=h[--u];l(g,a.get(g),d)}while(u);d.delete(c)}r[--n]=c}}}function nre(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function rre(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function ire(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var sre=sT.exports;const ore=Pg(sre),are=Object.prototype.toString,lre=Error.prototype.toString,cre=RegExp.prototype.toString,ure=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",dre=/^Symbol\((.*)\)(.*)$/;function fre(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function cA(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return fre(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return ure.call(t).replace(dre,"Symbol($1)");const r=are.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+lre.call(t)+"]":r==="RegExp"?cre.call(t):null}function na(t,e){let n=cA(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=cA(this[r],e);return s!==null?s:i},2)}function d4(t){return t==null?[]:[].concat(t)}let hre=/\$\{\s*(\w+)\s*\}/g;class Vn extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(hre,(i,s)=>na(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],d4(e).forEach(s=>{Vn.isError(s)?(this.errors.push(...s.errors),this.inner=this.inner.concat(s.inner.length?s.inner:s)):this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,Vn)}}let Ii={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${na(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${na(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${na(n,!0)}\``+i}},xr={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},hs={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},P1={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},pre={isValue:"${path} field must be ${value}"},k1={noUnknown:"${path} field has unspecified keys: ${unknown}"},Dp={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:Ii,string:xr,number:hs,date:P1,object:k1,array:Dp,boolean:pre});const Ey=t=>t&&t.__isYupSchema__;class og{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new og(e,(a,l)=>{var c;let u=o(...a)?i:s;return(c=u==null?void 0:u(l))!=null?c:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!Ey(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const Fh={context:"$",value:"."};class ja{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Fh.context,this.isValue=this.key[0]===Fh.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Fh.context:this.isValue?Fh.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&ta.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ja.prototype.__isYupRef=!0;const Ni=t=>t==null;function Ya(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:c,test:u,params:d,message:f,skipAbsent:h}=t;let{parent:g,context:m,abortEarly:y=o.spec.abortEarly}=i;function v(C){return ja.isRef(C)?C.getValue(n,g,m):C}function _(C={}){const R=Object.assign({value:n,originalValue:s,label:o.spec.label,path:C.path||r,spec:o.spec},d,C.params);for(const k of Object.keys(R))R[k]=v(R[k]);const P=new Vn(Vn.formatError(C.message||f,R),n,R.path,C.type||c);return P.params=R,P}const b=y?a:l;let w={path:r,parent:g,type:c,from:i.from,createError:_,resolve:v,options:i,originalValue:s,schema:o};const E=C=>{Vn.isError(C)?b(C):C?l(null):b(_())},x=C=>{Vn.isError(C)?b(C):a(C)},S=h&&Ni(n);if(!i.sync){try{Promise.resolve(S?!0:u.call(w,n,w)).then(E,x)}catch(C){x(C)}return}let I;try{var A;if(I=S?!0:u.call(w,n,w),typeof((A=I)==null?void 0:A.then)=="function")throw new Error(`Validation test of type: "${w.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(C){x(C);return}E(I)}return e.OPTIONS=t,e}function mre(t,e,n,r=n){let i,s,o;return e?(ta.forEach(e,(a,l,c)=>{let u=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let d=t.type==="tuple",f=c?parseInt(u,10):0;if(t.innerType||d){if(d&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[f],t=d?t.spec.types[f]:t.innerType}if(!c){if(!t.fields||!t.fields[u])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[u],t=t.fields[u]}s=u,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class ag extends Set{describe(){const e=[];for(const n of this.values())e.push(ja.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new ag(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function bl(t,e=new Map){if(Ey(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=bl(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,bl(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(bl(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=bl(i,e)}else throw Error(`Unable to clone ${t}`);return n}class vr{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new ag,this._blacklist=new ag,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Ii.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=bl(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&Ni(s))return s;let o=na(e),a=na(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let c=[];for(let u of Object.values(this.internalTests))u&&c.push(u);this.runTests({path:s,value:l,originalValue:o,options:n,tests:c},r,u=>{if(u.length)return i(u,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:c}=e,u=m=>{i||(i=!0,n(m,o))},d=m=>{i||(i=!0,r(m,o))},f=s.length,h=[];if(!f)return d([]);let g={value:o,originalValue:a,path:l,options:c,schema:this};for(let m=0;m<s.length;m++){const y=s[m];y(g,u,function(_){_&&(h=h.concat(_)),--f<=0&&d(h)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let c=r[a];const u=Object.assign({},o,{strict:!0,parent:r,value:c,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${c?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(d,f,h)=>this.resolve(u)._validate(c,u,f,h)}validate(e,n){let r=this.resolve(Object.assign({},n,{value:e}));return new Promise((i,s)=>r._validate(e,n,(o,a)=>{Vn.isError(o)&&(o.value=a),s(o)},(o,a)=>{o.length?s(new Vn(o,a)):i(a)}))}validateSync(e,n){let r=this.resolve(Object.assign({},n,{value:e})),i;return r._validate(e,Object.assign({},n,{sync:!0}),(s,o)=>{throw Vn.isError(s)&&(s.value=o),s},(s,o)=>{if(s.length)throw new Vn(s,e);i=o}),i}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Vn.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Vn.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):bl(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Ya({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Ya({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Ii.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Ii.notNull){return this.nullability(!1,e)}required(e=Ii.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Ii.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Ya(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=d4(e).map(s=>new ja(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new og(i,n):og.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Ya({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Ii.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Ya({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=Ii.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Ya({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,c,u)=>u.findIndex(d=>d.name===l.name)===c)}}}vr.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])vr.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=mre(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])vr.prototype[t]=vr.prototype.oneOf;for(const t of["not","nope"])vr.prototype[t]=vr.prototype.notOneOf;let gre=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,vre=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,yre=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,_re=t=>Ni(t)||t===t.trim(),bre={}.toString();function jr(){return new f4}class f4 extends vr{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===bre?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Ii.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=xr.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=xr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=xr.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||xr.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=xr.email){return this.matches(gre,{name:"email",message:e,excludeEmptyString:!0})}url(e=xr.url){return this.matches(vre,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=xr.uuid){return this.matches(yre,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=xr.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:_re})}lowercase(e=xr.lowercase){return this.transform(n=>Ni(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ni(n)||n===n.toLowerCase()})}uppercase(e=xr.uppercase){return this.transform(n=>Ni(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ni(n)||n===n.toUpperCase()})}}jr.prototype=f4.prototype;let wre=t=>t!=+t;function h4(){return new p4}class p4 extends vr{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!wre(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return r.isType(i)||i===null?i:parseFloat(i)})})}min(e,n=hs.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=hs.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=hs.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=hs.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=hs.positive){return this.moreThan(0,e)}negative(e=hs.negative){return this.lessThan(0,e)}integer(e=hs.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>Ni(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>Ni(i)?i:Math[e](i))}}h4.prototype=p4.prototype;var Ere=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function xre(t){var e=[1,4,5,6,7,10,11],n=0,r,i;if(i=Ere.exec(t)){for(var s=0,o;o=e[s];++s)i[o]=+i[o]||0;i[2]=(+i[2]||1)-1,i[3]=+i[3]||1,i[7]=i[7]?String(i[7]).substr(0,3):0,(i[8]===void 0||i[8]==="")&&(i[9]===void 0||i[9]==="")?r=+new Date(i[1],i[2],i[3],i[4],i[5],i[6],i[7]):(i[8]!=="Z"&&i[9]!==void 0&&(n=i[10]*60+i[11],i[9]==="+"&&(n=0-n)),r=Date.UTC(i[1],i[2],i[3],i[4],i[5]+n,i[6],i[7]))}else r=Date.parse?Date.parse(t):NaN;return r}let Tre=new Date(""),Sre=t=>Object.prototype.toString.call(t)==="[object Date]";class xy extends vr{constructor(){super({type:"date",check(e){return Sre(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=xre(e),isNaN(e)?xy.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(ja.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=P1.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=P1.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}xy.INVALID_DATE=Tre;xy.prototype;function Ire(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=ta.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),ja.isRef(a)&&a.isSibling?s(a.path,o):Ey(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return ore.array(Array.from(r),n).reverse()}function uA(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function m4(t){return(e,n)=>uA(t,e)-uA(t,n)}const g4=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Lp(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Lp(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Lp(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Lp)}):"optional"in t?t.optional():t}const Cre=(t,e)=>{const n=[...ta.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=ta.getter(ta.join(n),!0)(t);return!!(i&&r in i)};let dA=t=>Object.prototype.toString.call(t)==="[object Object]";function Are(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const Rre=m4([]);function Nc(t){return new v4(t)}class v4 extends vr{constructor(e){super({type:"object",check(n){return dA(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=Rre,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(d=>!this._nodes.includes(d))),l={},c=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),u=!1;for(const d of a){let f=s[d],h=d in i;if(f){let g,m=i[d];c.path=(n.path?`${n.path}.`:"")+d,f=f.resolve({value:m,context:n.context,parent:l});let y=f instanceof vr?f.spec:void 0,v=y==null?void 0:y.strict;if(y!=null&&y.strip){u=u||d in i;continue}g=!n.__validating||!v?f.cast(i[d],c):i[d],g!==void 0&&(l[d]=g)}else h&&!o&&(l[d]=i[d]);(h!==d in l||l[d]!==i[d])&&(u=!0)}return u?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,c)=>{if(!a||!dA(c)){i(l,c);return}o=o||c;let u=[];for(let d of this._nodes){let f=this.fields[d];!f||ja.isRef(f)||u.push(f.asNestedTest({options:n,key:d,parent:c,parentPath:n.path,originalParent:o}))}this.runTests({tests:u,value:c,originalValue:o,options:n},r,d=>{i(d.sort(this._sortErrors).concat(l),c)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=Ire(e,n),r._sortErrors=m4(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Lp(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n)}omit(e){const n=Object.assign({},this.fields);for(const r of e)delete n[r];return this.setFields(n)}from(e,n,r){let i=ta.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return Cre(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(g4)}noUnknown(e=!0,n=k1.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=Are(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=k1.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(a_.camelCase)}snakeCase(){return this.transformKeys(a_.snakeCase)}constantCase(){return this.transformKeys(e=>a_.snakeCase(e).toUpperCase())}describe(e){let n=super.describe(e);n.fields={};for(const[i,s]of Object.entries(this.fields)){var r;let o=e;(r=o)!=null&&r.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[i]})),n.fields[i]=s.describe(o)}return n}}Nc.prototype=v4.prototype;function y4(t){return new _4(t)}class _4 extends vr{constructor(e){super({type:"array",spec:{types:e},check(n){return Array.isArray(n)}}),this.innerType=void 0,this.innerType=e}_cast(e,n){const r=super._cast(e,n);if(!this._typeCheck(r)||!this.innerType)return r;let i=!1;const s=r.map((o,a)=>{const l=this.innerType.cast(o,Object.assign({},n,{path:`${n.path||""}[${a}]`}));return l!==o&&(i=!0),l});return i?s:r}_validate(e,n={},r,i){var s;let o=this.innerType,a=(s=n.recursive)!=null?s:this.spec.recursive;n.originalValue!=null&&n.originalValue,super._validate(e,n,r,(l,c)=>{var u;if(!a||!o||!this._typeCheck(c)){i(l,c);return}let d=new Array(c.length);for(let h=0;h<c.length;h++){var f;d[h]=o.asNestedTest({options:n,index:h,parent:c,parentPath:n.path,originalParent:(f=n.originalValue)!=null?f:e})}this.runTests({value:c,tests:d,originalValue:(u=n.originalValue)!=null?u:e,options:n},r,h=>i(h.concat(l),c))})}clone(e){const n=super.clone(e);return n.innerType=this.innerType,n}json(){return this.transform(g4)}concat(e){let n=super.concat(e);return n.innerType=this.innerType,e.innerType&&(n.innerType=n.innerType?n.innerType.concat(e.innerType):e.innerType),n}of(e){let n=this.clone();if(!Ey(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+na(e));return n.innerType=e,n.spec=Object.assign({},n.spec,{types:e}),n}length(e,n=Dp.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n){return n=n||Dp.min,this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n){return n=n||Dp.max,this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,n)=>this._typeCheck(e)?e:n==null?[]:[].concat(n))}compact(e){let n=e?(r,i,s)=>!e(r,i,s):r=>!!r;return this.transform(r=>r!=null?r.filter(n):r)}describe(e){let n=super.describe(e);if(this.innerType){var r;let i=e;(r=i)!=null&&r.value&&(i=Object.assign({},i,{parent:i.value,value:i.value[0]})),n.innerType=this.innerType.describe(i)}return n}}y4.prototype=_4.prototype;const l_="focusScope.autoFocusOnMount",c_="focusScope.autoFocusOnUnmount",fA={bubbles:!1,cancelable:!0},b4=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=p.useState(null),c=Pt(i),u=Pt(s),d=p.useRef(null),f=et(e,m=>l(m)),h=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let _=function(x){if(h.paused||!a)return;const S=x.target;a.contains(S)?d.current=S:ps(d.current,{select:!0})},b=function(x){if(h.paused||!a)return;const S=x.relatedTarget;S!==null&&(a.contains(S)||ps(d.current,{select:!0}))},w=function(x){const S=document.activeElement;for(const I of x)I.removedNodes.length>0&&(a!=null&&a.contains(S)||ps(a))};var m=_,y=b,v=w;document.addEventListener("focusin",_),document.addEventListener("focusout",b);const E=new MutationObserver(w);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",b),E.disconnect()}}},[r,a,h.paused]),p.useEffect(()=>{if(a){pA.add(h);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(l_,fA);a.addEventListener(l_,c),a.dispatchEvent(v),v.defaultPrevented||(Pre(Mre(w4(a)),{select:!0}),document.activeElement===m&&ps(a))}return()=>{a.removeEventListener(l_,c),setTimeout(()=>{const v=new CustomEvent(c_,fA);a.addEventListener(c_,u),a.dispatchEvent(v),v.defaultPrevented||ps(m??document.body,{select:!0}),a.removeEventListener(c_,u),pA.remove(h)},0)}}},[a,c,u,h]);const g=p.useCallback(m=>{if(!n&&!r||h.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(y&&v){const _=m.currentTarget,[b,w]=kre(_);b&&w?!m.shiftKey&&v===w?(m.preventDefault(),n&&ps(b,{select:!0})):m.shiftKey&&v===b&&(m.preventDefault(),n&&ps(w,{select:!0})):v===_&&m.preventDefault()}},[n,r,h.paused]);return p.createElement(ye.div,W({tabIndex:-1},o,{ref:f,onKeyDown:g}))});function Pre(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ps(r,{select:e}),document.activeElement!==n)return}function kre(t){const e=w4(t),n=hA(e,t),r=hA(e.reverse(),t);return[n,r]}function w4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hA(t,e){for(const n of t)if(!$re(n,{upTo:e}))return n}function $re(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ore(t){return t instanceof HTMLInputElement&&"select"in t}function ps(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Ore(t)&&e&&t.select()}}const pA=Nre();function Nre(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=mA(t,e),t.unshift(e)},remove(e){var n;t=mA(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function mA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Mre(t){return t.filter(e=>e.tagName!=="A")}const E4=p.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?g$.createPortal(p.createElement(ye.div,W({},i,{ref:e})),r):null});let u_=0;function x4(){p.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:gA()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:gA()),u_++,()=>{u_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),u_--}},[])}function gA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var Fp="right-scroll-bar-position",Vp="width-before-scroll-bar",Dre="with-scroll-bars-hidden",Lre="--removed-body-scroll-bar-size";function Fre(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Vre(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}function jre(t,e){return Vre(e||null,function(n){return t.forEach(function(r){return Fre(r,n)})})}function Ure(t){return t}function zre(t,e){e===void 0&&(e=Ure);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function Bre(t){t===void 0&&(t={});var e=zre(null);return e.options=Yr({async:!0,ssr:!1},t),e}var T4=function(t){var e=t.sideCar,n=_f(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Yr({},n))};T4.isSideCarExport=!0;function Wre(t,e){return t.useMedium(e),T4}var S4=Bre(),d_=function(){},Ty=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:d_,onWheelCapture:d_,onTouchMoveCapture:d_}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noIsolation,g=t.inert,m=t.allowPinchZoom,y=t.as,v=y===void 0?"div":y,_=_f(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=f,w=jre([n,e]),E=Yr(Yr({},_),i);return p.createElement(p.Fragment,null,u&&p.createElement(b,{sideCar:S4,removeScrollBar:c,shards:d,noIsolation:h,inert:g,setCallbacks:s,allowPinchZoom:!!m,lockRef:n}),o?p.cloneElement(p.Children.only(a),Yr(Yr({},E),{ref:w})):p.createElement(v,Yr({},E,{className:l,ref:w}),a))});Ty.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ty.classNames={fullWidth:Vp,zeroRight:Fp};var vA,Hre=function(){if(vA)return vA;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qre(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Hre();return e&&t.setAttribute("nonce",e),t}function Kre(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Gre(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Qre=function(){var t=0,e=null;return{add:function(n){t==0&&(e=qre())&&(Kre(e,n),Gre(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Yre=function(){var t=Qre();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},I4=function(){var t=Yre(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Xre={left:0,top:0,right:0,gap:0},f_=function(t){return parseInt(t||"",10)||0},Jre=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[f_(n),f_(r),f_(i)]},Zre=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Xre;var e=Jre(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},eie=I4(),tie=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Dre,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fp,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Vp,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Fp," .").concat(Fp,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vp," .").concat(Vp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(Lre,": ").concat(a,`px;
  }
`)},nie=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r,s=p.useMemo(function(){return Zre(i)},[i]);return p.createElement(eie,{styles:tie(s,!e,i,n?"":"!important")})},$1=!1;if(typeof window<"u")try{var Vh=Object.defineProperty({},"passive",{get:function(){return $1=!0,!0}});window.addEventListener("test",Vh,Vh),window.removeEventListener("test",Vh,Vh)}catch{$1=!1}var Xa=$1?{passive:!1}:!1,rie=function(t){return t.tagName==="TEXTAREA"},C4=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!rie(t)&&n[e]==="visible")},iie=function(t){return C4(t,"overflowY")},sie=function(t){return C4(t,"overflowX")},yA=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=A4(t,n);if(r){var i=R4(t,n),s=i[1],o=i[2];if(s>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},oie=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},aie=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},A4=function(t,e){return t==="v"?iie(e):sie(e)},R4=function(t,e){return t==="v"?oie(e):aie(e)},lie=function(t,e){return t==="h"&&e==="rtl"?-1:1},cie=function(t,e,n,r,i){var s=lie(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,d=0,f=0;do{var h=R4(t,a),g=h[0],m=h[1],y=h[2],v=m-y-s*g;(g||v)&&A4(t,a)&&(d+=v,f+=g),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(i&&d===0||!i&&o>d)||!u&&(i&&f===0||!i&&-o>f))&&(c=!0),c},jh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},_A=function(t){return[t.deltaX,t.deltaY]},bA=function(t){return t&&"current"in t?t.current:t},uie=function(t,e){return t[0]===e[0]&&t[1]===e[1]},die=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},fie=0,Ja=[];function hie(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(fie++)[0],s=p.useState(function(){return I4()})[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=eU([t.lockRef.current],(t.shards||[]).map(bA),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(m,y){if("touches"in m&&m.touches.length===2)return!o.current.allowPinchZoom;var v=jh(m),_=n.current,b="deltaX"in m?m.deltaX:_[0]-v[0],w="deltaY"in m?m.deltaY:_[1]-v[1],E,x=m.target,S=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in m&&S==="h"&&x.type==="range")return!1;var I=yA(S,x);if(!I)return!0;if(I?E=S:(E=S==="v"?"h":"v",I=yA(S,x)),!I)return!1;if(!r.current&&"changedTouches"in m&&(b||w)&&(r.current=E),!E)return!0;var A=r.current||E;return cie(A,y,m,A==="h"?b:w,!0)},[]),l=p.useCallback(function(m){var y=m;if(!(!Ja.length||Ja[Ja.length-1]!==s)){var v="deltaY"in y?_A(y):jh(y),_=e.current.filter(function(E){return E.name===y.type&&E.target===y.target&&uie(E.delta,v)})[0];if(_&&_.should){y.cancelable&&y.preventDefault();return}if(!_){var b=(o.current.shards||[]).map(bA).filter(Boolean).filter(function(E){return E.contains(y.target)}),w=b.length>0?a(y,b[0]):!o.current.noIsolation;w&&y.cancelable&&y.preventDefault()}}},[]),c=p.useCallback(function(m,y,v,_){var b={name:m,delta:y,target:v,should:_};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(w){return w!==b})},1)},[]),u=p.useCallback(function(m){n.current=jh(m),r.current=void 0},[]),d=p.useCallback(function(m){c(m.type,_A(m),m.target,a(m,t.lockRef.current))},[]),f=p.useCallback(function(m){c(m.type,jh(m),m.target,a(m,t.lockRef.current))},[]);p.useEffect(function(){return Ja.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Xa),document.addEventListener("touchmove",l,Xa),document.addEventListener("touchstart",u,Xa),function(){Ja=Ja.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,Xa),document.removeEventListener("touchmove",l,Xa),document.removeEventListener("touchstart",u,Xa)}},[]);var h=t.removeScrollBar,g=t.inert;return p.createElement(p.Fragment,null,g?p.createElement(s,{styles:die(i)}):null,h?p.createElement(nie,{gapMode:"margin"}):null)}const pie=Wre(S4,hie);var P4=p.forwardRef(function(t,e){return p.createElement(Ty,Yr({},t,{ref:e,sideCar:pie}))});P4.classNames=Ty.classNames;const k4=P4;var mie=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Za=new WeakMap,Uh=new WeakMap,zh={},h_=0,$4=function(t){return t&&(t.host||$4(t.parentNode))},gie=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=$4(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},vie=function(t,e,n,r){var i=gie(e,Array.isArray(t)?t:[t]);zh[n]||(zh[n]=new WeakMap);var s=zh[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))u(f);else{var h=f.getAttribute(r),g=h!==null&&h!=="false",m=(Za.get(f)||0)+1,y=(s.get(f)||0)+1;Za.set(f,m),s.set(f,y),o.push(f),m===1&&g&&Uh.set(f,!0),y===1&&f.setAttribute(n,"true"),g||f.setAttribute(r,"true")}})};return u(e),a.clear(),h_++,function(){o.forEach(function(d){var f=Za.get(d)-1,h=s.get(d)-1;Za.set(d,f),s.set(d,h),f||(Uh.has(d)||d.removeAttribute(r),Uh.delete(d)),h||d.removeAttribute(n)}),h_--,h_||(Za=new WeakMap,Za=new WeakMap,Uh=new WeakMap,zh={})}},O4=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=e||mie(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),vie(r,i,n,"aria-hidden")):function(){return null}};const N4="Dialog",[M4,eme]=gi(N4),[yie,zr]=M4(N4),_ie=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=p.useRef(null),l=p.useRef(null),[c=!1,u]=$a({prop:r,defaultProp:i,onChange:s});return p.createElement(yie,{scope:e,triggerRef:a,contentRef:l,contentId:ui(),titleId:ui(),descriptionId:ui(),open:c,onOpenChange:u,onOpenToggle:p.useCallback(()=>u(d=>!d),[u]),modal:o},n)},bie="DialogTrigger",wie=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zr(bie,n),s=et(e,i.triggerRef);return p.createElement(ye.button,W({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":oT(i.open)},r,{ref:s,onClick:ie(t.onClick,i.onOpenToggle)}))}),D4="DialogPortal",[Eie,L4]=M4(D4,{forceMount:void 0}),xie=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=zr(D4,e);return p.createElement(Eie,{scope:e,forceMount:n},p.Children.map(r,o=>p.createElement(rr,{present:n||s.open},p.createElement(E4,{asChild:!0,container:i},o))))},O1="DialogOverlay",Tie=p.forwardRef((t,e)=>{const n=L4(O1,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=zr(O1,t.__scopeDialog);return s.modal?p.createElement(rr,{present:r||s.open},p.createElement(Sie,W({},i,{ref:e}))):null}),Sie=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zr(O1,n);return p.createElement(k4,{as:ma,allowPinchZoom:!0,shards:[i.contentRef]},p.createElement(ye.div,W({"data-state":oT(i.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))}),Xd="DialogContent",Iie=p.forwardRef((t,e)=>{const n=L4(Xd,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=zr(Xd,t.__scopeDialog);return p.createElement(rr,{present:r||s.open},s.modal?p.createElement(Cie,W({},i,{ref:e})):p.createElement(Aie,W({},i,{ref:e})))}),Cie=p.forwardRef((t,e)=>{const n=zr(Xd,t.__scopeDialog),r=p.useRef(null),i=et(e,n.contentRef,r);return p.useEffect(()=>{const s=r.current;if(s)return O4(s)},[]),p.createElement(F4,W({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:ie(t.onFocusOutside,s=>s.preventDefault())}))}),Aie=p.forwardRef((t,e)=>{const n=zr(Xd,t.__scopeDialog),r=p.useRef(!1),i=p.useRef(!1);return p.createElement(F4,W({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o;if((o=t.onCloseAutoFocus)===null||o===void 0||o.call(t,s),!s.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),s.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:s=>{var o,a;(o=t.onInteractOutside)===null||o===void 0||o.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}}))}),F4=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=zr(Xd,n),l=p.useRef(null),c=et(e,l);return x4(),p.createElement(p.Fragment,null,p.createElement(b4,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s},p.createElement(Fx,W({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":oT(a.open)},o,{ref:c,onDismiss:()=>a.onOpenChange(!1)}))),!1)}),Rie="DialogTitle",Pie=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zr(Rie,n);return p.createElement(ye.h2,W({id:i.titleId},r,{ref:e}))}),kie="DialogDescription",$ie=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zr(kie,n);return p.createElement(ye.p,W({id:i.descriptionId},r,{ref:e}))}),Oie="DialogClose",Nie=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=zr(Oie,n);return p.createElement(ye.button,W({type:"button"},r,{ref:e,onClick:ie(t.onClick,()=>i.onOpenChange(!1))}))});function oT(t){return t?"open":"closed"}const Mie=_ie,Die=wie,V4=xie,j4=Tie,U4=Iie,aT=Pie,z4=$ie,B4=Nie,lT=Mie,cT=Die,W4=({className:t,...e})=>T.jsx(V4,{className:_e(t),...e});W4.displayName=V4.displayName;const H4=p.forwardRef(({className:t,...e},n)=>T.jsx(j4,{ref:n,className:_e("fixed inset-0 z-50 bg-white/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 dark:bg-slate-950/80",t),...e}));H4.displayName=j4.displayName;const Jd=p.forwardRef(({className:t,children:e,...n},r)=>T.jsxs(W4,{children:[T.jsx(H4,{}),T.jsxs(U4,{ref:r,className:_e("fixed left-[50%] top-[25%] md:top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full dark:border-slate-800 dark:bg-slate-950",t),...n,children:[e,T.jsxs(B4,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800 dark:data-[state=open]:text-slate-400",children:[T.jsx(dY,{className:"h-4 w-4"}),T.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jd.displayName=U4.displayName;const Zd=({className:t,...e})=>T.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Zd.displayName="DialogHeader";const Sy=({className:t,...e})=>T.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Sy.displayName="DialogFooter";const Iy=p.forwardRef(({className:t,...e},n)=>T.jsx(aT,{ref:n,className:_e("text-lg font-semibold leading-none tracking-tight",t),...e}));Iy.displayName=aT.displayName;const ef=p.forwardRef(({className:t,...e},n)=>T.jsx(z4,{ref:n,className:_e("text-sm text-slate-500 dark:text-slate-400",t),...e}));ef.displayName=z4.displayName;const Lie=p.forwardRef(({...t},e)=>T.jsx(B4,{ref:e,...t}));Lie.displayName=aT.displayName;const Fie=f9("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-primary-button-color text-slate-50 hover:bg-secondary-button-color dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-secondary-button-color",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),kn=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?ma:"button";return T.jsx(o,{className:_e(Fie({variant:e,size:n,className:t})),ref:s,...i})});kn.displayName="Button";const va=p.forwardRef(({className:t,type:e,...n},r)=>T.jsx("input",{type:e,className:_e("flex h-10 w-full rounded-md border  border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800  dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",t),ref:r,...n}));va.displayName="Input";const Vie=["top","right","bottom","left"],oo=Math.min,jn=Math.max,lg=Math.round,Bh=Math.floor,ao=t=>({x:t,y:t}),jie={left:"right",right:"left",bottom:"top",top:"bottom"},Uie={start:"end",end:"start"};function N1(t,e,n){return jn(t,oo(e,n))}function Yi(t,e){return typeof t=="function"?t(e):t}function Xi(t){return t.split("-")[0]}function Mc(t){return t.split("-")[1]}function uT(t){return t==="x"?"y":"x"}function dT(t){return t==="y"?"height":"width"}function Dc(t){return["top","bottom"].includes(Xi(t))?"y":"x"}function fT(t){return uT(Dc(t))}function zie(t,e,n){n===void 0&&(n=!1);const r=Mc(t),i=fT(t),s=dT(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=cg(o)),[o,cg(o)]}function Bie(t){const e=cg(t);return[M1(t),e,M1(e)]}function M1(t){return t.replace(/start|end/g,e=>Uie[e])}function Wie(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Hie(t,e,n,r){const i=Mc(t);let s=Wie(Xi(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(M1)))),s}function cg(t){return t.replace(/left|right|bottom|top/g,e=>jie[e])}function qie(t){return{top:0,right:0,bottom:0,left:0,...t}}function q4(t){return typeof t!="number"?qie(t):{top:t,right:t,bottom:t,left:t}}function ug(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function wA(t,e,n){let{reference:r,floating:i}=t;const s=Dc(e),o=fT(e),a=dT(o),l=Xi(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(Mc(e)){case"start":h[o]-=f*(n&&c?-1:1);break;case"end":h[o]+=f*(n&&c?-1:1);break}return h}const Kie=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=wA(c,r,l),f=r,h={},g=0;for(let m=0;m<a.length;m++){const{name:y,fn:v}=a[m],{x:_,y:b,data:w,reset:E}=await v({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});if(u=_??u,d=b??d,h={...h,[y]:{...h[y],...w}},E&&g<=50){g++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:u,y:d}=wA(c,f,l)),m=-1;continue}}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function tf(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=Yi(e,t),g=q4(h),y=a[f?d==="floating"?"reference":"floating":d],v=ug(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(y)))==null||n?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=d==="floating"?{...o.floating,x:r,y:i}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},E=ug(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:_,offsetParent:b,strategy:l}):_);return{top:(v.top-E.top+g.top)/w.y,bottom:(E.bottom-v.bottom+g.bottom)/w.y,left:(v.left-E.left+g.left)/w.x,right:(E.right-v.right+g.right)/w.x}}const EA=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a}=e,{element:l,padding:c=0}=Yi(t,e)||{};if(l==null)return{};const u=q4(c),d={x:n,y:r},f=fT(i),h=dT(f),g=await o.getDimensions(l),m=f==="y",y=m?"top":"left",v=m?"bottom":"right",_=m?"clientHeight":"clientWidth",b=s.reference[h]+s.reference[f]-d[f]-s.floating[h],w=d[f]-s.reference[f],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l));let x=E?E[_]:0;(!x||!await(o.isElement==null?void 0:o.isElement(E)))&&(x=a.floating[_]||s.floating[h]);const S=b/2-w/2,I=x/2-g[h]/2-1,A=oo(u[y],I),C=oo(u[v],I),R=A,P=x-g[h]-C,k=x/2-g[h]/2+S,M=N1(R,k,P),V=Mc(i)!=null&&k!=M&&s.reference[h]/2-(k<R?A:C)-g[h]/2<0?k<R?R-k:P-k:0;return{[f]:d[f]-V,data:{[f]:M,centerOffset:k-M+V}}}}),Gie=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:a,elements:l}=e,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:g=!0,...m}=Yi(t,e),y=Xi(r),v=Xi(o)===o,_=await(a.isRTL==null?void 0:a.isRTL(l.floating)),b=d||(v||!g?[cg(o)]:Bie(o));!d&&h!=="none"&&b.push(...Hie(o,g,h,_));const w=[o,...b],E=await tf(e,m),x=[];let S=((n=i.flip)==null?void 0:n.overflows)||[];if(c&&x.push(E[y]),u){const R=zie(r,s,_);x.push(E[R[0]],E[R[1]])}if(S=[...S,{placement:r,overflows:x}],!x.every(R=>R<=0)){var I,A;const R=(((I=i.flip)==null?void 0:I.index)||0)+1,P=w[R];if(P)return{data:{index:R,overflows:S},reset:{placement:P}};let k=(A=S.filter(M=>M.overflows[0]<=0).sort((M,D)=>M.overflows[1]-D.overflows[1])[0])==null?void 0:A.placement;if(!k)switch(f){case"bestFit":{var C;const M=(C=S.map(D=>[D.placement,D.overflows.filter(V=>V>0).reduce((V,H)=>V+H,0)]).sort((D,V)=>D[1]-V[1])[0])==null?void 0:C[0];M&&(k=M);break}case"initialPlacement":k=o;break}if(r!==k)return{reset:{placement:k}}}return{}}}};function xA(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function TA(t){return Vie.some(e=>t[e]>=0)}const Qie=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Yi(t,e);switch(r){case"referenceHidden":{const s=await tf(e,{...i,elementContext:"reference"}),o=xA(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:TA(o)}}}case"escaped":{const s=await tf(e,{...i,altBoundary:!0}),o=xA(s,n.floating);return{data:{escapedOffsets:o,escaped:TA(o)}}}default:return{}}}}};async function Yie(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Xi(n),a=Mc(n),l=Dc(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,d=Yi(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return a&&typeof g=="number"&&(h=a==="end"?g*-1:g),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const Xie=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await Yie(e,t);return{x:n+i.x,y:r+i.y,data:i}}}},Jie=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:y=>{let{x:v,y:_}=y;return{x:v,y:_}}},...l}=Yi(t,e),c={x:n,y:r},u=await tf(e,l),d=Dc(Xi(i)),f=uT(d);let h=c[f],g=c[d];if(s){const y=f==="y"?"top":"left",v=f==="y"?"bottom":"right",_=h+u[y],b=h-u[v];h=N1(_,h,b)}if(o){const y=d==="y"?"top":"left",v=d==="y"?"bottom":"right",_=g+u[y],b=g-u[v];g=N1(_,g,b)}const m=a.fn({...e,[f]:h,[d]:g});return{...m,data:{x:m.x-n,y:m.y-r}}}}},Zie=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Yi(t,e),u={x:n,y:r},d=Dc(i),f=uT(d);let h=u[f],g=u[d];const m=Yi(a,e),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const b=f==="y"?"height":"width",w=s.reference[f]-s.floating[b]+y.mainAxis,E=s.reference[f]+s.reference[b]-y.mainAxis;h<w?h=w:h>E&&(h=E)}if(c){var v,_;const b=f==="y"?"width":"height",w=["top","left"].includes(Xi(i)),E=s.reference[d]-s.floating[b]+(w&&((v=o.offset)==null?void 0:v[d])||0)+(w?0:y.crossAxis),x=s.reference[d]+s.reference[b]+(w?0:((_=o.offset)==null?void 0:_[d])||0)-(w?y.crossAxis:0);g<E?g=E:g>x&&(g=x)}return{[f]:h,[d]:g}}}},ese=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=Yi(t,e),l=await tf(e,a),c=Xi(n),u=Mc(n),d=Dc(n)==="y",{width:f,height:h}=r.floating;let g,m;c==="top"||c==="bottom"?(g=c,m=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(m=c,g=u==="end"?"top":"bottom");const y=h-l[g],v=f-l[m],_=!e.middlewareData.shift;let b=y,w=v;if(d){const x=f-l.left-l.right;w=u||_?oo(v,x):x}else{const x=h-l.top-l.bottom;b=u||_?oo(y,x):x}if(_&&!u){const x=jn(l.left,0),S=jn(l.right,0),I=jn(l.top,0),A=jn(l.bottom,0);d?w=f-2*(x!==0||S!==0?x+S:jn(l.left,l.right)):b=h-2*(I!==0||A!==0?I+A:jn(l.top,l.bottom))}await o({...e,availableWidth:w,availableHeight:b});const E=await i.getDimensions(s.floating);return f!==E.width||h!==E.height?{reset:{rects:!0}}:{}}}};function lo(t){return K4(t)?(t.nodeName||"").toLowerCase():"#document"}function Qn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ss(t){var e;return(e=(K4(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function K4(t){return t instanceof Node||t instanceof Qn(t).Node}function Ji(t){return t instanceof Element||t instanceof Qn(t).Element}function mi(t){return t instanceof HTMLElement||t instanceof Qn(t).HTMLElement}function SA(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Qn(t).ShadowRoot}function Qf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=yr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function tse(t){return["table","td","th"].includes(lo(t))}function hT(t){const e=pT(),n=yr(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function nse(t){let e=cc(t);for(;mi(e)&&!Cy(e);){if(hT(e))return e;e=cc(e)}return null}function pT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cy(t){return["html","body","#document"].includes(lo(t))}function yr(t){return Qn(t).getComputedStyle(t)}function Ay(t){return Ji(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function cc(t){if(lo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||SA(t)&&t.host||ss(t);return SA(e)?e.host:e}function G4(t){const e=cc(t);return Cy(e)?t.ownerDocument?t.ownerDocument.body:t.body:mi(e)&&Qf(e)?e:G4(e)}function dg(t,e){var n;e===void 0&&(e=[]);const r=G4(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Qn(r);return i?e.concat(s,s.visualViewport||[],Qf(r)?r:[]):e.concat(r,dg(r))}function Q4(t){const e=yr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=mi(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=lg(n)!==s||lg(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function mT(t){return Ji(t)?t:t.contextElement}function Ll(t){const e=mT(t);if(!mi(e))return ao(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Q4(e);let o=(s?lg(n.width):n.width)/r,a=(s?lg(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const rse=ao(0);function Y4(t){const e=Qn(t);return!pT()||!e.visualViewport?rse:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ise(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Qn(t)?!1:e}function ya(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=mT(t);let o=ao(1);e&&(r?Ji(r)&&(o=Ll(r)):o=Ll(t));const a=ise(s,n,r)?Y4(s):ao(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,d=i.height/o.y;if(s){const f=Qn(s),h=r&&Ji(r)?Qn(r):r;let g=f.frameElement;for(;g&&r&&h!==f;){const m=Ll(g),y=g.getBoundingClientRect(),v=yr(g),_=y.left+(g.clientLeft+parseFloat(v.paddingLeft))*m.x,b=y.top+(g.clientTop+parseFloat(v.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,d*=m.y,l+=_,c+=b,g=Qn(g).frameElement}}return ug({width:u,height:d,x:l,y:c})}function sse(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=mi(n),s=ss(n);if(n===s)return e;let o={scrollLeft:0,scrollTop:0},a=ao(1);const l=ao(0);if((i||!i&&r!=="fixed")&&((lo(n)!=="body"||Qf(s))&&(o=Ay(n)),mi(n))){const c=ya(n);a=Ll(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}}function ose(t){return Array.from(t.getClientRects())}function X4(t){return ya(ss(t)).left+Ay(t).scrollLeft}function ase(t){const e=ss(t),n=Ay(t),r=t.ownerDocument.body,i=jn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=jn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+X4(t);const a=-n.scrollTop;return yr(r).direction==="rtl"&&(o+=jn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function lse(t,e){const n=Qn(t),r=ss(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=pT();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function cse(t,e){const n=ya(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=mi(t)?Ll(t):ao(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function IA(t,e,n){let r;if(e==="viewport")r=lse(t,n);else if(e==="document")r=ase(ss(t));else if(Ji(e))r=cse(e,n);else{const i=Y4(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return ug(r)}function J4(t,e){const n=cc(t);return n===e||!Ji(n)||Cy(n)?!1:yr(n).position==="fixed"||J4(n,e)}function use(t,e){const n=e.get(t);if(n)return n;let r=dg(t).filter(a=>Ji(a)&&lo(a)!=="body"),i=null;const s=yr(t).position==="fixed";let o=s?cc(t):t;for(;Ji(o)&&!Cy(o);){const a=yr(o),l=hT(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Qf(o)&&!l&&J4(t,o))?r=r.filter(u=>u!==o):i=a,o=cc(o)}return e.set(t,r),r}function dse(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?use(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const d=IA(e,u,i);return c.top=jn(d.top,c.top),c.right=oo(d.right,c.right),c.bottom=oo(d.bottom,c.bottom),c.left=jn(d.left,c.left),c},IA(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function fse(t){return Q4(t)}function hse(t,e,n){const r=mi(e),i=ss(e),s=n==="fixed",o=ya(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ao(0);if(r||!r&&!s)if((lo(e)!=="body"||Qf(i))&&(a=Ay(e)),r){const c=ya(e,!0,s,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else i&&(l.x=X4(i));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function CA(t,e){return!mi(t)||yr(t).position==="fixed"?null:e?e(t):t.offsetParent}function Z4(t,e){const n=Qn(t);if(!mi(t))return n;let r=CA(t,e);for(;r&&tse(r)&&yr(r).position==="static";)r=CA(r,e);return r&&(lo(r)==="html"||lo(r)==="body"&&yr(r).position==="static"&&!hT(r))?n:r||nse(t)||n}const pse=async function(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||Z4,s=this.getDimensions;return{reference:hse(e,await i(n),r),floating:{x:0,y:0,...await s(n)}}};function mse(t){return yr(t).direction==="rtl"}const gse={convertOffsetParentRelativeRectToViewportRelativeRect:sse,getDocumentElement:ss,getClippingRect:dse,getOffsetParent:Z4,getElementRects:pse,getClientRects:ose,getDimensions:fse,getScale:Ll,isElement:Ji,isRTL:mse};function vse(t,e){let n=null,r;const i=ss(t);function s(){clearTimeout(r),n&&n.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:d,height:f}=t.getBoundingClientRect();if(a||e(),!d||!f)return;const h=Bh(u),g=Bh(i.clientWidth-(c+d)),m=Bh(i.clientHeight-(u+f)),y=Bh(c),_={rootMargin:-h+"px "+-g+"px "+-m+"px "+-y+"px",threshold:jn(0,oo(1,l))||1};let b=!0;function w(E){const x=E[0].intersectionRatio;if(x!==l){if(!b)return o();x?o(!1,x):r=setTimeout(()=>{o(!1,1e-7)},100)}b=!1}try{n=new IntersectionObserver(w,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,_)}n.observe(t)}return o(!0),s}function yse(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=mT(t),u=i||s?[...c?dg(c):[],...dg(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const d=c&&a?vse(c,n):null;let f=-1,h=null;o&&(h=new ResizeObserver(v=>{let[_]=v;_&&_.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{h&&h.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let g,m=l?ya(t):null;l&&y();function y(){const v=ya(t);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,g=requestAnimationFrame(y)}return n(),()=>{u.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),d&&d(),h&&h.disconnect(),h=null,l&&cancelAnimationFrame(g)}}const _se=(t,e,n)=>{const r=new Map,i={platform:gse,...n},s={...i.platform,_c:r};return Kie(t,e,{...i,platform:s})},bse=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?EA({element:r.current,padding:i}).fn(n):{}:r?EA({element:r,padding:i}).fn(n):{}}}};var jp=typeof document<"u"?p.useLayoutEffect:p.useEffect;function fg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!fg(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!fg(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function e3(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function AA(t,e){const n=e3(t);return Math.round(e*n)/n}function RA(t){const e=p.useRef(t);return jp(()=>{e.current=t}),e}function wse(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=p.useState(r);fg(f,r)||h(r);const[g,m]=p.useState(null),[y,v]=p.useState(null),_=p.useCallback(V=>{V!=x.current&&(x.current=V,m(V))},[m]),b=p.useCallback(V=>{V!==S.current&&(S.current=V,v(V))},[v]),w=s||g,E=o||y,x=p.useRef(null),S=p.useRef(null),I=p.useRef(u),A=RA(l),C=RA(i),R=p.useCallback(()=>{if(!x.current||!S.current)return;const V={placement:e,strategy:n,middleware:f};C.current&&(V.platform=C.current),_se(x.current,S.current,V).then(H=>{const O={...H,isPositioned:!0};P.current&&!fg(I.current,O)&&(I.current=O,xa.flushSync(()=>{d(O)}))})},[f,e,n,C]);jp(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,d(V=>({...V,isPositioned:!1})))},[c]);const P=p.useRef(!1);jp(()=>(P.current=!0,()=>{P.current=!1}),[]),jp(()=>{if(w&&(x.current=w),E&&(S.current=E),w&&E){if(A.current)return A.current(w,E,R);R()}},[w,E,R,A]);const k=p.useMemo(()=>({reference:x,floating:S,setReference:_,setFloating:b}),[_,b]),M=p.useMemo(()=>({reference:w,floating:E}),[w,E]),D=p.useMemo(()=>{const V={position:n,left:0,top:0};if(!M.floating)return V;const H=AA(M.floating,u.x),O=AA(M.floating,u.y);return a?{...V,transform:"translate("+H+"px, "+O+"px)",...e3(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:O}},[n,a,M.floating,u.x,u.y]);return p.useMemo(()=>({...u,update:R,refs:k,elements:M,floatingStyles:D}),[u,R,k,M,D])}function Ese(t){const[e,n]=p.useState(void 0);return Vr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const t3="Popper",[n3,r3]=gi(t3),[xse,i3]=n3(t3),Tse=t=>{const{__scopePopper:e,children:n}=t,[r,i]=p.useState(null);return p.createElement(xse,{scope:e,anchor:r,onAnchorChange:i},n)},Sse="PopperAnchor",Ise=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=i3(Sse,n),o=p.useRef(null),a=et(e,o);return p.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.createElement(ye.div,W({},i,{ref:a}))}),s3="PopperContent",[Cse,tme]=n3(s3),Ase=p.forwardRef((t,e)=>{var n,r,i,s,o,a,l,c;const{__scopePopper:u,side:d="bottom",sideOffset:f=0,align:h="center",alignOffset:g=0,arrowPadding:m=0,collisionBoundary:y=[],collisionPadding:v=0,sticky:_="partial",hideWhenDetached:b=!1,avoidCollisions:w=!0,onPlaced:E,...x}=t,S=i3(s3,u),[I,A]=p.useState(null),C=et(e,Fc=>A(Fc)),[R,P]=p.useState(null),k=Ese(R),M=(n=k==null?void 0:k.width)!==null&&n!==void 0?n:0,D=(r=k==null?void 0:k.height)!==null&&r!==void 0?r:0,V=d+(h!=="center"?"-"+h:""),H=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},O=Array.isArray(y)?y:[y],$=O.length>0,L={padding:H,boundary:O.filter(Rse),altBoundary:$},{refs:z,floatingStyles:G,placement:K,isPositioned:q,middlewareData:Q}=wse({strategy:"fixed",placement:V,whileElementsMounted:yse,elements:{reference:S.anchor},middleware:[Xie({mainAxis:f+D,alignmentAxis:g}),w&&Jie({mainAxis:!0,crossAxis:!1,limiter:_==="partial"?Zie():void 0,...L}),w&&Gie({...L}),ese({...L,apply:({elements:Fc,rects:By,availableWidth:Wy,availableHeight:Hy})=>{const{width:qy,height:Vc}=By.reference,Ha=Fc.floating.style;Ha.setProperty("--radix-popper-available-width",`${Wy}px`),Ha.setProperty("--radix-popper-available-height",`${Hy}px`),Ha.setProperty("--radix-popper-anchor-width",`${qy}px`),Ha.setProperty("--radix-popper-anchor-height",`${Vc}px`)}}),R&&bse({element:R,padding:m}),Pse({arrowWidth:M,arrowHeight:D}),b&&Qie({strategy:"referenceHidden"})]}),[ee,he]=o3(K),ut=Pt(E);Vr(()=>{q&&(ut==null||ut())},[q,ut]);const wt=(i=Q.arrow)===null||i===void 0?void 0:i.x,Jt=(s=Q.arrow)===null||s===void 0?void 0:s.y,ir=((o=Q.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[qe,yi]=p.useState();return Vr(()=>{I&&yi(window.getComputedStyle(I).zIndex)},[I]),p.createElement("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:q?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qe,"--radix-popper-transform-origin":[(a=Q.transformOrigin)===null||a===void 0?void 0:a.x,(l=Q.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},p.createElement(Cse,{scope:u,placedSide:ee,onArrowChange:P,arrowX:wt,arrowY:Jt,shouldHideArrow:ir},p.createElement(ye.div,W({"data-side":ee,"data-align":he},x,{ref:C,style:{...x.style,animation:q?void 0:"none",opacity:(c=Q.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function Rse(t){return t!==null}const Pse=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=e,d=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,f=d?0:t.arrowWidth,h=d?0:t.arrowHeight,[g,m]=o3(a),y={start:"0%",center:"50%",end:"100%"}[m],v=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+f/2,_=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+h/2;let b="",w="";return g==="bottom"?(b=d?y:`${v}px`,w=`${-h}px`):g==="top"?(b=d?y:`${v}px`,w=`${l.floating.height+h}px`):g==="right"?(b=`${-h}px`,w=d?y:`${_}px`):g==="left"&&(b=`${l.floating.width+h}px`,w=d?y:`${_}px`),{data:{x:b,y:w}}}});function o3(t){const[e,n="center"]=t.split("-");return[e,n]}const kse=Tse,$se=Ise,Ose=Ase,p_="rovingFocusGroup.onEntryFocus",Nse={bubbles:!1,cancelable:!0},gT="RovingFocusGroup",[D1,a3,Mse]=Wf(gT),[Dse,l3]=gi(gT,[Mse]),[Lse,Fse]=Dse(gT),Vse=p.forwardRef((t,e)=>p.createElement(D1.Provider,{scope:t.__scopeRovingFocusGroup},p.createElement(D1.Slot,{scope:t.__scopeRovingFocusGroup},p.createElement(jse,W({},t,{ref:e}))))),jse=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,...u}=t,d=p.useRef(null),f=et(e,d),h=fy(s),[g=null,m]=$a({prop:o,defaultProp:a,onChange:l}),[y,v]=p.useState(!1),_=Pt(c),b=a3(n),w=p.useRef(!1),[E,x]=p.useState(0);return p.useEffect(()=>{const S=d.current;if(S)return S.addEventListener(p_,_),()=>S.removeEventListener(p_,_)},[_]),p.createElement(Lse,{scope:n,orientation:r,dir:h,loop:i,currentTabStopId:g,onItemFocus:p.useCallback(S=>m(S),[m]),onItemShiftTab:p.useCallback(()=>v(!0),[]),onFocusableItemAdd:p.useCallback(()=>x(S=>S+1),[]),onFocusableItemRemove:p.useCallback(()=>x(S=>S-1),[])},p.createElement(ye.div,W({tabIndex:y||E===0?-1:0,"data-orientation":r},u,{ref:f,style:{outline:"none",...t.style},onMouseDown:ie(t.onMouseDown,()=>{w.current=!0}),onFocus:ie(t.onFocus,S=>{const I=!w.current;if(S.target===S.currentTarget&&I&&!y){const A=new CustomEvent(p_,Nse);if(S.currentTarget.dispatchEvent(A),!A.defaultPrevented){const C=b().filter(D=>D.focusable),R=C.find(D=>D.active),P=C.find(D=>D.id===g),M=[R,P,...C].filter(Boolean).map(D=>D.ref.current);c3(M)}}w.current=!1}),onBlur:ie(t.onBlur,()=>v(!1))})))}),Use="RovingFocusGroupItem",zse=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=ui(),l=s||a,c=Fse(Use,n),u=c.currentTabStopId===l,d=a3(n),{onFocusableItemAdd:f,onFocusableItemRemove:h}=c;return p.useEffect(()=>{if(r)return f(),()=>h()},[r,f,h]),p.createElement(D1.ItemSlot,{scope:n,id:l,focusable:r,active:i},p.createElement(ye.span,W({tabIndex:u?0:-1,"data-orientation":c.orientation},o,{ref:e,onMouseDown:ie(t.onMouseDown,g=>{r?c.onItemFocus(l):g.preventDefault()}),onFocus:ie(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ie(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){c.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=Hse(g,c.orientation,c.dir);if(m!==void 0){g.preventDefault();let v=d().filter(_=>_.focusable).map(_=>_.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const _=v.indexOf(g.currentTarget);v=c.loop?qse(v,_+1):v.slice(_+1)}setTimeout(()=>c3(v))}})})))}),Bse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Wse(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Hse(t,e,n){const r=Wse(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Bse[r]}function c3(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function qse(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const Kse=Vse,Gse=zse,L1=["Enter"," "],Qse=["ArrowDown","PageUp","Home"],u3=["ArrowUp","PageDown","End"],Yse=[...Qse,...u3],Xse={ltr:[...L1,"ArrowRight"],rtl:[...L1,"ArrowLeft"]},Jse={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ry="Menu",[nf,Zse,eoe]=Wf(Ry),[Ua,d3]=gi(Ry,[eoe,r3,l3]),vT=r3(),f3=l3(),[toe,za]=Ua(Ry),[noe,Yf]=Ua(Ry),roe=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=vT(e),[l,c]=p.useState(null),u=p.useRef(!1),d=Pt(s),f=fy(i);return p.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),p.createElement(kse,a,p.createElement(toe,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c},p.createElement(noe,{scope:e,onClose:p.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:o},r)))},h3=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=vT(n);return p.createElement($se,W({},i,r,{ref:e}))}),p3="MenuPortal",[ioe,m3]=Ua(p3,{forceMount:void 0}),soe=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=za(p3,e);return p.createElement(ioe,{scope:e,forceMount:n},p.createElement(rr,{present:n||s.open},p.createElement(E4,{asChild:!0,container:i},r)))},$r="MenuContent",[ooe,yT]=Ua($r),aoe=p.forwardRef((t,e)=>{const n=m3($r,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=za($r,t.__scopeMenu),o=Yf($r,t.__scopeMenu);return p.createElement(nf.Provider,{scope:t.__scopeMenu},p.createElement(rr,{present:r||s.open},p.createElement(nf.Slot,{scope:t.__scopeMenu},o.modal?p.createElement(loe,W({},i,{ref:e})):p.createElement(coe,W({},i,{ref:e})))))}),loe=p.forwardRef((t,e)=>{const n=za($r,t.__scopeMenu),r=p.useRef(null),i=et(e,r);return p.useEffect(()=>{const s=r.current;if(s)return O4(s)},[]),p.createElement(_T,W({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ie(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),coe=p.forwardRef((t,e)=>{const n=za($r,t.__scopeMenu);return p.createElement(_T,W({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),_T=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,disableOutsideScroll:g,...m}=t,y=za($r,n),v=Yf($r,n),_=vT(n),b=f3(n),w=Zse(n),[E,x]=p.useState(null),S=p.useRef(null),I=et(e,S,y.onContentChange),A=p.useRef(0),C=p.useRef(""),R=p.useRef(0),P=p.useRef(null),k=p.useRef("right"),M=p.useRef(0),D=g?k4:p.Fragment,V=g?{as:ma,allowPinchZoom:!0}:void 0,H=$=>{var L,z;const G=C.current+$,K=w().filter(wt=>!wt.disabled),q=document.activeElement,Q=(L=K.find(wt=>wt.ref.current===q))===null||L===void 0?void 0:L.textValue,ee=K.map(wt=>wt.textValue),he=Soe(ee,G,Q),ut=(z=K.find(wt=>wt.textValue===he))===null||z===void 0?void 0:z.ref.current;(function wt(Jt){C.current=Jt,window.clearTimeout(A.current),Jt!==""&&(A.current=window.setTimeout(()=>wt(""),1e3))})(G),ut&&setTimeout(()=>ut.focus())};p.useEffect(()=>()=>window.clearTimeout(A.current),[]),x4();const O=p.useCallback($=>{var L,z;return k.current===((L=P.current)===null||L===void 0?void 0:L.side)&&Coe($,(z=P.current)===null||z===void 0?void 0:z.area)},[]);return p.createElement(ooe,{scope:n,searchRef:C,onItemEnter:p.useCallback($=>{O($)&&$.preventDefault()},[O]),onItemLeave:p.useCallback($=>{var L;O($)||((L=S.current)===null||L===void 0||L.focus(),x(null))},[O]),onTriggerLeave:p.useCallback($=>{O($)&&$.preventDefault()},[O]),pointerGraceTimerRef:R,onPointerGraceIntentChange:p.useCallback($=>{P.current=$},[])},p.createElement(D,V,p.createElement(b4,{asChild:!0,trapped:i,onMountAutoFocus:ie(s,$=>{var L;$.preventDefault(),(L=S.current)===null||L===void 0||L.focus()}),onUnmountAutoFocus:o},p.createElement(Fx,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h},p.createElement(Kse,W({asChild:!0},b,{dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:x,onEntryFocus:ie(l,$=>{v.isUsingKeyboardRef.current||$.preventDefault()})}),p.createElement(Ose,W({role:"menu","aria-orientation":"vertical","data-state":b3(y.open),"data-radix-menu-content":"",dir:v.dir},_,m,{ref:I,style:{outline:"none",...m.style},onKeyDown:ie(m.onKeyDown,$=>{const z=$.target.closest("[data-radix-menu-content]")===$.currentTarget,G=$.ctrlKey||$.altKey||$.metaKey,K=$.key.length===1;z&&($.key==="Tab"&&$.preventDefault(),!G&&K&&H($.key));const q=S.current;if($.target!==q||!Yse.includes($.key))return;$.preventDefault();const ee=w().filter(he=>!he.disabled).map(he=>he.ref.current);u3.includes($.key)&&ee.reverse(),xoe(ee)}),onBlur:ie(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(A.current),C.current="")}),onPointerMove:ie(t.onPointerMove,rf($=>{const L=$.target,z=M.current!==$.clientX;if($.currentTarget.contains(L)&&z){const G=$.clientX>M.current?"right":"left";k.current=G,M.current=$.clientX}}))})))))))}),uoe=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.createElement(ye.div,W({},r,{ref:e}))}),F1="MenuItem",PA="menu.itemSelect",bT=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=p.useRef(null),o=Yf(F1,t.__scopeMenu),a=yT(F1,t.__scopeMenu),l=et(e,s),c=p.useRef(!1),u=()=>{const d=s.current;if(!n&&d){const f=new CustomEvent(PA,{bubbles:!0,cancelable:!0});d.addEventListener(PA,h=>r==null?void 0:r(h),{once:!0}),Xm(d,f),f.defaultPrevented?c.current=!1:o.onClose()}};return p.createElement(g3,W({},i,{ref:l,disabled:n,onClick:ie(t.onClick,u),onPointerDown:d=>{var f;(f=t.onPointerDown)===null||f===void 0||f.call(t,d),c.current=!0},onPointerUp:ie(t.onPointerUp,d=>{var f;c.current||(f=d.currentTarget)===null||f===void 0||f.click()}),onKeyDown:ie(t.onKeyDown,d=>{const f=a.searchRef.current!=="";n||f&&d.key===" "||L1.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})}))}),g3=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=yT(F1,n),a=f3(n),l=p.useRef(null),c=et(e,l),[u,d]=p.useState(!1),[f,h]=p.useState("");return p.useEffect(()=>{const g=l.current;if(g){var m;h(((m=g.textContent)!==null&&m!==void 0?m:"").trim())}},[s.children]),p.createElement(nf.ItemSlot,{scope:n,disabled:r,textValue:i??f},p.createElement(Gse,W({asChild:!0},a,{focusable:!r}),p.createElement(ye.div,W({role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},s,{ref:c,onPointerMove:ie(t.onPointerMove,rf(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus())})),onPointerLeave:ie(t.onPointerLeave,rf(g=>o.onItemLeave(g))),onFocus:ie(t.onFocus,()=>d(!0)),onBlur:ie(t.onBlur,()=>d(!1))}))))}),doe=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return p.createElement(y3,{scope:t.__scopeMenu,checked:n},p.createElement(bT,W({role:"menuitemcheckbox","aria-checked":hg(n)?"mixed":n},i,{ref:e,"data-state":wT(n),onSelect:ie(i.onSelect,()=>r==null?void 0:r(hg(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),foe="MenuRadioGroup",[nme,hoe]=Ua(foe,{value:void 0,onValueChange:()=>{}}),poe="MenuRadioItem",moe=p.forwardRef((t,e)=>{const{value:n,...r}=t,i=hoe(poe,t.__scopeMenu),s=n===i.value;return p.createElement(y3,{scope:t.__scopeMenu,checked:s},p.createElement(bT,W({role:"menuitemradio","aria-checked":s},r,{ref:e,"data-state":wT(s),onSelect:ie(r.onSelect,()=>{var o;return(o=i.onValueChange)===null||o===void 0?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})))}),v3="MenuItemIndicator",[y3,goe]=Ua(v3,{checked:!1}),voe=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=goe(v3,n);return p.createElement(rr,{present:r||hg(s.checked)||s.checked===!0},p.createElement(ye.span,W({},i,{ref:e,"data-state":wT(s.checked)})))}),yoe=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.createElement(ye.div,W({role:"separator","aria-orientation":"horizontal"},r,{ref:e}))}),_oe="MenuSub",[rme,_3]=Ua(_oe),Wh="MenuSubTrigger",boe=p.forwardRef((t,e)=>{const n=za(Wh,t.__scopeMenu),r=Yf(Wh,t.__scopeMenu),i=_3(Wh,t.__scopeMenu),s=yT(Wh,t.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},u=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>u,[u]),p.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),p.createElement(h3,W({asChild:!0},c),p.createElement(g3,W({id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":b3(n.open)},t,{ref:Bf(e,i.onTriggerChange),onClick:d=>{var f;(f=t.onClick)===null||f===void 0||f.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ie(t.onPointerMove,rf(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:ie(t.onPointerLeave,rf(d=>{var f;u();const h=(f=n.content)===null||f===void 0?void 0:f.getBoundingClientRect();if(h){var g;const m=(g=n.content)===null||g===void 0?void 0:g.dataset.side,y=m==="right",v=y?-5:5,_=h[y?"left":"right"],b=h[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x:_,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:_,y:h.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ie(t.onKeyDown,d=>{const f=s.searchRef.current!=="";if(!(t.disabled||f&&d.key===" ")&&Xse[r.dir].includes(d.key)){var h;n.onOpenChange(!0),(h=n.content)===null||h===void 0||h.focus(),d.preventDefault()}})})))}),woe="MenuSubContent",Eoe=p.forwardRef((t,e)=>{const n=m3($r,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=za($r,t.__scopeMenu),o=Yf($r,t.__scopeMenu),a=_3(woe,t.__scopeMenu),l=p.useRef(null),c=et(e,l);return p.createElement(nf.Provider,{scope:t.__scopeMenu},p.createElement(rr,{present:r||s.open},p.createElement(nf.Slot,{scope:t.__scopeMenu},p.createElement(_T,W({id:a.contentId,"aria-labelledby":a.triggerId},i,{ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)===null||d===void 0||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:ie(t.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ie(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:ie(t.onKeyDown,u=>{const d=u.currentTarget.contains(u.target),f=Jse[o.dir].includes(u.key);if(d&&f){var h;s.onOpenChange(!1),(h=a.trigger)===null||h===void 0||h.focus(),u.preventDefault()}})})))))});function b3(t){return t?"open":"closed"}function hg(t){return t==="indeterminate"}function wT(t){return hg(t)?"indeterminate":t?"checked":"unchecked"}function xoe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Toe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Soe(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Toe(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Ioe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function Coe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Ioe(n,e)}function rf(t){return e=>e.pointerType==="mouse"?t(e):void 0}const Aoe=roe,Roe=h3,Poe=soe,koe=aoe,$oe=uoe,Ooe=bT,Noe=doe,Moe=moe,Doe=voe,Loe=yoe,Foe=boe,Voe=Eoe,w3="DropdownMenu",[joe,ime]=gi(w3,[d3]),br=d3(),[Uoe,E3]=joe(w3),zoe=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=br(e),c=p.useRef(null),[u=!1,d]=$a({prop:i,defaultProp:s,onChange:o});return p.createElement(Uoe,{scope:e,triggerId:ui(),triggerRef:c,contentId:ui(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:a},p.createElement(Aoe,W({},l,{open:u,onOpenChange:d,dir:r,modal:a}),n))},Boe="DropdownMenuTrigger",Woe=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=E3(Boe,n),o=br(n);return p.createElement(Roe,W({asChild:!0},o),p.createElement(ye.button,W({type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},i,{ref:Bf(e,s.triggerRef),onPointerDown:ie(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:ie(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),Hoe=t=>{const{__scopeDropdownMenu:e,...n}=t,r=br(e);return p.createElement(Poe,W({},r,n))},qoe="DropdownMenuContent",Koe=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=E3(qoe,n),s=br(n),o=p.useRef(!1);return p.createElement(koe,W({id:i.contentId,"aria-labelledby":i.triggerId},s,r,{ref:e,onCloseAutoFocus:ie(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)===null||l===void 0||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ie(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),Goe=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=br(n);return p.createElement($oe,W({},i,r,{ref:e}))}),Qoe=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=br(n);return p.createElement(Ooe,W({},i,r,{ref:e}))}),Yoe=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=br(n);return p.createElement(Noe,W({},i,r,{ref:e}))}),Xoe=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=br(n);return p.createElement(Moe,W({},i,r,{ref:e}))}),Joe=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=br(n);return p.createElement(Doe,W({},i,r,{ref:e}))}),Zoe=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=br(n);return p.createElement(Loe,W({},i,r,{ref:e}))}),eae=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=br(n);return p.createElement(Foe,W({},i,r,{ref:e}))}),tae=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=br(n);return p.createElement(Voe,W({},i,r,{ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),nae=zoe,rae=Woe,iae=Hoe,x3=Koe,co=Goe,T3=Qoe,S3=Yoe,I3=Xoe,C3=Joe,A3=Zoe,R3=eae,P3=tae;function sae(){const t=Kt(pn),[e,n]=p.useState([""]),[r,i]=p.useState(!1),[s]=tJ(),o=()=>{i(!0),u.values.groupName="",u.values.emails=[""],n([""])},a=()=>{n([...e,""])},l=f=>{const h=[...e];h.splice(f,1),n(h)},c=Nc().shape({emails:y4().of(jr().email("Invalid email format")).min(1,"At least one email is required").required("Emails are required"),groupName:jr().required("Group name is required")}),u=_y({initialValues:{emails:e,groupName:""},validationSchema:c,onSubmit:f=>{const h=f.emails;h.push(t.email);const g=f.groupName;d(h,g)},validateOnChange:!1,validateOnBlur:!1}),d=async(f,h)=>{s({user_group_email:f,user_group_name:h}),n([""]),i(!1)};return T.jsxs(lT,{open:r,onOpenChange:i,children:[T.jsx(cT,{onClick:o,asChild:!0,children:T.jsx("div",{className:"cursor-pointer",children:" Create Group +"})}),T.jsx(Jd,{className:"sm:max-w-[425px]",children:T.jsxs("form",{onSubmit:u.handleSubmit,children:[T.jsxs(Zd,{children:[T.jsx(Iy,{children:"Create a new group"}),T.jsx(ef,{children:"Add emails down below for people that you would like to share expenses with"})]}),T.jsxs("div",{className:"flex mt-6  items-center",children:[T.jsx(co,{className:"text-left mr-3",children:"Group"}),T.jsx(va,{name:"groupName",autoComplete:"off",onChange:u.handleChange,onBlur:u.handleBlur,value:u.values.groupName,className:"col-span-3"})]}),u.touched.groupName&&u.errors.groupName?T.jsx("div",{className:"text-red-500",children:u.errors.groupName}):null,T.jsx("div",{className:"grid gap-4 py-4",children:e.map((f,h)=>T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx(co,{className:"text-right",children:"Email"}),T.jsx(va,{name:`emails[${h}]`,onChange:u.handleChange,onBlur:u.handleBlur,value:u.values.emails[h],className:"col-span-3"}),T.jsx(kn,{className:"bg-slate-800",type:"button",onClick:()=>l(h),children:"Remove"})]}),u.touched.emails&&u.touched.emails&&u.errors.emails&&u.errors.emails[h]?T.jsx("div",{className:"text-red-500",children:u.errors.emails[h]}):null]},h))}),T.jsxs(Sy,{children:[T.jsx(kn,{type:"button",className:"mt-2 sm:mt-0",onClick:a,children:"Add Group Member"}),T.jsx(kn,{type:"submit",children:"Create Group"})]})]})})]})}function Py(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var oae=["color"],aae=p.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Py(t,oae);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),p.createElement("path",{d:"M0 1.5C0 1.22386 0.223858 1 0.5 1H2.5C2.77614 1 3 1.22386 3 1.5C3 1.77614 2.77614 2 2.5 2H0.5C0.223858 2 0 1.77614 0 1.5ZM4 1.5C4 1.22386 4.22386 1 4.5 1H14.5C14.7761 1 15 1.22386 15 1.5C15 1.77614 14.7761 2 14.5 2H4.5C4.22386 2 4 1.77614 4 1.5ZM4 4.5C4 4.22386 4.22386 4 4.5 4H11.5C11.7761 4 12 4.22386 12 4.5C12 4.77614 11.7761 5 11.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM0 7.5C0 7.22386 0.223858 7 0.5 7H2.5C2.77614 7 3 7.22386 3 7.5C3 7.77614 2.77614 8 2.5 8H0.5C0.223858 8 0 7.77614 0 7.5ZM4 7.5C4 7.22386 4.22386 7 4.5 7H14.5C14.7761 7 15 7.22386 15 7.5C15 7.77614 14.7761 8 14.5 8H4.5C4.22386 8 4 7.77614 4 7.5ZM4 10.5C4 10.2239 4.22386 10 4.5 10H11.5C11.7761 10 12 10.2239 12 10.5C12 10.7761 11.7761 11 11.5 11H4.5C4.22386 11 4 10.7761 4 10.5ZM0 13.5C0 13.2239 0.223858 13 0.5 13H2.5C2.77614 13 3 13.2239 3 13.5C3 13.7761 2.77614 14 2.5 14H0.5C0.223858 14 0 13.7761 0 13.5ZM4 13.5C4 13.2239 4.22386 13 4.5 13H14.5C14.7761 13 15 13.2239 15 13.5C15 13.7761 14.7761 14 14.5 14H4.5C4.22386 14 4 13.7761 4 13.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),lae=["color"],cae=p.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Py(t,lae);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),p.createElement("path",{d:"M2.8 1L2.74967 0.99997C2.52122 0.999752 2.32429 0.999564 2.14983 1.04145C1.60136 1.17312 1.17312 1.60136 1.04145 2.14983C0.999564 2.32429 0.999752 2.52122 0.99997 2.74967L1 2.8V5.2L0.99997 5.25033C0.999752 5.47878 0.999564 5.67572 1.04145 5.85017C1.17312 6.39864 1.60136 6.82688 2.14983 6.95856C2.32429 7.00044 2.52122 7.00025 2.74967 7.00003L2.8 7H5.2L5.25033 7.00003C5.47878 7.00025 5.67572 7.00044 5.85017 6.95856C6.39864 6.82688 6.82688 6.39864 6.95856 5.85017C7.00044 5.67572 7.00025 5.47878 7.00003 5.25033L7 5.2V2.8L7.00003 2.74967C7.00025 2.52122 7.00044 2.32429 6.95856 2.14983C6.82688 1.60136 6.39864 1.17312 5.85017 1.04145C5.67572 0.999564 5.47878 0.999752 5.25033 0.99997L5.2 1H2.8ZM2.38328 2.01382C2.42632 2.00348 2.49222 2 2.8 2H5.2C5.50779 2 5.57369 2.00348 5.61672 2.01382C5.79955 2.05771 5.94229 2.20045 5.98619 2.38328C5.99652 2.42632 6 2.49222 6 2.8V5.2C6 5.50779 5.99652 5.57369 5.98619 5.61672C5.94229 5.79955 5.79955 5.94229 5.61672 5.98619C5.57369 5.99652 5.50779 6 5.2 6H2.8C2.49222 6 2.42632 5.99652 2.38328 5.98619C2.20045 5.94229 2.05771 5.79955 2.01382 5.61672C2.00348 5.57369 2 5.50779 2 5.2V2.8C2 2.49222 2.00348 2.42632 2.01382 2.38328C2.05771 2.20045 2.20045 2.05771 2.38328 2.01382ZM9.8 1L9.74967 0.99997C9.52122 0.999752 9.32429 0.999564 9.14983 1.04145C8.60136 1.17312 8.17312 1.60136 8.04145 2.14983C7.99956 2.32429 7.99975 2.52122 7.99997 2.74967L8 2.8V5.2L7.99997 5.25033C7.99975 5.47878 7.99956 5.67572 8.04145 5.85017C8.17312 6.39864 8.60136 6.82688 9.14983 6.95856C9.32429 7.00044 9.52122 7.00025 9.74967 7.00003L9.8 7H12.2L12.2503 7.00003C12.4788 7.00025 12.6757 7.00044 12.8502 6.95856C13.3986 6.82688 13.8269 6.39864 13.9586 5.85017C14.0004 5.67572 14.0003 5.47878 14 5.25033L14 5.2V2.8L14 2.74967C14.0003 2.52122 14.0004 2.32429 13.9586 2.14983C13.8269 1.60136 13.3986 1.17312 12.8502 1.04145C12.6757 0.999564 12.4788 0.999752 12.2503 0.99997L12.2 1H9.8ZM9.38328 2.01382C9.42632 2.00348 9.49222 2 9.8 2H12.2C12.5078 2 12.5737 2.00348 12.6167 2.01382C12.7995 2.05771 12.9423 2.20045 12.9862 2.38328C12.9965 2.42632 13 2.49222 13 2.8V5.2C13 5.50779 12.9965 5.57369 12.9862 5.61672C12.9423 5.79955 12.7995 5.94229 12.6167 5.98619C12.5737 5.99652 12.5078 6 12.2 6H9.8C9.49222 6 9.42632 5.99652 9.38328 5.98619C9.20045 5.94229 9.05771 5.79955 9.01382 5.61672C9.00348 5.57369 9 5.50779 9 5.2V2.8C9 2.49222 9.00348 2.42632 9.01382 2.38328C9.05771 2.20045 9.20045 2.05771 9.38328 2.01382ZM2.74967 7.99997L2.8 8H5.2L5.25033 7.99997C5.47878 7.99975 5.67572 7.99956 5.85017 8.04145C6.39864 8.17312 6.82688 8.60136 6.95856 9.14983C7.00044 9.32429 7.00025 9.52122 7.00003 9.74967L7 9.8V12.2L7.00003 12.2503C7.00025 12.4788 7.00044 12.6757 6.95856 12.8502C6.82688 13.3986 6.39864 13.8269 5.85017 13.9586C5.67572 14.0004 5.47878 14.0003 5.25033 14L5.2 14H2.8L2.74967 14C2.52122 14.0003 2.32429 14.0004 2.14983 13.9586C1.60136 13.8269 1.17312 13.3986 1.04145 12.8502C0.999564 12.6757 0.999752 12.4788 0.99997 12.2503L1 12.2V9.8L0.99997 9.74967C0.999752 9.52122 0.999564 9.32429 1.04145 9.14983C1.17312 8.60136 1.60136 8.17312 2.14983 8.04145C2.32429 7.99956 2.52122 7.99975 2.74967 7.99997ZM2.8 9C2.49222 9 2.42632 9.00348 2.38328 9.01382C2.20045 9.05771 2.05771 9.20045 2.01382 9.38328C2.00348 9.42632 2 9.49222 2 9.8V12.2C2 12.5078 2.00348 12.5737 2.01382 12.6167C2.05771 12.7995 2.20045 12.9423 2.38328 12.9862C2.42632 12.9965 2.49222 13 2.8 13H5.2C5.50779 13 5.57369 12.9965 5.61672 12.9862C5.79955 12.9423 5.94229 12.7995 5.98619 12.6167C5.99652 12.5737 6 12.5078 6 12.2V9.8C6 9.49222 5.99652 9.42632 5.98619 9.38328C5.94229 9.20045 5.79955 9.05771 5.61672 9.01382C5.57369 9.00348 5.50779 9 5.2 9H2.8ZM9.8 8L9.74967 7.99997C9.52122 7.99975 9.32429 7.99956 9.14983 8.04145C8.60136 8.17312 8.17312 8.60136 8.04145 9.14983C7.99956 9.32429 7.99975 9.52122 7.99997 9.74967L8 9.8V12.2L7.99997 12.2503C7.99975 12.4788 7.99956 12.6757 8.04145 12.8502C8.17312 13.3986 8.60136 13.8269 9.14983 13.9586C9.32429 14.0004 9.52122 14.0003 9.74967 14L9.8 14H12.2L12.2503 14C12.4788 14.0003 12.6757 14.0004 12.8502 13.9586C13.3986 13.8269 13.8269 13.3986 13.9586 12.8502C14.0004 12.6757 14.0003 12.4788 14 12.2503L14 12.2V9.8L14 9.74967C14.0003 9.52122 14.0004 9.32429 13.9586 9.14983C13.8269 8.60136 13.3986 8.17312 12.8502 8.04145C12.6757 7.99956 12.4788 7.99975 12.2503 7.99997L12.2 8H9.8ZM9.38328 9.01382C9.42632 9.00348 9.49222 9 9.8 9H12.2C12.5078 9 12.5737 9.00348 12.6167 9.01382C12.7995 9.05771 12.9423 9.20045 12.9862 9.38328C12.9965 9.42632 13 9.49222 13 9.8V12.2C13 12.5078 12.9965 12.5737 12.9862 12.6167C12.9423 12.7995 12.7995 12.9423 12.6167 12.9862C12.5737 12.9965 12.5078 13 12.2 13H9.8C9.49222 13 9.42632 12.9965 9.38328 12.9862C9.20045 12.9423 9.05771 12.7995 9.01382 12.6167C9.00348 12.5737 9 12.5078 9 12.2V9.8C9 9.49222 9.00348 9.42632 9.01382 9.38328C9.05771 9.20045 9.20045 9.05771 9.38328 9.01382Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),uae=["color"],dae=p.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Py(t,uae);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),p.createElement("path",{d:"M1.44995 0.949951C1.31734 0.949951 1.19016 1.00263 1.0964 1.0964C1.00263 1.19017 0.949951 1.31735 0.949951 1.44995L0.949966 3.44995C0.949969 3.7261 1.17383 3.94995 1.44997 3.94995C1.72611 3.94995 1.94997 3.72609 1.94997 3.44995L1.94995 1.94995H3.44997C3.72611 1.94995 3.94997 1.72609 3.94997 1.44995C3.94997 1.17381 3.72611 0.949951 3.44997 0.949951H1.44995ZM5.94995 0.949951C5.67381 0.949951 5.44995 1.17381 5.44995 1.44995C5.44995 1.72609 5.67381 1.94995 5.94995 1.94995H8.94995C9.22609 1.94995 9.44995 1.72609 9.44995 1.44995C9.44995 1.17381 9.22609 0.949951 8.94995 0.949951H5.94995ZM5.44995 13.45C5.44995 13.1738 5.67381 12.95 5.94995 12.95H8.94995C9.22609 12.95 9.44995 13.1738 9.44995 13.45C9.44995 13.7261 9.22609 13.95 8.94995 13.95H5.94995C5.67381 13.95 5.44995 13.7261 5.44995 13.45ZM1.94995 5.94995C1.94995 5.67381 1.72609 5.44995 1.44995 5.44995C1.17381 5.44995 0.949951 5.67381 0.949951 5.94995V8.94995C0.949951 9.22609 1.17381 9.44995 1.44995 9.44995C1.72609 9.44995 1.94995 9.22609 1.94995 8.94995V5.94995ZM13.45 5.44995C13.7261 5.44995 13.95 5.67381 13.95 5.94995V8.94995C13.95 9.22609 13.7261 9.44995 13.45 9.44995C13.1738 9.44995 12.95 9.22609 12.95 8.94995V5.94995C12.95 5.67381 13.1738 5.44995 13.45 5.44995ZM11.45 0.949951C11.1738 0.949951 10.95 1.17381 10.95 1.44995C10.95 1.72609 11.1738 1.94995 11.45 1.94995H12.9499V3.44995C12.9499 3.72609 13.1738 3.94995 13.4499 3.94995C13.7261 3.94995 13.9499 3.72609 13.9499 3.44995V1.44995C13.9499 1.17381 13.7252 0.949951 13.449 0.949951H11.45ZM1.44995 10.95C1.72609 10.95 1.94995 11.1738 1.94995 11.45V12.95H3.44997C3.72611 12.95 3.94997 13.1738 3.94997 13.45C3.94997 13.7261 3.72611 13.95 3.44997 13.95H1.44995C1.17381 13.95 0.949951 13.7261 0.949951 13.45V11.45C0.949951 11.1738 1.17381 10.95 1.44995 10.95ZM13.95 11.45C13.95 11.1738 13.7261 10.95 13.45 10.95C13.1738 10.9499 12.95 11.1738 12.95 11.4499L12.9491 12.95H11.45C11.1738 12.95 10.95 13.1738 10.95 13.45C10.95 13.7261 11.1738 13.95 11.45 13.95H13.4499C13.7261 13.95 13.9499 13.7261 13.9499 13.45L13.95 11.45Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),fae=["color"],hae=p.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=Py(t,fae);return p.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),p.createElement("path",{d:"M7.5 0.875C5.49797 0.875 3.875 2.49797 3.875 4.5C3.875 6.15288 4.98124 7.54738 6.49373 7.98351C5.2997 8.12901 4.27557 8.55134 3.50407 9.31167C2.52216 10.2794 2.02502 11.72 2.02502 13.5999C2.02502 13.8623 2.23769 14.0749 2.50002 14.0749C2.76236 14.0749 2.97502 13.8623 2.97502 13.5999C2.97502 11.8799 3.42786 10.7206 4.17091 9.9883C4.91536 9.25463 6.02674 8.87499 7.49995 8.87499C8.97317 8.87499 10.0846 9.25463 10.8291 9.98831C11.5721 10.7206 12.025 11.8799 12.025 13.5999C12.025 13.8623 12.2376 14.0749 12.5 14.0749C12.7623 14.075 12.975 13.8623 12.975 13.6C12.975 11.72 12.4778 10.2794 11.4959 9.31166C10.7244 8.55135 9.70025 8.12903 8.50625 7.98352C10.0187 7.5474 11.125 6.15289 11.125 4.5C11.125 2.49797 9.50203 0.875 7.5 0.875ZM4.825 4.5C4.825 3.02264 6.02264 1.825 7.5 1.825C8.97736 1.825 10.175 3.02264 10.175 4.5C10.175 5.97736 8.97736 7.175 7.5 7.175C6.02264 7.175 4.825 5.97736 4.825 4.5Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});const k3="Collapsible",[pae,$3]=gi(k3),[mae,ET]=pae(k3),gae=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...a}=t,[l=!1,c]=$a({prop:r,defaultProp:i,onChange:o});return p.createElement(mae,{scope:n,disabled:s,contentId:ui(),open:l,onOpenToggle:p.useCallback(()=>c(u=>!u),[c])},p.createElement(ye.div,W({"data-state":xT(l),"data-disabled":s?"":void 0},a,{ref:e})))}),vae="CollapsibleTrigger",yae=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=ET(vae,n);return p.createElement(ye.button,W({type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":xT(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled},r,{ref:e,onClick:ie(t.onClick,i.onOpenToggle)}))}),O3="CollapsibleContent",_ae=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ET(O3,t.__scopeCollapsible);return p.createElement(rr,{present:n||i.open},({present:s})=>p.createElement(bae,W({},r,{ref:e,present:s})))}),bae=p.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=ET(O3,n),[a,l]=p.useState(r),c=p.useRef(null),u=et(e,c),d=p.useRef(0),f=d.current,h=p.useRef(0),g=h.current,m=o.open||a,y=p.useRef(m),v=p.useRef();return p.useEffect(()=>{const _=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(_)},[]),Vr(()=>{const _=c.current;if(_){v.current=v.current||{transitionDuration:_.style.transitionDuration,animationName:_.style.animationName},_.style.transitionDuration="0s",_.style.animationName="none";const b=_.getBoundingClientRect();d.current=b.height,h.current=b.width,y.current||(_.style.transitionDuration=v.current.transitionDuration,_.style.animationName=v.current.animationName),l(r)}},[o.open,r]),p.createElement(ye.div,W({"data-state":xT(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!m},s,{ref:u,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style}}),m&&i)});function xT(t){return t?"open":"closed"}const wae=gae,Eae=yae,xae=_ae,To="Accordion",Tae=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[TT,Sae,Iae]=Wf(To),[ky,sme]=gi(To,[Iae,$3]),ST=$3(),N3=ne.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return ne.createElement(TT.Provider,{scope:t.__scopeAccordion},n==="multiple"?ne.createElement(Pae,W({},s,{ref:e})):ne.createElement(Rae,W({},i,{ref:e})))});N3.propTypes={type(t){const e=t.value||t.defaultValue;return t.type&&!["single","multiple"].includes(t.type)?new Error("Invalid prop `type` supplied to `Accordion`. Expected one of `single | multiple`."):t.type==="multiple"&&typeof e=="string"?new Error("Invalid prop `type` supplied to `Accordion`. Expected `single` when `defaultValue` or `value` is type `string`."):t.type==="single"&&Array.isArray(e)?new Error("Invalid prop `type` supplied to `Accordion`. Expected `multiple` when `defaultValue` or `value` is type `string[]`."):null}};const[M3,Cae]=ky(To),[D3,Aae]=ky(To,{collapsible:!1}),Rae=ne.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[a,l]=$a({prop:n,defaultProp:r,onChange:i});return ne.createElement(M3,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:ne.useCallback(()=>s&&l(""),[s,l])},ne.createElement(D3,{scope:t.__scopeAccordion,collapsible:s},ne.createElement(L3,W({},o,{ref:e}))))}),Pae=ne.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o=[],a]=$a({prop:n,defaultProp:r,onChange:i}),l=ne.useCallback(u=>a((d=[])=>[...d,u]),[a]),c=ne.useCallback(u=>a((d=[])=>d.filter(f=>f!==u)),[a]);return ne.createElement(M3,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c},ne.createElement(D3,{scope:t.__scopeAccordion,collapsible:!0},ne.createElement(L3,W({},s,{ref:e}))))}),[kae,$y]=ky(To),L3=ne.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...o}=t,a=ne.useRef(null),l=et(a,e),c=Sae(n),d=fy(i)==="ltr",f=ie(t.onKeyDown,h=>{var g;if(!Tae.includes(h.key))return;const m=h.target,y=c().filter(A=>{var C;return!((C=A.ref.current)!==null&&C!==void 0&&C.disabled)}),v=y.findIndex(A=>A.ref.current===m),_=y.length;if(v===-1)return;h.preventDefault();let b=v;const w=0,E=_-1,x=()=>{b=v+1,b>E&&(b=w)},S=()=>{b=v-1,b<w&&(b=E)};switch(h.key){case"Home":b=w;break;case"End":b=E;break;case"ArrowRight":s==="horizontal"&&(d?x():S());break;case"ArrowDown":s==="vertical"&&x();break;case"ArrowLeft":s==="horizontal"&&(d?S():x());break;case"ArrowUp":s==="vertical"&&S();break}const I=b%_;(g=y[I].ref.current)===null||g===void 0||g.focus()});return ne.createElement(kae,{scope:n,disabled:r,direction:i,orientation:s},ne.createElement(TT.Slot,{scope:n},ne.createElement(ye.div,W({},o,{"data-orientation":s,ref:l,onKeyDown:r?void 0:f}))))}),V1="AccordionItem",[$ae,IT]=ky(V1),Oae=ne.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=$y(V1,n),o=Cae(V1,n),a=ST(n),l=ui(),c=r&&o.value.includes(r)||!1,u=s.disabled||t.disabled;return ne.createElement($ae,{scope:n,open:c,disabled:u,triggerId:l},ne.createElement(wae,W({"data-orientation":s.orientation,"data-state":F3(c)},a,i,{ref:e,disabled:u,open:c,onOpenChange:d=>{d?o.onItemOpen(r):o.onItemClose(r)}})))}),Nae="AccordionHeader",Mae=ne.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=$y(To,n),s=IT(Nae,n);return ne.createElement(ye.h3,W({"data-orientation":i.orientation,"data-state":F3(s.open),"data-disabled":s.disabled?"":void 0},r,{ref:e}))}),kA="AccordionTrigger",Dae=ne.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=$y(To,n),s=IT(kA,n),o=Aae(kA,n),a=ST(n);return ne.createElement(TT.ItemSlot,{scope:n},ne.createElement(Eae,W({"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId},a,r,{ref:e})))}),Lae="AccordionContent",Fae=ne.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=$y(To,n),s=IT(Lae,n),o=ST(n);return ne.createElement(xae,W({role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation},o,r,{ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}}))});function F3(t){return t?"open":"closed"}const Vae=N3,jae=Oae,Uae=Mae,V3=Dae,j3=Fae,zae=Vae,U3=p.forwardRef(({className:t,...e},n)=>T.jsx(jae,{ref:n,className:_e("",t),...e}));U3.displayName="AccordionItem";const z3=p.forwardRef(({className:t,children:e,...n},r)=>T.jsx(Uae,{className:"flex",children:T.jsxs(V3,{ref:r,className:_e("flex items-center p-2 text-primary-font-color rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group flex-1 pl-2 whitespace-nowrap mt-1 text-2xl   transition-all [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,T.jsx(h9,{className:" h-6 w-6 ml-24 shrink-0 transition-transform duration-200"})]})}));z3.displayName=V3.displayName;const B3=p.forwardRef(({className:t,children:e,...n},r)=>T.jsx(j3,{ref:r,className:_e("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",t),...n,children:T.jsx("div",{className:"pb-4 pt-0 ml-11",children:e})}));B3.displayName=j3.displayName;function Bae({showNavBar:t,setShowNavBar:e}){var c;const[n,r]=p.useState("/"),i=Kt(pn),s=i==null?void 0:i.email,{data:o}=Na(s),a=(c=go())==null?void 0:c.pathname,l=()=>{!t&&e(!0)};return rJ(a,r),T.jsx("nav",{className:"z-40",children:T.jsx("div",{className:"sticky top-24 sm:top-0",children:T.jsx("aside",{className:t?"fixed top-16 sm:static left-0 w-64 rounded-medium  transition-transform -translate-x-full sm:translate-x-0  ":"fixed top-0 left-0 sm:static w-64 h-screen transition-transform  sm:translate-x-0",children:T.jsx("div",{className:"bg-primary-bg-color  h-screen pt-2 overflow-y-auto dark:bg-gray-800 rounded-xl shadow-lg sm:pt-0",children:T.jsxs("ul",{className:"space-y-2 font-medium",children:[T.jsx("img",{src:c1,onClick:l,className:"w-12 h-12 ml-1 sm:hidden"}),T.jsx("li",{}),T.jsx("li",{children:T.jsxs(Ar,{className:`flex items-center p-2 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group ${n==="/"?"text-primary-button-color":"text-primary-font-color"}`,to:"/",children:[T.jsx(cae,{className:"w-6 h-6 "}),T.jsx("span",{className:"ml-3 text-2xl",children:"Dashboard"})]})}),T.jsx("li",{children:T.jsxs(Ar,{className:`flex items-center p-2  rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group ${n==="/recentactivity"?"text-primary-button-color":""}`,onClick:()=>r("/recentactivity"),to:"/recentactivity",children:[T.jsx(aae,{className:"w-6 h-6"}),T.jsx("span",{className:"flex-1 ml-3 whitespace-nowrap text-2xl",children:"Recent Activity"})]})}),T.jsx("li",{children:T.jsx(zae,{type:"single",collapsible:!0,children:T.jsxs(U3,{value:"item-1",children:[T.jsxs(z3,{children:[T.jsx(dae,{className:"w-7 h-7 mr-2"})," Group"," "]}),T.jsxs(B3,{children:[T.jsx("div",{className:"text-lg",children:T.jsx(sae,{})}),o==null?void 0:o.map(u=>T.jsx("div",{children:T.jsx(Ar,{className:`${n==="/group/"+u.id?"text-primary-button-color":""}`,to:"/group/"+u.id,onClick:()=>r("/group/"+u.id),children:u.user_group_name})},u.id))]})]})})}),T.jsx("li",{children:T.jsxs(Ar,{className:`flex items-center p-2  rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group ${n==="/profile"?"text-primary-button-color":"text-primary-font-color"}`,to:"/profile",onClick:()=>r("/profile"),children:[T.jsx(hae,{className:"w-6 h-6"}),T.jsx("span",{className:"flex-1 ml-3 whitespace-nowrap mt-1 text-2xl",children:"Profile"})]})})]})})})})})}var Hh,Wae=new Uint8Array(16);function Hae(){if(!Hh&&(Hh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Hh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hh(Wae)}const qae=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Kae(t){return typeof t=="string"&&qae.test(t)}var Lt=[];for(var m_=0;m_<256;++m_)Lt.push((m_+256).toString(16).substr(1));function Gae(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Lt[t[e+0]]+Lt[t[e+1]]+Lt[t[e+2]]+Lt[t[e+3]]+"-"+Lt[t[e+4]]+Lt[t[e+5]]+"-"+Lt[t[e+6]]+Lt[t[e+7]]+"-"+Lt[t[e+8]]+Lt[t[e+9]]+"-"+Lt[t[e+10]]+Lt[t[e+11]]+Lt[t[e+12]]+Lt[t[e+13]]+Lt[t[e+14]]+Lt[t[e+15]]).toLowerCase();if(!Kae(n))throw TypeError("Stringified UUID is invalid");return n}function W3(t,e,n){t=t||{};var r=t.random||(t.rng||Hae)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Gae(r)}var Qae=Object.defineProperty,Yae=(t,e,n)=>e in t?Qae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,g_=(t,e,n)=>(Yae(t,typeof e!="symbol"?e+"":e,n),n);let Xae=class{constructor(){g_(this,"current",this.detect()),g_(this,"handoffState","pending"),g_(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ra=new Xae,Zn=(t,e)=>{ra.isServer?p.useEffect(t,e):p.useLayoutEffect(t,e)};function di(t){let e=p.useRef(t);return Zn(()=>{e.current=t},[t]),e}function H3(t,e){let[n,r]=p.useState(t),i=di(t);return Zn(()=>r(i.current),[i,r,...e]),n}function Jae(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function uo(){let t=[],e={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),e.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return e.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Jae(()=>{r.current&&n[0]()}),e.add(()=>{r.current=!1})},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=uo();return n(r),this.add(()=>r.dispose())},add(n){return t.push(n),()=>{let r=t.indexOf(n);if(r>=0)for(let i of t.splice(r,1))i()}},dispose(){for(let n of t.splice(0))n()}};return e}function uc(){let[t]=p.useState(uo);return p.useEffect(()=>()=>t.dispose(),[t]),t}let xe=function(t){let e=di(t);return ne.useCallback((...n)=>e.current(...n),[e])};function Zae(){let t=typeof document>"u";return"useSyncExternalStore"in Hp?(e=>e.useSyncExternalStore)(Hp)(()=>()=>{},()=>!1,()=>!t):!1}function CT(){let t=Zae(),[e,n]=p.useState(ra.isHandoffComplete);return e&&ra.isHandoffComplete===!1&&n(!1),p.useEffect(()=>{e!==!0&&n(!0)},[e]),p.useEffect(()=>ra.handoff(),[]),t?!1:e}var $A;let Oy=($A=ne.useId)!=null?$A:function(){let t=CT(),[e,n]=ne.useState(t?()=>ra.nextId():null);return Zn(()=>{e===null&&n(ra.nextId())},[e]),e!=null?""+e:void 0};function Wt(t,e,...n){if(t in e){let i=e[t];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Wt),r}function q3(t){return ra.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let OA=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var ele=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(ele||{}),tle=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(tle||{}),nle=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(nle||{}),AT=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(AT||{});function K3(t,e=0){var n;return t===((n=q3(t))==null?void 0:n.body)?!1:Wt(e,{0(){return t.matches(OA)},1(){let r=t;for(;r!==null;){if(r.matches(OA))return!0;r=r.parentElement}return!1}})}var rle=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(rle||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ile(t,e=n=>n){return t.slice().sort((n,r)=>{let i=e(n),s=e(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function qh(t,e,n){let r=di(e);p.useEffect(()=>{function i(s){r.current(s)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[t,n])}function sle(t,e,n){let r=di(e);p.useEffect(()=>{function i(s){r.current(s)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[t,n])}function ole(t,e,n=!0){let r=p.useRef(!1);p.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function i(o,a){if(!r.current||o.defaultPrevented)return;let l=a(o);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let c=function u(d){return typeof d=="function"?u(d()):Array.isArray(d)||d instanceof Set?d:[d]}(t);for(let u of c){if(u===null)continue;let d=u instanceof HTMLElement?u:u.current;if(d!=null&&d.contains(l)||o.composed&&o.composedPath().includes(d))return}return!K3(l,AT.Loose)&&l.tabIndex!==-1&&o.preventDefault(),e(o,l)}let s=p.useRef(null);qh("pointerdown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),qh("mousedown",o=>{var a,l;r.current&&(s.current=((l=(a=o.composedPath)==null?void 0:a.call(o))==null?void 0:l[0])||o.target)},!0),qh("click",o=>{s.current&&(i(o,()=>s.current),s.current=null)},!0),qh("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),sle("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function NA(t){var e;if(t.type)return t.type;let n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function ale(t,e){let[n,r]=p.useState(()=>NA(t));return Zn(()=>{r(NA(t))},[t.type,t.as]),Zn(()=>{n||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[n,e]),n}let lle=Symbol();function Ba(...t){let e=p.useRef(t);p.useEffect(()=>{e.current=t},[t]);let n=xe(r=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return t.every(r=>r==null||(r==null?void 0:r[lle]))?void 0:n}function cle(t){throw new Error("Unexpected object: "+t)}var Sn=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Sn||{});function ule(t,e){let n=e.resolveItems();if(n.length<=0)return null;let r=e.resolveActiveIndex(),i=r??-1,s=(()=>{switch(t.focus){case 0:return n.findIndex(o=>!e.resolveDisabled(o));case 1:{let o=n.slice().reverse().findIndex((a,l,c)=>i!==-1&&c.length-l-1>=i?!1:!e.resolveDisabled(a));return o===-1?o:n.length-1-o}case 2:return n.findIndex((o,a)=>a<=i?!1:!e.resolveDisabled(o));case 3:{let o=n.slice().reverse().findIndex(a=>!e.resolveDisabled(a));return o===-1?o:n.length-1-o}case 4:return n.findIndex(o=>e.resolveId(o)===t.id);case 5:return null;default:cle(t)}})();return s===-1?r:s}function pg(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var mg=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(mg||{}),Cs=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Cs||{});function So({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:i,visible:s=!0,name:o}){let a=G3(e,t);if(s)return Kh(a,n,r,o);let l=i??0;if(l&2){let{static:c=!1,...u}=a;if(c)return Kh(u,n,r,o)}if(l&1){let{unmount:c=!0,...u}=a;return Wt(c?0:1,{0(){return null},1(){return Kh({...u,hidden:!0,style:{display:"none"}},n,r,o)}})}return Kh(a,n,r,o)}function Kh(t,e={},n,r){let{as:i=n,children:s,refName:o="ref",...a}=v_(t,["unmount","static"]),l=t.ref!==void 0?{[o]:t.ref}:{},c=typeof s=="function"?s(e):s;"className"in a&&a.className&&typeof a.className=="function"&&(a.className=a.className(e));let u={};if(e){let d=!1,f=[];for(let[h,g]of Object.entries(e))typeof g=="boolean"&&(d=!0),g===!0&&f.push(h);d&&(u["data-headlessui-state"]=f.join(" "))}if(i===p.Fragment&&Object.keys(j1(a)).length>0){if(!p.isValidElement(c)||Array.isArray(c)&&c.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(a).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`));let d=c.props,f=typeof(d==null?void 0:d.className)=="function"?(...g)=>pg(d==null?void 0:d.className(...g),a.className):pg(d==null?void 0:d.className,a.className),h=f?{className:f}:{};return p.cloneElement(c,Object.assign({},G3(c.props,j1(v_(a,["ref"]))),u,l,dle(c.ref,l.ref),h))}return p.createElement(i,Object.assign({},v_(a,["ref"]),i!==p.Fragment&&l,i!==p.Fragment&&u),c)}function dle(...t){return{ref:t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}}function G3(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):e[i]=r[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](i,...s){let o=n[r];for(let a of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;a(i,...s)}}});return e}function os(t){var e;return Object.assign(p.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function j1(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function v_(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}function fle(t){let e=t.parentElement,n=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(n=e),e=e.parentElement;let r=(e==null?void 0:e.getAttribute("disabled"))==="";return r&&hle(n)?!1:r}function hle(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function Q3(t={},e=null,n=[]){for(let[r,i]of Object.entries(t))X3(n,Y3(e,r),i);return n}function Y3(t,e){return t?t+"["+e+"]":e}function X3(t,e,n){if(Array.isArray(n))for(let[r,i]of n.entries())X3(t,Y3(e,r.toString()),i);else n instanceof Date?t.push([e,n.toISOString()]):typeof n=="boolean"?t.push([e,n?"1":"0"]):typeof n=="string"?t.push([e,n]):typeof n=="number"?t.push([e,`${n}`]):n==null?t.push([e,""]):Q3(n,e,t)}let ple="div";var J3=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(J3||{});function mle(t,e){let{features:n=1,...r}=t,i={ref:e,"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return So({ourProps:i,theirProps:r,slot:{},defaultTag:ple,name:"Hidden"})}let gle=os(mle),RT=p.createContext(null);RT.displayName="OpenClosedContext";var Un=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Un||{});function PT(){return p.useContext(RT)}function Z3({value:t,children:e}){return ne.createElement(RT.Provider,{value:t},e)}var St=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(St||{});function vle(t,e,n){let[r,i]=p.useState(n),s=t!==void 0,o=p.useRef(s),a=p.useRef(!1),l=p.useRef(!1);return s&&!o.current&&!a.current?(a.current=!0,o.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&o.current&&!l.current&&(l.current=!0,o.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?t:r,xe(c=>(s||i(c),e==null?void 0:e(c)))]}function MA(t){return[t.screenX,t.screenY]}function yle(){let t=p.useRef([-1,-1]);return{wasMoved(e){let n=MA(e);return t.current[0]===n[0]&&t.current[1]===n[1]?!1:(t.current=n,!0)},update(e){t.current=MA(e)}}}function kT(){let t=p.useRef(!1);return Zn(()=>(t.current=!0,()=>{t.current=!1}),[]),t}let DA=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function LA(t){var e,n;let r=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return DA.test(o)&&(o=o.replace(DA,"")),o}function _le(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let n=t.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():LA(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return LA(t).trim()}function ble(t){let e=p.useRef(""),n=p.useRef("");return xe(()=>{let r=t.current;if(!r)return"";let i=r.innerText;if(e.current===i)return n.current;let s=_le(r).trim().toLowerCase();return e.current=i,n.current=s,s})}var wle=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(wle||{}),Ele=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(Ele||{}),xle=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(xle||{}),Tle=(t=>(t[t.OpenListbox=0]="OpenListbox",t[t.CloseListbox=1]="CloseListbox",t[t.GoToOption=2]="GoToOption",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterOption=5]="RegisterOption",t[t.UnregisterOption=6]="UnregisterOption",t[t.RegisterLabel=7]="RegisterLabel",t))(Tle||{});function y_(t,e=n=>n){let n=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,r=ile(e(t.options.slice()),s=>s.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let Sle={1(t){return t.dataRef.current.disabled||t.listboxState===1?t:{...t,activeOptionIndex:null,listboxState:1}},0(t){if(t.dataRef.current.disabled||t.listboxState===0)return t;let e=t.activeOptionIndex,{isSelected:n}=t.dataRef.current,r=t.options.findIndex(i=>n(i.dataRef.current.value));return r!==-1&&(e=r),{...t,listboxState:0,activeOptionIndex:e}},2(t,e){var n;if(t.dataRef.current.disabled||t.listboxState===1)return t;let r=y_(t),i=ule(e,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...t,...r,searchQuery:"",activeOptionIndex:i,activationTrigger:(n=e.trigger)!=null?n:1}},3:(t,e)=>{if(t.dataRef.current.disabled||t.listboxState===1)return t;let n=t.searchQuery!==""?0:1,r=t.searchQuery+e.value.toLowerCase(),i=(t.activeOptionIndex!==null?t.options.slice(t.activeOptionIndex+n).concat(t.options.slice(0,t.activeOptionIndex+n)):t.options).find(o=>{var a;return!o.dataRef.current.disabled&&((a=o.dataRef.current.textValue)==null?void 0:a.startsWith(r))}),s=i?t.options.indexOf(i):-1;return s===-1||s===t.activeOptionIndex?{...t,searchQuery:r}:{...t,searchQuery:r,activeOptionIndex:s,activationTrigger:1}},4(t){return t.dataRef.current.disabled||t.listboxState===1||t.searchQuery===""?t:{...t,searchQuery:""}},5:(t,e)=>{let n={id:e.id,dataRef:e.dataRef},r=y_(t,i=>[...i,n]);return t.activeOptionIndex===null&&t.dataRef.current.isSelected(e.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...t,...r}},6:(t,e)=>{let n=y_(t,r=>{let i=r.findIndex(s=>s.id===e.id);return i!==-1&&r.splice(i,1),r});return{...t,...n,activationTrigger:1}},7:(t,e)=>({...t,labelId:e.id})},$T=p.createContext(null);$T.displayName="ListboxActionsContext";function Xf(t){let e=p.useContext($T);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xf),n}return e}let OT=p.createContext(null);OT.displayName="ListboxDataContext";function Jf(t){let e=p.useContext(OT);if(e===null){let n=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Jf),n}return e}function Ile(t,e){return Wt(e.type,Sle,t,e)}let Cle=p.Fragment;function Ale(t,e){let{value:n,defaultValue:r,form:i,name:s,onChange:o,by:a=(q,Q)=>q===Q,disabled:l=!1,horizontal:c=!1,multiple:u=!1,...d}=t;const f=c?"horizontal":"vertical";let h=Ba(e),[g=u?[]:void 0,m]=vle(n,o,r),[y,v]=p.useReducer(Ile,{dataRef:p.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),_=p.useRef({static:!1,hold:!1}),b=p.useRef(null),w=p.useRef(null),E=p.useRef(null),x=xe(typeof a=="string"?(q,Q)=>{let ee=a;return(q==null?void 0:q[ee])===(Q==null?void 0:Q[ee])}:a),S=p.useCallback(q=>Wt(I.mode,{1:()=>g.some(Q=>x(Q,q)),0:()=>x(g,q)}),[g]),I=p.useMemo(()=>({...y,value:g,disabled:l,mode:u?1:0,orientation:f,compare:x,isSelected:S,optionsPropsRef:_,labelRef:b,buttonRef:w,optionsRef:E}),[g,l,u,y]);Zn(()=>{y.dataRef.current=I},[I]),ole([I.buttonRef,I.optionsRef],(q,Q)=>{var ee;v({type:1}),K3(Q,AT.Loose)||(q.preventDefault(),(ee=I.buttonRef.current)==null||ee.focus())},I.listboxState===0);let A=p.useMemo(()=>({open:I.listboxState===0,disabled:l,value:g}),[I,l,g]),C=xe(q=>{let Q=I.options.find(ee=>ee.id===q);Q&&H(Q.dataRef.current.value)}),R=xe(()=>{if(I.activeOptionIndex!==null){let{dataRef:q,id:Q}=I.options[I.activeOptionIndex];H(q.current.value),v({type:2,focus:Sn.Specific,id:Q})}}),P=xe(()=>v({type:0})),k=xe(()=>v({type:1})),M=xe((q,Q,ee)=>q===Sn.Specific?v({type:2,focus:Sn.Specific,id:Q,trigger:ee}):v({type:2,focus:q,trigger:ee})),D=xe((q,Q)=>(v({type:5,id:q,dataRef:Q}),()=>v({type:6,id:q}))),V=xe(q=>(v({type:7,id:q}),()=>v({type:7,id:null}))),H=xe(q=>Wt(I.mode,{0(){return m==null?void 0:m(q)},1(){let Q=I.value.slice(),ee=Q.findIndex(he=>x(he,q));return ee===-1?Q.push(q):Q.splice(ee,1),m==null?void 0:m(Q)}})),O=xe(q=>v({type:3,value:q})),$=xe(()=>v({type:4})),L=p.useMemo(()=>({onChange:H,registerOption:D,registerLabel:V,goToOption:M,closeListbox:k,openListbox:P,selectActiveOption:R,selectOption:C,search:O,clearSearch:$}),[]),z={ref:h},G=p.useRef(null),K=uc();return p.useEffect(()=>{G.current&&r!==void 0&&K.addEventListener(G.current,"reset",()=>{m==null||m(r)})},[G,m]),ne.createElement($T.Provider,{value:L},ne.createElement(OT.Provider,{value:I},ne.createElement(Z3,{value:Wt(I.listboxState,{0:Un.Open,1:Un.Closed})},s!=null&&g!=null&&Q3({[s]:g}).map(([q,Q],ee)=>ne.createElement(gle,{features:J3.Hidden,ref:ee===0?he=>{var ut;G.current=(ut=he==null?void 0:he.closest("form"))!=null?ut:null}:void 0,...j1({key:q,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,name:q,value:Q})})),So({ourProps:z,theirProps:d,slot:A,defaultTag:Cle,name:"Listbox"}))))}let Rle="button";function Ple(t,e){var n;let r=Oy(),{id:i=`headlessui-listbox-button-${r}`,...s}=t,o=Jf("Listbox.Button"),a=Xf("Listbox.Button"),l=Ba(o.buttonRef,e),c=uc(),u=xe(y=>{switch(y.key){case St.Space:case St.Enter:case St.ArrowDown:y.preventDefault(),a.openListbox(),c.nextFrame(()=>{o.value||a.goToOption(Sn.First)});break;case St.ArrowUp:y.preventDefault(),a.openListbox(),c.nextFrame(()=>{o.value||a.goToOption(Sn.Last)});break}}),d=xe(y=>{switch(y.key){case St.Space:y.preventDefault();break}}),f=xe(y=>{if(fle(y.currentTarget))return y.preventDefault();o.listboxState===0?(a.closeListbox(),c.nextFrame(()=>{var v;return(v=o.buttonRef.current)==null?void 0:v.focus({preventScroll:!0})})):(y.preventDefault(),a.openListbox())}),h=H3(()=>{if(o.labelId)return[o.labelId,i].join(" ")},[o.labelId,i]),g=p.useMemo(()=>({open:o.listboxState===0,disabled:o.disabled,value:o.value}),[o]),m={ref:l,id:i,type:ale(t,o.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=o.optionsRef.current)==null?void 0:n.id,"aria-expanded":o.listboxState===0,"aria-labelledby":h,disabled:o.disabled,onKeyDown:u,onKeyUp:d,onClick:f};return So({ourProps:m,theirProps:s,slot:g,defaultTag:Rle,name:"Listbox.Button"})}let kle="label";function $le(t,e){let n=Oy(),{id:r=`headlessui-listbox-label-${n}`,...i}=t,s=Jf("Listbox.Label"),o=Xf("Listbox.Label"),a=Ba(s.labelRef,e);Zn(()=>o.registerLabel(r),[r]);let l=xe(()=>{var u;return(u=s.buttonRef.current)==null?void 0:u.focus({preventScroll:!0})}),c=p.useMemo(()=>({open:s.listboxState===0,disabled:s.disabled}),[s]);return So({ourProps:{ref:a,id:r,onClick:l},theirProps:i,slot:c,defaultTag:kle,name:"Listbox.Label"})}let Ole="ul",Nle=mg.RenderStrategy|mg.Static;function Mle(t,e){var n;let r=Oy(),{id:i=`headlessui-listbox-options-${r}`,...s}=t,o=Jf("Listbox.Options"),a=Xf("Listbox.Options"),l=Ba(o.optionsRef,e),c=uc(),u=uc(),d=PT(),f=(()=>d!==null?(d&Un.Open)===Un.Open:o.listboxState===0)();p.useEffect(()=>{var v;let _=o.optionsRef.current;_&&o.listboxState===0&&_!==((v=q3(_))==null?void 0:v.activeElement)&&_.focus({preventScroll:!0})},[o.listboxState,o.optionsRef]);let h=xe(v=>{switch(u.dispose(),v.key){case St.Space:if(o.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),a.search(v.key);case St.Enter:if(v.preventDefault(),v.stopPropagation(),o.activeOptionIndex!==null){let{dataRef:_}=o.options[o.activeOptionIndex];a.onChange(_.current.value)}o.mode===0&&(a.closeListbox(),uo().nextFrame(()=>{var _;return(_=o.buttonRef.current)==null?void 0:_.focus({preventScroll:!0})}));break;case Wt(o.orientation,{vertical:St.ArrowDown,horizontal:St.ArrowRight}):return v.preventDefault(),v.stopPropagation(),a.goToOption(Sn.Next);case Wt(o.orientation,{vertical:St.ArrowUp,horizontal:St.ArrowLeft}):return v.preventDefault(),v.stopPropagation(),a.goToOption(Sn.Previous);case St.Home:case St.PageUp:return v.preventDefault(),v.stopPropagation(),a.goToOption(Sn.First);case St.End:case St.PageDown:return v.preventDefault(),v.stopPropagation(),a.goToOption(Sn.Last);case St.Escape:return v.preventDefault(),v.stopPropagation(),a.closeListbox(),c.nextFrame(()=>{var _;return(_=o.buttonRef.current)==null?void 0:_.focus({preventScroll:!0})});case St.Tab:v.preventDefault(),v.stopPropagation();break;default:v.key.length===1&&(a.search(v.key),u.setTimeout(()=>a.clearSearch(),350));break}}),g=H3(()=>{var v,_,b;return(b=(v=o.labelRef.current)==null?void 0:v.id)!=null?b:(_=o.buttonRef.current)==null?void 0:_.id},[o.labelRef.current,o.buttonRef.current]),m=p.useMemo(()=>({open:o.listboxState===0}),[o]),y={"aria-activedescendant":o.activeOptionIndex===null||(n=o.options[o.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":o.mode===1?!0:void 0,"aria-labelledby":g,"aria-orientation":o.orientation,id:i,onKeyDown:h,role:"listbox",tabIndex:0,ref:l};return So({ourProps:y,theirProps:s,slot:m,defaultTag:Ole,features:Nle,visible:f,name:"Listbox.Options"})}let Dle="li";function Lle(t,e){let n=Oy(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:s,...o}=t,a=Jf("Listbox.Option"),l=Xf("Listbox.Option"),c=a.activeOptionIndex!==null?a.options[a.activeOptionIndex].id===r:!1,u=a.isSelected(s),d=p.useRef(null),f=ble(d),h=di({disabled:i,value:s,domRef:d,get textValue(){return f()}}),g=Ba(e,d);Zn(()=>{if(a.listboxState!==0||!c||a.activationTrigger===0)return;let x=uo();return x.requestAnimationFrame(()=>{var S,I;(I=(S=d.current)==null?void 0:S.scrollIntoView)==null||I.call(S,{block:"nearest"})}),x.dispose},[d,c,a.listboxState,a.activationTrigger,a.activeOptionIndex]),Zn(()=>l.registerOption(r,h),[h,r]);let m=xe(x=>{if(i)return x.preventDefault();l.onChange(s),a.mode===0&&(l.closeListbox(),uo().nextFrame(()=>{var S;return(S=a.buttonRef.current)==null?void 0:S.focus({preventScroll:!0})}))}),y=xe(()=>{if(i)return l.goToOption(Sn.Nothing);l.goToOption(Sn.Specific,r)}),v=yle(),_=xe(x=>v.update(x)),b=xe(x=>{v.wasMoved(x)&&(i||c||l.goToOption(Sn.Specific,r,0))}),w=xe(x=>{v.wasMoved(x)&&(i||c&&l.goToOption(Sn.Nothing))}),E=p.useMemo(()=>({active:c,selected:u,disabled:i}),[c,u,i]);return So({ourProps:{id:r,ref:g,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":u,disabled:void 0,onClick:m,onFocus:y,onPointerEnter:_,onMouseEnter:_,onPointerMove:b,onMouseMove:b,onPointerLeave:w,onMouseLeave:w},theirProps:o,slot:E,defaultTag:Dle,name:"Listbox.Option"})}let Fle=os(Ale),Vle=os(Ple),jle=os($le),Ule=os(Mle),zle=os(Lle),Gh=Object.assign(Fle,{Button:Vle,Label:jle,Options:Ule,Option:zle});function Ble(t=0){let[e,n]=p.useState(t),r=kT(),i=p.useCallback(l=>{r.current&&n(c=>c|l)},[e,r]),s=p.useCallback(l=>!!(e&l),[e]),o=p.useCallback(l=>{r.current&&n(c=>c&~l)},[n,r]),a=p.useCallback(l=>{r.current&&n(c=>c^l)},[n]);return{flags:e,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:a}}function Wle(t){let e={called:!1};return(...n)=>{if(!e.called)return e.called=!0,t(...n)}}function __(t,...e){t&&e.length>0&&t.classList.add(...e)}function b_(t,...e){t&&e.length>0&&t.classList.remove(...e)}function Hle(t,e){let n=uo();if(!t)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(t),[s,o]=[r,i].map(l=>{let[c=0]=l.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,d)=>d-u);return c}),a=s+o;if(a!==0){n.group(c=>{c.setTimeout(()=>{e(),c.dispose()},a),c.addEventListener(t,"transitionrun",u=>{u.target===u.currentTarget&&c.dispose()})});let l=n.addEventListener(t,"transitionend",c=>{c.target===c.currentTarget&&(e(),l())})}else e();return n.add(()=>e()),n.dispose}function qle(t,e,n,r){let i=n?"enter":"leave",s=uo(),o=r!==void 0?Wle(r):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let a=Wt(i,{enter:()=>e.enter,leave:()=>e.leave}),l=Wt(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),c=Wt(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return b_(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),__(t,...e.base,...a,...c),s.nextFrame(()=>{b_(t,...e.base,...a,...c),__(t,...e.base,...a,...l),Hle(t,()=>(b_(t,...e.base,...a),__(t,...e.base,...e.entered),o()))}),s.dispose}function Kle({immediate:t,container:e,direction:n,classes:r,onStart:i,onStop:s}){let o=kT(),a=uc(),l=di(n);Zn(()=>{t&&(l.current="enter")},[t]),Zn(()=>{let c=uo();a.add(c.dispose);let u=e.current;if(u&&l.current!=="idle"&&o.current)return c.dispose(),i.current(l.current),c.add(qle(u,r.current,l.current==="enter",()=>{c.dispose(),s.current(l.current)})),c.dispose},[n])}function ds(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let Ny=p.createContext(null);Ny.displayName="TransitionContext";var Gle=(t=>(t.Visible="visible",t.Hidden="hidden",t))(Gle||{});function Qle(){let t=p.useContext(Ny);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function Yle(){let t=p.useContext(My);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let My=p.createContext(null);My.displayName="NestingContext";function Dy(t){return"children"in t?Dy(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function e5(t,e){let n=di(t),r=p.useRef([]),i=kT(),s=uc(),o=xe((h,g=Cs.Hidden)=>{let m=r.current.findIndex(({el:y})=>y===h);m!==-1&&(Wt(g,{[Cs.Unmount](){r.current.splice(m,1)},[Cs.Hidden](){r.current[m].state="hidden"}}),s.microTask(()=>{var y;!Dy(r)&&i.current&&((y=n.current)==null||y.call(n))}))}),a=xe(h=>{let g=r.current.find(({el:m})=>m===h);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:h,state:"visible"}),()=>o(h,Cs.Unmount)}),l=p.useRef([]),c=p.useRef(Promise.resolve()),u=p.useRef({enter:[],leave:[],idle:[]}),d=xe((h,g,m)=>{l.current.splice(0),e&&(e.chains.current[g]=e.chains.current[g].filter(([y])=>y!==h)),e==null||e.chains.current[g].push([h,new Promise(y=>{l.current.push(y)})]),e==null||e.chains.current[g].push([h,new Promise(y=>{Promise.all(u.current[g].map(([v,_])=>_)).then(()=>y())})]),g==="enter"?c.current=c.current.then(()=>e==null?void 0:e.wait.current).then(()=>m(g)):m(g)}),f=xe((h,g,m)=>{Promise.all(u.current[g].splice(0).map(([y,v])=>v)).then(()=>{var y;(y=l.current.shift())==null||y()}).then(()=>m(g))});return p.useMemo(()=>({children:r,register:a,unregister:o,onStart:d,onStop:f,wait:c,chains:u}),[a,o,r,d,f,u,c])}function Xle(){}let Jle=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function FA(t){var e;let n={};for(let r of Jle)n[r]=(e=t[r])!=null?e:Xle;return n}function Zle(t){let e=p.useRef(FA(t));return p.useEffect(()=>{e.current=FA(t)},[t]),e}let ece="div",t5=mg.RenderStrategy;function tce(t,e){var n,r;let{beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a,enter:l,enterFrom:c,enterTo:u,entered:d,leave:f,leaveFrom:h,leaveTo:g,...m}=t,y=p.useRef(null),v=Ba(y,e),_=(n=m.unmount)==null||n?Cs.Unmount:Cs.Hidden,{show:b,appear:w,initial:E}=Qle(),[x,S]=p.useState(b?"visible":"hidden"),I=Yle(),{register:A,unregister:C}=I;p.useEffect(()=>A(y),[A,y]),p.useEffect(()=>{if(_===Cs.Hidden&&y.current){if(b&&x!=="visible"){S("visible");return}return Wt(x,{hidden:()=>C(y),visible:()=>A(y)})}},[x,y,A,C,b,_]);let R=di({base:ds(m.className),enter:ds(l),enterFrom:ds(c),enterTo:ds(u),entered:ds(d),leave:ds(f),leaveFrom:ds(h),leaveTo:ds(g)}),P=Zle({beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:a}),k=CT();p.useEffect(()=>{if(k&&x==="visible"&&y.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[y,x,k]);let M=E&&!w,D=w&&b&&E,V=(()=>!k||M?"idle":b?"enter":"leave")(),H=Ble(0),O=xe(K=>Wt(K,{enter:()=>{H.addFlag(Un.Opening),P.current.beforeEnter()},leave:()=>{H.addFlag(Un.Closing),P.current.beforeLeave()},idle:()=>{}})),$=xe(K=>Wt(K,{enter:()=>{H.removeFlag(Un.Opening),P.current.afterEnter()},leave:()=>{H.removeFlag(Un.Closing),P.current.afterLeave()},idle:()=>{}})),L=e5(()=>{S("hidden"),C(y)},I);Kle({immediate:D,container:y,classes:R,direction:V,onStart:di(K=>{L.onStart(y,K,O)}),onStop:di(K=>{L.onStop(y,K,$),K==="leave"&&!Dy(L)&&(S("hidden"),C(y))})});let z=m,G={ref:v};return D?z={...z,className:pg(m.className,...R.current.enter,...R.current.enterFrom)}:(z.className=pg(m.className,(r=y.current)==null?void 0:r.className),z.className===""&&delete z.className),ne.createElement(My.Provider,{value:L},ne.createElement(Z3,{value:Wt(x,{visible:Un.Open,hidden:Un.Closed})|H.flags},So({ourProps:G,theirProps:z,defaultTag:ece,features:t5,visible:x==="visible",name:"Transition.Child"})))}function nce(t,e){let{show:n,appear:r=!1,unmount:i=!0,...s}=t,o=p.useRef(null),a=Ba(o,e);CT();let l=PT();if(n===void 0&&l!==null&&(n=(l&Un.Open)===Un.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,u]=p.useState(n?"visible":"hidden"),d=e5(()=>{u("hidden")}),[f,h]=p.useState(!0),g=p.useRef([n]);Zn(()=>{f!==!1&&g.current[g.current.length-1]!==n&&(g.current.push(n),h(!1))},[g,n]);let m=p.useMemo(()=>({show:n,appear:r,initial:f}),[n,r,f]);p.useEffect(()=>{if(n)u("visible");else if(!Dy(d))u("hidden");else{let b=o.current;if(!b)return;let w=b.getBoundingClientRect();w.x===0&&w.y===0&&w.width===0&&w.height===0&&u("hidden")}},[n,d]);let y={unmount:i},v=xe(()=>{var b;f&&h(!1),(b=t.beforeEnter)==null||b.call(t)}),_=xe(()=>{var b;f&&h(!1),(b=t.beforeLeave)==null||b.call(t)});return ne.createElement(My.Provider,{value:d},ne.createElement(Ny.Provider,{value:m},So({ourProps:{...y,as:p.Fragment,children:ne.createElement(n5,{ref:a,...y,...s,beforeEnter:v,beforeLeave:_})},theirProps:{},defaultTag:p.Fragment,features:t5,visible:c==="visible",name:"Transition"})))}function rce(t,e){let n=p.useContext(Ny)!==null,r=PT()!==null;return ne.createElement(ne.Fragment,null,!n&&r?ne.createElement(U1,{ref:e,...t}):ne.createElement(n5,{ref:e,...t}))}let U1=os(nce),n5=os(tce),ice=os(rce),sce=Object.assign(U1,{Child:ice,Root:U1});function oce({title:t,titleId:e,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z",clipRule:"evenodd"}))}const ace=p.forwardRef(oce),lce=ace;function cce({title:t,titleId:e,...n},r){return p.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?p.createElement("title",{id:e},t):null,p.createElement("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 01.55.24l3.25 3.5a.75.75 0 11-1.1 1.02L10 4.852 7.3 7.76a.75.75 0 01-1.1-1.02l3.25-3.5A.75.75 0 0110 3zm-3.76 9.2a.75.75 0 011.06.04l2.7 2.908 2.7-2.908a.75.75 0 111.1 1.02l-3.25 3.5a.75.75 0 01-1.1 0l-3.25-3.5a.75.75 0 01.04-1.06z",clipRule:"evenodd"}))}const uce=p.forwardRef(cce),dce=uce;function w_(...t){return t.filter(Boolean).join(" ")}function fce({groupOnChange:t}){const e=Kt(pn),n=e==null?void 0:e.email,{data:r}=Na(n);console.log(r);const[i,s]=p.useState({user_group_name:"Group Name",user_group_email:[],id:"0"});return T.jsx(Gh,{value:i,onChange:o=>{s(o),t(o)},children:({open:o})=>T.jsx("div",{children:T.jsxs("div",{className:"relative mt-2",children:[T.jsxs(Gh.Button,{className:"relative w-full cursor-default rounded-md bg-white py-1.5 pl-3 pr-10 text-left text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-900 sm:text-sm sm:leading-6",children:[T.jsx("span",{className:"flex items-center",children:T.jsx("span",{className:"ml-3 block truncate",children:i.user_group_name||"Group Name"})}),T.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-0 ml-3 flex items-center pr-2",children:T.jsx(dce,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),T.jsx(sce,{show:o,as:p.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:T.jsx(Gh.Options,{className:"absolute z-10 mt-1 max-h-56 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm",children:r==null?void 0:r.map(a=>T.jsx(Gh.Option,{className:({active:l})=>w_(l?"bg-gray-900 text-white":"text-gray-900","relative cursor-default select-none py-2 pl-3 pr-9"),value:a,children:({selected:l,active:c})=>T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"flex items-center",children:T.jsx("span",{className:w_(l?"font-semibold":"font-normal","ml-3 block truncate"),children:a.user_group_name})}),l?T.jsx("span",{className:w_(c?"text-white":"text-gray-900","absolute inset-y-0 right-0 flex items-center pr-4"),children:T.jsx(lce,{className:"h-5 w-5","aria-hidden":"true"})}):null]})},a.id))})})]})})})}function hce(){const t=W3(),e={seconds:st.now().seconds,nanoseconds:st.now().nanoseconds},n=Kt(pn),r=n==null?void 0:n.email,{data:i}=Na(r),[s]=p.useState(n.displayName),[o]=eJ(),[a,l]=p.useState(!1),c=()=>{l(!0),d.values.groupId="",d.values.userExpenseDescription="",d.values.userExpenseAmount=""},u=Nc({userExpenseDescription:jr().required("Description is required"),userExpenseAmount:h4().typeError("Price must be a number").positive("Price must be greater than zero").required("Price is required"),groupId:jr().required("Group is required")}),d=_y({initialValues:{userExpenseDescription:"",userExpenseAmount:"",groupId:""},validationSchema:u,onSubmit:async h=>{var y;const g=(y=i==null?void 0:i.find(v=>v.id===h.groupId))==null?void 0:y.user_group_email,m=parseFloat(h.userExpenseAmount);o({groupId:h.groupId,userExpenseAmountNumber:m,userExpenseDescription:h.userExpenseDescription,userExpenseName:s,settledUp:!1,createdAt:e,expenseGroupsArray:g,recentActivityId:t}),l(!1)},validateOnChange:!1,validateOnBlur:!1}),f=h=>{d.setFieldValue("groupId",h.id)};return T.jsxs(lT,{open:a,onOpenChange:l,children:[T.jsx(cT,{asChild:!0,children:T.jsx(kn,{onClick:c,children:"Add Expense"})}),T.jsx(Jd,{className:"sm:max-w-[425px]",children:T.jsxs("form",{onSubmit:d.handleSubmit,children:[T.jsxs(Zd,{children:[T.jsx(Iy,{children:"Add Expense"}),T.jsx(ef,{children:"You can add an expense to the group here."})]}),T.jsxs("div",{className:"grid gap-4 py-4",children:[T.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[T.jsx(co,{className:"text-right",children:"Description"}),T.jsx(va,{id:"userExpenseDescription",name:"userExpenseDescription",autoComplete:"off",type:"text",onChange:d.handleChange,value:d.values.userExpenseDescription,placeholder:"Enter a Description",className:"col-span-3"})]}),d.touched.userExpenseDescription&&d.errors.userExpenseDescription?T.jsx("div",{className:"text-red-500",children:d.errors.userExpenseDescription}):null,T.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[T.jsx(co,{className:"text-right",children:"Price"}),T.jsx(va,{id:"userExpenseAmount",name:"userExpenseAmount",type:"number",onChange:d.handleChange,onBlur:d.handleBlur,value:d.values.userExpenseAmount,placeholder:"$0.00",className:"col-span-3"})]}),d.touched.userExpenseAmount&&d.errors.userExpenseAmount?T.jsx("div",{className:"text-red-500 w-full",children:d.errors.userExpenseAmount}):null,T.jsx(fce,{groupOnChange:f})]}),d.touched.groupId&&d.errors.groupId?T.jsx("div",{className:"text-red-500 w-full",children:d.errors.groupId}):null,T.jsx(Sy,{children:T.jsx(kn,{type:"submit",children:"Add Expense"})})]})})]})}const pce=Dl.injectEndpoints({endpoints:t=>({fetchExpensesForBalanceSummaryGroup:t.query({async queryFn(e){try{const n=Ln(It(Vt,`userGroups/${e}/expenses`),Wd("settled_up","asc"),Gr("settled_up","==",!1)),r=await Fn(n),i=[];return r==null||r.forEach(s=>{const o=s.data(),a=o.created_at;i.push({id:s.id,...o,created_at:{seconds:a.seconds,nanoseconds:a.nanoseconds}})}),{data:i}}catch(n){return console.error(n.message),{error:n.message}}},providesTags:["balanceSummary","groupExpense"]})})}),{useFetchExpensesForBalanceSummaryGroupQuery:Ly}=pce,r5=t=>{const[e,n]=p.useState([]),{data:r}=Ly(t),i=Kt(pn);return p.useEffect(()=>{if(r){const s=HD(r,i.displayName),o=qD(s,i.displayName),a=KD(o);n(a)}},[r,i.displayName]),{balanceArray:e}},mce="/assets/arrow-forward-outline-cd81098a.svg";function gce(){var l,c;const t=go(),[e,n]=p.useState(!1),{groupId:r}=Kt(u=>u.groupId.groupId),{refetch:i}=k9(r),{refetch:s}=Ly(r),{balanceArray:o}=r5(r),a=async()=>{const u=It(Vt,"userGroups"),d=It(u,r,"expenses"),f=Ln(d,Gr("settled_up","==",!1));try{const h=Oe.loading("Settling up expenses");(await Fn(f)).forEach(async m=>{const y=ys(d,m.id);await SG(y,{settled_up:!0})}),i(),s(),Oe.dismiss(h),Oe.success("Expenses settled up"),n(!1)}catch(h){console.error("Error updating settled_up:",h)}};return T.jsxs(lT,{open:e,onOpenChange:n,children:[T.jsx(cT,{asChild:!0,children:T.jsx(kn,{className:"ml-2",children:"Settle up"})}),t.pathname==`/group/${r}`?T.jsxs(Jd,{className:"sm:max-w-[425px]",children:[T.jsxs(Zd,{children:[T.jsx(Iy,{children:"Settle Up"}),T.jsx(ef,{children:"If you have settled up outside of EvenShare, you can record it here"}),((l=o[0])==null?void 0:l.userString)!=="All people are settled up"?o==null?void 0:o.map((u,d)=>{var f,h;return T.jsxs("div",{className:"flex flex-col items-center mt-4",children:[T.jsxs("div",{className:"flex justify-center items-center gap-3 mt-4",children:[T.jsx(Jm,{className:"w-20 h-20",children:T.jsx(Zm,{children:(f=u==null?void 0:u.userString)==null?void 0:f.split(" ")[0]})}),T.jsx("img",{src:mce,className:"w-8"}),T.jsx(Jm,{className:"w-20 h-20",children:T.jsx(Zm,{children:(h=u==null?void 0:u.userString)==null?void 0:h.split(" ")[2]})})]}),T.jsx("h2",{className:"text-xl mt-4",children:u.userString.split("owe").join("paid")}),T.jsx("h2",{className:"text-xl mt-1",children:"$"+u.userNumber})]},d)}):T.jsx("div",{className:"flex flex-col items-center mt-4",children:T.jsx("h2",{className:"text-xl my-8 ",children:(c=o[0])==null?void 0:c.userString})})]}),T.jsx(Sy,{style:{justifyContent:"center",width:"100%"},children:T.jsx(kn,{style:{width:"100%"},onClick:a,children:"Settle up expenses"})})]}):T.jsx(Jd,{className:"sm:max-w-[425px]",children:T.jsx(Zd,{children:T.jsx("div",{className:"mx-3",children:T.jsx(ef,{className:"text-lg",children:"Please navigate to the group you would like to settle up with."})})})})]})}function NT({currentPage:t}){return T.jsxs("div",{className:"h-16 w-full flex justify-around items-center border-b-[.5px] border-slate-300 sm:px-6 xl:w-[32rem] ",children:[T.jsx("h2",{className:"font-semibold w-16 md:w-32",children:t}),T.jsxs("div",{children:[T.jsx(hce,{}),T.jsx(gce,{})]})]})}/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Zf(t){return t+.5|0}const As=(t,e,n)=>Math.max(Math.min(t,n),e);function xu(t){return As(Zf(t*2.55),0,255)}function qs(t){return As(Zf(t*255),0,255)}function Ai(t){return As(Zf(t/2.55)/100,0,1)}function VA(t){return As(Zf(t*100),0,100)}const or={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},z1=[..."0123456789ABCDEF"],vce=t=>z1[t&15],yce=t=>z1[(t&240)>>4]+z1[t&15],Qh=t=>(t&240)>>4===(t&15),_ce=t=>Qh(t.r)&&Qh(t.g)&&Qh(t.b)&&Qh(t.a);function bce(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&or[t[1]]*17,g:255&or[t[2]]*17,b:255&or[t[3]]*17,a:e===5?or[t[4]]*17:255}:(e===7||e===9)&&(n={r:or[t[1]]<<4|or[t[2]],g:or[t[3]]<<4|or[t[4]],b:or[t[5]]<<4|or[t[6]],a:e===9?or[t[7]]<<4|or[t[8]]:255})),n}const wce=(t,e)=>t<255?e(t):"";function Ece(t){var e=_ce(t)?vce:yce;return t?"#"+e(t.r)+e(t.g)+e(t.b)+wce(t.a,e):void 0}const xce=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function i5(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function Tce(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function Sce(t,e,n){const r=i5(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Ice(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function MT(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=Ice(n,r,i,u,s),l=l*60+.5),[l|0,c||0,a]}function DT(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(qs)}function LT(t,e,n){return DT(i5,t,e,n)}function Cce(t,e,n){return DT(Sce,t,e,n)}function Ace(t,e,n){return DT(Tce,t,e,n)}function s5(t){return(t%360+360)%360}function Rce(t){const e=xce.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?xu(+e[5]):qs(+e[5]));const i=s5(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=Cce(i,s,o):e[1]==="hsv"?r=Ace(i,s,o):r=LT(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function Pce(t,e){var n=MT(t);n[0]=s5(n[0]+e),n=LT(n),t.r=n[0],t.g=n[1],t.b=n[2]}function kce(t){if(!t)return;const e=MT(t),n=e[0],r=VA(e[1]),i=VA(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Ai(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const jA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},UA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function $ce(){const t={},e=Object.keys(UA),n=Object.keys(jA);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,jA[s]);s=parseInt(UA[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let Yh;function Oce(t){Yh||(Yh=$ce(),Yh.transparent=[0,0,0,0]);const e=Yh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const Nce=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Mce(t){const e=Nce.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?xu(o):As(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?xu(r):As(r,0,255)),i=255&(e[4]?xu(i):As(i,0,255)),s=255&(e[6]?xu(s):As(s,0,255)),{r,g:i,b:s,a:n}}}function Dce(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ai(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const E_=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,el=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Lce(t,e,n){const r=el(Ai(t.r)),i=el(Ai(t.g)),s=el(Ai(t.b));return{r:qs(E_(r+n*(el(Ai(e.r))-r))),g:qs(E_(i+n*(el(Ai(e.g))-i))),b:qs(E_(s+n*(el(Ai(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Xh(t,e,n){if(t){let r=MT(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=LT(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function o5(t,e){return t&&Object.assign(e||{},t)}function zA(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=qs(t[3]))):(e=o5(t,{r:0,g:0,b:0,a:1}),e.a=qs(e.a)),e}function Fce(t){return t.charAt(0)==="r"?Mce(t):Rce(t)}class sf{constructor(e){if(e instanceof sf)return e;const n=typeof e;let r;n==="object"?r=zA(e):n==="string"&&(r=bce(e)||Oce(e)||Fce(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=o5(this._rgb);return e&&(e.a=Ai(e.a)),e}set rgb(e){this._rgb=zA(e)}rgbString(){return this._valid?Dce(this._rgb):void 0}hexString(){return this._valid?Ece(this._rgb):void 0}hslString(){return this._valid?kce(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=Lce(this._rgb,e._rgb,n)),this}clone(){return new sf(this.rgb)}alpha(e){return this._rgb.a=qs(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Zf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Xh(this._rgb,2,e),this}darken(e){return Xh(this._rgb,2,-e),this}saturate(e){return Xh(this._rgb,1,e),this}desaturate(e){return Xh(this._rgb,1,-e),this}rotate(e){return Pce(this._rgb,e),this}}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function wi(){}const Vce=(()=>{let t=0;return()=>t++})();function Ye(t){return t===null||typeof t>"u"}function nt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Te(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function kt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Mn(t,e){return kt(t)?t:e}function Ie(t,e){return typeof t>"u"?e:t}const jce=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,a5=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Me(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Ae(t,e,n,r){let i,s,o;if(nt(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(Te(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function gg(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function vg(t){if(nt(t))return t.map(vg);if(Te(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=vg(t[n[i]]);return e}return t}function l5(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Uce(t,e,n,r){if(!l5(t))return;const i=e[t],s=n[t];Te(i)&&Te(s)?of(i,s,r):e[t]=vg(s)}function of(t,e,n){const r=nt(e)?e:[e],i=r.length;if(!Te(t))return t;n=n||{};const s=n.merger||Uce;let o;for(let a=0;a<i;++a){if(o=r[a],!Te(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function Qu(t,e){return of(t,e,{merger:zce})}function zce(t,e,n){if(!l5(t))return;const r=e[t],i=n[t];Te(r)&&Te(i)?Qu(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=vg(i))}const BA={"":t=>t,x:t=>t.x,y:t=>t.y};function Bce(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Wce(t){const e=Bce(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function af(t,e){return(BA[e]||(BA[e]=Wce(e)))(t)}function FT(t){return t.charAt(0).toUpperCase()+t.slice(1)}const yg=t=>typeof t<"u",fo=t=>typeof t=="function",WA=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Hce(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const _t=Math.PI,rt=2*_t,_g=Number.POSITIVE_INFINITY,qce=_t/180,ft=_t/2,Co=_t/4,HA=_t*2/3,Rs=Math.log10,bg=Math.sign;function Up(t,e,n){return Math.abs(t-e)<n}function qA(t){const e=Math.round(t);t=Up(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Rs(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Kce(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function wg(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Gce(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function c5(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function ii(t){return t*(_t/180)}function VT(t){return t*(180/_t)}function KA(t){if(!kt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function u5(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*_t&&(s+=rt),{angle:s,distance:i}}function Qce(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Kr(t){return(t%rt+rt)%rt}function Eg(t,e,n,r){const i=Kr(t),s=Kr(e),o=Kr(n),a=Kr(s-i),l=Kr(o-i),c=Kr(i-s),u=Kr(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function dr(t,e,n){return Math.max(e,Math.min(n,t))}function Yce(t){return dr(t,-32768,32767)}function Tu(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function jT(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const B1=(t,e,n,r)=>jT(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),Xce=(t,e,n)=>jT(t,n,r=>t[r][e]>=n);function Jce(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const d5=["push","pop","shift","splice","unshift"];function Zce(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),d5.forEach(n=>{const r="_onData"+FT(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function GA(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(d5.forEach(s=>{delete t[s]}),delete t._chartjs)}function eue(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const f5=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function h5(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,f5.call(window,()=>{r=!1,t.apply(e,n)}))}}function tue(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const p5=t=>t==="start"?"left":t==="end"?"right":"center",On=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,nue=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e,Jh=t=>t===0||t===1,QA=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*rt/n)),YA=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*rt/n)+1,Yu={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ft)+1,easeOutSine:t=>Math.sin(t*ft),easeInOutSine:t=>-.5*(Math.cos(_t*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Jh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Jh(t)?t:QA(t,.075,.3),easeOutElastic:t=>Jh(t)?t:YA(t,.075,.3),easeInOutElastic(t){return Jh(t)?t:t<.5?.5*QA(t*2,.1125,.45):.5+.5*YA(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Yu.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Yu.easeInBounce(t*2)*.5:Yu.easeOutBounce(t*2-1)*.5+.5};function m5(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function XA(t){return m5(t)?t:new sf(t)}function x_(t){return m5(t)?t:new sf(t).saturate(.5).darken(.1).hexString()}const rue=["x","y","borderWidth","radius","tension"],iue=["color","borderColor","backgroundColor"];function sue(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:iue},numbers:{type:"number",properties:rue}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function oue(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const JA=new Map;function aue(t,e){e=e||{};const n=t+JSON.stringify(e);let r=JA.get(n);return r||(r=new Intl.NumberFormat(t,e),JA.set(n,r)),r}function Fy(t,e,n){return aue(e,n).format(t)}const g5={values(t){return nt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=lue(t,n)}const o=Rs(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Fy(t,r,l)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(Rs(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?g5.numeric.call(this,t,e,n):""}};function lue(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Vy={formatters:g5};function cue(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Vy.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const _a=Object.create(null),W1=Object.create(null);function Xu(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function T_(t,e,n){return typeof e=="string"?of(Xu(t,e),n):of(Xu(t,""),e)}class uue{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>x_(i.backgroundColor),this.hoverBorderColor=(r,i)=>x_(i.borderColor),this.hoverColor=(r,i)=>x_(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return T_(this,e,n)}get(e){return Xu(this,e)}describe(e,n){return T_(W1,e,n)}override(e,n){return T_(_a,e,n)}route(e,n,r,i){const s=Xu(this,e),o=Xu(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return Te(l)?Object.assign({},c,l):Ie(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var it=new uue({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[sue,oue,cue]);function due(t){return!t||Ye(t.size)||Ye(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function xg(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function fue(t,e,n,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,d,f;for(l=0;l<a;l++)if(d=n[l],d!=null&&!nt(d))o=xg(t,i,s,o,d);else if(nt(d))for(c=0,u=d.length;c<u;c++)f=d[c],f!=null&&!nt(f)&&(o=xg(t,i,s,o,f));t.restore();const h=s.length/2;if(h>n.length){for(l=0;l<h;l++)delete i[s[l]];s.splice(0,h)}return o}function Ao(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function ZA(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function eR(t,e,n,r){v5(t,e,n,r,null)}function v5(t,e,n,r,i){let s,o,a,l,c,u,d,f;const h=e.pointStyle,g=e.rotation,m=e.radius;let y=(g||0)*qce;if(h&&typeof h=="object"&&(s=h.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(y),t.drawImage(h,-h.width/2,-h.height/2,h.width,h.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),h){default:i?t.ellipse(n,r,i/2,m,0,0,rt):t.arc(n,r,m,0,rt),t.closePath();break;case"triangle":u=i?i/2:m,t.moveTo(n+Math.sin(y)*u,r-Math.cos(y)*m),y+=HA,t.lineTo(n+Math.sin(y)*u,r-Math.cos(y)*m),y+=HA,t.lineTo(n+Math.sin(y)*u,r-Math.cos(y)*m),t.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(y+Co)*l,d=Math.cos(y+Co)*(i?i/2-c:l),a=Math.sin(y+Co)*l,f=Math.sin(y+Co)*(i?i/2-c:l),t.arc(n-d,r-a,c,y-_t,y-ft),t.arc(n+f,r-o,c,y-ft,y),t.arc(n+d,r+a,c,y,y+ft),t.arc(n-f,r+o,c,y+ft,y+_t),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}y+=Co;case"rectRot":d=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,f=Math.sin(y)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+f,r-o),t.lineTo(n+d,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":y+=Co;case"cross":d=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,f=Math.sin(y)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":d=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,f=Math.sin(y)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),y+=Co,d=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,f=Math.sin(y)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=i?i/2:Math.cos(y)*m,a=Math.sin(y)*m,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(y)*(i?i/2:m),r+Math.sin(y)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function wl(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function UT(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function zT(t){t.restore()}function hue(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Ye(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function pue(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function mue(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function dc(t,e,n,r,i,s={}){const o=nt(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,hue(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&mue(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Ye(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),pue(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function Tg(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*_t,_t,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,_t,ft,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,ft,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-ft,!0),t.lineTo(n+o.topLeft,r)}const gue=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,vue=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function yue(t,e){const n=(""+t).match(gue);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const _ue=t=>+t||0;function BT(t,e){const n={},r=Te(e),i=r?Object.keys(e):e,s=Te(t)?r?o=>Ie(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=_ue(s(o));return n}function bue(t){return BT(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Fl(t){return BT(t,["topLeft","topRight","bottomLeft","bottomRight"])}function gn(t){const e=bue(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ht(t,e){t=t||{},e=e||it.font;let n=Ie(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Ie(t.style,e.style);r&&!(""+r).match(vue)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Ie(t.family,e.family),lineHeight:yue(Ie(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Ie(t.weight,e.weight),string:""};return i.string=due(i),i}function Zh(t,e,n,r){let i=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&nt(a)&&(a=a[n%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function wue(t,e,n){const{min:r,max:i}=t,s=a5(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Wa(t,e){return Object.assign(Object.create(t),e)}function WT(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=w5("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>WT([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return _5(a,l,()=>Rue(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return nR(a).includes(l)},ownKeys(a){return nR(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function fc(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:y5(t,r),setContext:s=>fc(t,s,n,r),override:s=>fc(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return _5(s,o,()=>xue(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function y5(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:fo(n)?n:()=>n,isIndexable:fo(r)?r:()=>r}}const Eue=(t,e)=>t?t+FT(e):e,HT=(t,e)=>Te(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _5(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function xue(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return fo(a)&&o.isScriptable(e)&&(a=Tue(e,a,t,n)),nt(a)&&a.length&&(a=Sue(e,a,t,o.isIndexable)),HT(e,a)&&(a=fc(a,i,s&&s[e],o)),a}function Tue(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),HT(t,l)&&(l=qT(i._scopes,i,t,l)),l}function Sue(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(Te(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=qT(c,i,t,u);e.push(fc(d,s,o&&o[t],a))}}return e}function b5(t,e,n){return fo(t)?t(e,n):t}const Iue=(t,e)=>t===!0?e:typeof t=="string"?af(e,t):void 0;function Cue(t,e,n,r,i){for(const s of e){const o=Iue(n,s);if(o){t.add(o);const a=b5(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function qT(t,e,n,r){const i=e._rootScopes,s=b5(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=tR(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=tR(a,o,s,l,r),l===null)?!1:WT(Array.from(a),[""],i,s,()=>Aue(e,n,r))}function tR(t,e,n,r,i){for(;n;)n=Cue(t,e,n,r,i);return n}function Aue(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return nt(i)&&Te(n)?n:i||{}}function Rue(t,e,n,r){let i;for(const s of e)if(i=w5(Eue(s,t),n),typeof i<"u")return HT(t,i)?qT(n,r,t,i):i}function w5(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function nR(t){let e=t._keys;return e||(e=t._keys=Pue(t._scopes)),e}function Pue(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function E5(){return typeof window<"u"&&typeof document<"u"}function KT(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Sg(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const jy=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function kue(t,e){return jy(t).getPropertyValue(e)}const $ue=["top","right","bottom","left"];function ia(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=$ue[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const Oue=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Nue(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(Oue(i,s,t.target))a=i,l=s;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Fo(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=jy(n),s=i.boxSizing==="border-box",o=ia(i,"padding"),a=ia(i,"border","width"),{x:l,y:c,box:u}=Nue(t,n),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:h,height:g}=e;return s&&(h-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-d)/h*n.width/r),y:Math.round((c-f)/g*n.height/r)}}function Mue(t,e,n){let r,i;if(e===void 0||n===void 0){const s=KT(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=jy(s),l=ia(a,"border","width"),c=ia(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,r=Sg(a.maxWidth,s,"clientWidth"),i=Sg(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||_g,maxHeight:i||_g}}const ep=t=>Math.round(t*10)/10;function Due(t,e,n,r){const i=jy(t),s=ia(i,"margin"),o=Sg(i.maxWidth,t,"clientWidth")||_g,a=Sg(i.maxHeight,t,"clientHeight")||_g,l=Mue(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=ia(i,"border","width"),h=ia(i,"padding");c-=h.width+f.width,u-=h.height+f.height}return c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=ep(Math.min(c,o,l.maxWidth)),u=ep(Math.min(u,a,l.maxHeight)),c&&!u&&(u=ep(c/2)),(e!==void 0||n!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=ep(Math.floor(u*r))),{width:c,height:u}}function rR(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const Lue=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function iR(t,e){const n=kue(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const Fue=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},Vue=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Vl(t,e,n){return t?Fue(e,n):Vue()}function x5(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function T5(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class jue{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=f5.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var xi=new jue;const sR="transparent",Uue={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=XA(t||sR),i=r.valid&&XA(e||sR);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class zue{constructor(e,n,r,i){const s=n[r];i=Zh([e.to,i,s,e.from]);const o=Zh([e.from,s,i]);this._active=!0,this._fn=e.fn||Uue[e.type||typeof o],this._easing=Yu[e.easing]||Yu.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Zh([e.to,n,i,e.from]),this._from=Zh([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class S5{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Te(e))return;const n=Object.keys(it.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!Te(s))return;const o={};for(const a of n)o[a]=s[a];(nt(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=Wue(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&Bue(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let d=s[c];const f=r.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}s[c]=d=new zue(f,e,c,u),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return xi.add(this._chart,r),!0}}function Bue(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function Wue(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function oR(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function Hue(t,e,n){if(n===!1)return!1;const r=oR(t,n),i=oR(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function que(t){let e,n,r,i;return Te(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function I5(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function aR(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,c;if(e!==null){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(r.all)continue;break}c=t.values[l],kt(c)&&(s||e===0||bg(e)===bg(c))&&(e+=c)}return e}}function Kue(t){const e=Object.keys(t),n=new Array(e.length);let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],n[r]={x:s,y:t[s]};return n}function lR(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Gue(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Que(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function Yue(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function cR(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function uR(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=Gue(s,o,r),d=e.length;let f;for(let h=0;h<d;++h){const g=e[h],{[l]:m,[c]:y}=g,v=g._stacks||(g._stacks={});f=v[c]=Yue(i,u,m),f[a]=y,f._top=cR(f,o,!0,r.type),f._bottom=cR(f,o,!1,r.type);const _=f._visualValues||(f._visualValues={});_[a]=y}}function S_(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function Xue(t,e){return Wa(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Jue(t,e,n){return Wa(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ru(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const I_=t=>t==="reset"||t==="none",dR=(t,e)=>e?t:Object.assign({},t),Zue=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:I5(n,!0),values:null};class Ju{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=lR(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ru(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,f,h,g)=>d==="x"?f:d==="r"?g:h,s=n.xAxisID=Ie(r.xAxisID,S_(e,"x")),o=n.yAxisID=Ie(r.yAxisID,S_(e,"y")),a=n.rAxisID=Ie(r.rAxisID,S_(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),u=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&GA(this._data,this),e._stacked&&ru(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Te(n))this._data=Kue(n);else if(r!==n){if(r){GA(r,this);const i=this._cachedMeta;ru(i),i._parsed=[]}n&&Object.isExtensible(n)&&Zce(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=lR(n.vScale,n),n.stack!==r.stack&&(i=!0,ru(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&uR(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{nt(i[e])?f=this.parseArrayData(r,i,e,n):Te(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const h=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<n;++u)r._parsed[u+e]=d=f[u],l&&(h()&&(l=!1),c=d);r._sorted=l}o&&uR(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,c=s.getLabels(),u=s===o,d=new Array(i);let f,h,g;for(f=0,h=i;f<h;++f)g=f+r,d[f]={[a]:u||s.parse(c[g],g),[l]:o.parse(n[g],g)};return d}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+r,d=n[u],a[l]={x:s.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,f,h;for(u=0,d=i;u<d;++u)f=u+r,h=n[f],c[u]={x:s.parse(af(h,a),f),y:o.parse(af(h,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:I5(i,!0),values:n._stacks[e.axis]._visualValues};return aR(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=aR(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=Zue(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=Que(a);let f,h;function g(){h=i[f];const m=h[a.axis];return!kt(h[e.axis])||u>m||d<m}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(c,e,h,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(c,e,h,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],kt(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=que(Ie(this.options.clip,Hue(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,s,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,s))}for(u=0;u<o.length;++u)o[u].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=Jue(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=Xue(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&yg(r);if(a)return dR(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),h=Object.keys(it.elements[e]),g=()=>this.getContext(r,i,n),m=c.resolveNamedOptions(f,h,g,d);return m.$shared&&(m.$shared=l,s[o]=Object.freeze(dR(m,l))),m}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,r,n))}const c=new S5(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||I_(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){I_(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!I_(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&ru(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ae(Ju,"defaults",{}),ae(Ju,"datasetElementType",null),ae(Ju,"dataElementType",null);function ede(t,e,n){let r=1,i=1,s=0,o=0;if(e<rt){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),h=(b,w,E)=>Eg(b,a,l,!0)?1:Math.max(w,w*n,E,E*n),g=(b,w,E)=>Eg(b,a,l,!0)?-1:Math.min(w,w*n,E,E*n),m=h(0,c,d),y=h(ft,u,f),v=g(_t,c,d),_=g(_t+ft,u,f);r=(m-v)/2,i=(y-_)/2,s=-(m+v)/2,o=-(y+_)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class Su extends Ju{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(Te(r[e])){const{key:l="value"}=this._parsing;s=c=>+af(r[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return ii(this.options.rotation-90)}_getCircumference(){return ii(this.options.circumference)}_getRotationExtents(){let e=rt,n=-rt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(jce(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:h,offsetX:g,offsetY:m}=ede(d,u,l),y=(r.width-o)/f,v=(r.height-o)/h,_=Math.max(Math.min(y,v)/2,0),b=a5(this.options.radius,_),w=Math.max(b*l,0),E=(b-w)/this._getVisibleDatasetWeightTotal();this.offsetX=g*b,this.offsetY=m*b,i.total=this.calculateTotal(),this.outerRadius=b-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*c,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/rt)}updateElements(e,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=s&&c.animateScale,h=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(n,i);let v=this._getRotation(),_;for(_=0;_<n;++_)v+=this._circumference(_,s);for(_=n;_<n+r;++_){const b=this._circumference(_,s),w=e[_],E={x:u+this.offsetX,y:d+this.offsetY,startAngle:v,endAngle:v+b,circumference:b,outerRadius:g,innerRadius:h};y&&(E.options=m||this.resolveDataElementOptions(_,w.active?"active":i)),v+=b,this.updateElement(w,_,E,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?rt*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Fy(n._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,s,o,a,l;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Ie(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ae(Su,"id","doughnut"),ae(Su,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ae(Su,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),ae(Su,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class H1 extends Su{}ae(H1,"id","pie"),ae(H1,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Ro(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class GT{constructor(e){ae(this,"options");this.options=e||{}}static override(e){Object.assign(GT.prototype,e)}init(){}formats(){return Ro()}parse(){return Ro()}format(){return Ro()}add(){return Ro()}diff(){return Ro()}startOf(){return Ro()}endOf(){return Ro()}}var tde={_date:GT};function nde(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?Xce:B1;if(r){if(i._sharedOptions){const c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(s,e,n-u),f=l(s,e,n+u);return{lo:d.lo,hi:f.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function eh(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:f}=nde(s[a],e,o,i);for(let h=d;h<=f;++h){const g=u[h];g.skip||r(g,c,h)}}}function rde(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function C_(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||eh(t,n,e,function(a,l,c){!i&&!wl(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function ide(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=u5(o,{x:e.x,y:e.y});Eg(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return eh(t,n,e,s),i}function sde(t,e,n,r,i,s){let o=[];const a=rde(n);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const h=u.inRange(e.x,e.y,i);if(r&&!h)return;const g=u.getCenterPoint(i);if(!(!!s||t.isPointInArea(g))&&!h)return;const y=a(e,g);y<l?(o=[{element:u,datasetIndex:d,index:f}],l=y):y===l&&o.push({element:u,datasetIndex:d,index:f})}return eh(t,n,e,c),o}function A_(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?ide(t,e,n,i):sde(t,e,n,r,i,s)}function fR(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return eh(t,n,e,(l,c,u)=>{l[o](e[n],i)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var ode={evaluateInteractionItems:eh,modes:{index(t,e,n,r){const i=Fo(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?C_(t,i,s,r,o):A_(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,r){const i=Fo(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?C_(t,i,s,r,o):A_(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,r){const i=Fo(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return C_(t,i,s,r,o)},nearest(t,e,n,r){const i=Fo(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return A_(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=Fo(e,t);return fR(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Fo(e,t);return fR(t,i,"y",n.intersect,r)}}};const C5=["left","top","right","bottom"];function iu(t,e){return t.filter(n=>n.pos===e)}function hR(t,e){return t.filter(n=>C5.indexOf(n.pos)===-1&&n.box.axis===e)}function su(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function ade(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function lde(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!C5.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function cde(t,e){const n=lde(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=u?u*i:l&&e.availableHeight)}return n}function ude(t){const e=ade(t),n=su(e.filter(c=>c.box.fullSize),!0),r=su(iu(e,"left"),!0),i=su(iu(e,"right")),s=su(iu(e,"top"),!0),o=su(iu(e,"bottom")),a=hR(e,"x"),l=hR(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:iu(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function pR(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function A5(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function dde(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!Te(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&A5(o,s.getPadding());const a=Math.max(0,e.outerWidth-pR(o,t,"left","right")),l=Math.max(0,e.outerHeight-pR(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function fde(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function hde(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function Iu(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,hde(a.horizontal,e));const{same:d,other:f}=dde(e,n,a,r);c|=d&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&Iu(i,e,n,r)||u}function tp(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function mR(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;yg(c.start)&&(o=c.start),l.fullSize?tp(l,i.left,o,n.outerWidth-i.right-i.left,f):tp(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;yg(c.start)&&(s=c.start),l.fullSize?tp(l,s,i.top,f,n.outerHeight-i.bottom-i.top):tp(l,s,e.top+c.placed,f,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var Ps={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=gn(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=ude(t.boxes),l=a.vertical,c=a.horizontal;Ae(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,y)=>y.box.options&&y.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);A5(f,gn(r));const h=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),g=cde(l.concat(c),d);Iu(a.fullSize,h,d,g),Iu(l,h,d,g),Iu(c,h,d,g)&&Iu(l,h,d,g),fde(h),mR(a.leftAndTop,h,d,g),h.x+=h.w,h.y+=h.h,mR(a.rightAndBottom,h,d,g),t.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Ae(a.chartArea,m=>{const y=m.box;Object.assign(y,t.chartArea),y.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class R5{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class pde extends R5{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const zp="$chartjs",mde={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},gR=t=>t===null||t==="";function gde(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[zp]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",gR(i)){const s=iR(t,"width");s!==void 0&&(t.width=s)}if(gR(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=iR(t,"height");s!==void 0&&(t.height=s)}return t}const P5=Lue?{passive:!0}:!1;function vde(t,e,n){t.addEventListener(e,n,P5)}function yde(t,e,n){t.canvas.removeEventListener(e,n,P5)}function _de(t,e){const n=mde[t.type]||t.type,{x:r,y:i}=Fo(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Ig(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function bde(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Ig(a.addedNodes,r),o=o&&!Ig(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function wde(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Ig(a.removedNodes,r),o=o&&!Ig(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const lf=new Map;let vR=0;function k5(){const t=window.devicePixelRatio;t!==vR&&(vR=t,lf.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Ede(t,e){lf.size||window.addEventListener("resize",k5),lf.set(t,e)}function xde(t){lf.delete(t),lf.size||window.removeEventListener("resize",k5)}function Tde(t,e,n){const r=t.canvas,i=r&&KT(r);if(!i)return;const s=h5((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(i),Ede(t,s),o}function R_(t,e,n){n&&n.disconnect(),e==="resize"&&xde(t)}function Sde(t,e,n){const r=t.canvas,i=h5(s=>{t.ctx!==null&&n(_de(s,t))},t);return vde(r,e,i),i}class Ide extends R5{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(gde(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[zp])return!1;const r=n[zp].initial;["height","width"].forEach(s=>{const o=r[s];Ye(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[zp],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:bde,detach:wde,resize:Tde}[n]||Sde;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:R_,detach:R_,resize:R_}[n]||yde)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return Due(e,n,r,i)}isAttached(e){const n=KT(e);return!!(n&&n.isConnected)}}function Cde(t){return!E5()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?pde:Ide}var cp;let th=(cp=class{constructor(){ae(this,"x");ae(this,"y");ae(this,"active",!1);ae(this,"options");ae(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return wg(this.x)&&wg(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},ae(cp,"defaults",{}),ae(cp,"defaultRoutes"),cp);function Ade(t,e){const n=t.options.ticks,r=Rde(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?kde(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return $de(e,c,s,o/i),c;const u=Pde(s,e,i);if(o>0){let d,f;const h=o>1?Math.round((l-a)/(o-1)):null;for(np(e,c,u,Ye(h)?0:a-h,a),d=0,f=o-1;d<f;d++)np(e,c,u,s[d],s[d+1]);return np(e,c,u,l,Ye(h)?e.length:l+h),c}return np(e,c,u),c}function Rde(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function Pde(t,e,n){const r=Ode(t),i=e.length/n;if(!r)return Math.max(i,1);const s=Kce(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function kde(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function $de(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function np(t,e,n,r,i){const s=Ie(r,0),o=Math.min(Ie(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function Ode(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const Nde=t=>t==="left"?"right":t==="right"?"left":t,yR=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,_R=(t,e)=>Math.min(e||t,t);function bR(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function Mde(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<s-a||l>o+a)))return l}function Dde(t,e){Ae(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function ou(t){return t.drawTicks?t.tickLength:0}function wR(t,e){if(!t.display)return 0;const n=Ht(t.font,e),r=gn(t.padding);return(nt(t.text)?t.text.length:1)*n.lineHeight+r.height}function Lde(t,e){return Wa(t,{scale:e,type:"scale"})}function Fde(t,e,n){return Wa(t,{tick:n,index:e,type:"tick"})}function Vde(t,e,n){let r=p5(t);return(n&&e!=="right"||!n&&e==="right")&&(r=Nde(r)),r}function jde(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,h,g;const m=o-i,y=a-s;if(t.isHorizontal()){if(h=On(r,s,a),Te(n)){const v=Object.keys(n)[0],_=n[v];g=u[v].getPixelForValue(_)+m-e}else n==="center"?g=(c.bottom+c.top)/2+m-e:g=yR(t,n,e);f=a-s}else{if(Te(n)){const v=Object.keys(n)[0],_=n[v];h=u[v].getPixelForValue(_)-y+e}else n==="center"?h=(c.left+c.right)/2-y+e:h=yR(t,n,e);g=On(r,o,i),d=n==="left"?-ft:ft}return{titleX:h,titleY:g,maxWidth:f,rotation:d}}class Lc extends th{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Mn(e,Number.POSITIVE_INFINITY),n=Mn(n,Number.NEGATIVE_INFINITY),r=Mn(r,Number.POSITIVE_INFINITY),i=Mn(i,Number.NEGATIVE_INFINITY),{min:Mn(e,r),max:Mn(n,i),minDefined:kt(e),maxDefined:kt(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Mn(n,Mn(r,n)),max:Mn(r,Mn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Me(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=wue(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?bR(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Ade(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Me(this.options.afterUpdate,[this])}beforeSetDimensions(){Me(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Me(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Me(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Me(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Me(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Me(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Me(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=_R(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,h=dr(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:h/(r-1),d+6>a&&(a=h/(r-(e.offset?.5:1)),l=this.maxHeight-ou(e.grid)-n.padding-wR(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=VT(Math.min(Math.asin(dr((u.highest.height+6)/a,-1,1)),Math.asin(dr(l/c,-1,1))-Math.asin(dr(f/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Me(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Me(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=wR(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=ou(s)+l):(e.height=this.maxHeight,e.width=ou(s)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),h=r.padding*2,g=ii(this.labelRotation),m=Math.cos(g),y=Math.sin(g);if(a){const v=r.mirror?0:y*d.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+v+h)}else{const v=r.mirror?0:m*d.width+y*f.height;e.width=Math.min(this.maxWidth,e.width+v+h)}this._calculatePadding(c,u,y,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;l?c?(f=i*e.width,h=r*n.height):(f=r*e.height,h=i*n.width):s==="start"?h=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,h=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Me(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Ye(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=bR(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/_R(n,r));let c=0,u=0,d,f,h,g,m,y,v,_,b,w,E;for(d=0;d<n;d+=l){if(g=e[d].label,m=this._resolveTickFontOptions(d),i.font=y=m.string,v=s[y]=s[y]||{data:{},gc:[]},_=m.lineHeight,b=w=0,!Ye(g)&&!nt(g))b=xg(i,v.data,v.gc,b,g),w=_;else if(nt(g))for(f=0,h=g.length;f<h;++f)E=g[f],!Ye(E)&&!nt(E)&&(b=xg(i,v.data,v.gc,b,E),w+=_);o.push(b),a.push(w),c=Math.max(b,c),u=Math.max(w,u)}Dde(s,n);const x=o.indexOf(c),S=a.indexOf(u),I=A=>({width:o[A]||0,height:a[A]||0});return{first:I(0),last:I(n-1),widest:I(x),highest:I(S),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Yce(this._alignToPixels?Ao(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=Fde(this.getContext(),e,r))}return this.$context||(this.$context=Lde(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ii(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=ou(s),h=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,y=m/2,v=function(V){return Ao(r,V,m)};let _,b,w,E,x,S,I,A,C,R,P,k;if(o==="top")_=v(this.bottom),S=this.bottom-f,A=_-y,R=v(e.top)+y,k=e.bottom;else if(o==="bottom")_=v(this.top),R=e.top,k=v(e.bottom)-y,S=_+y,A=this.top+f;else if(o==="left")_=v(this.right),x=this.right-f,I=_-y,C=v(e.left)+y,P=e.right;else if(o==="right")_=v(this.left),C=e.left,P=v(e.right)-y,x=_+y,I=this.left+f;else if(n==="x"){if(o==="center")_=v((e.top+e.bottom)/2+.5);else if(Te(o)){const V=Object.keys(o)[0],H=o[V];_=v(this.chart.scales[V].getPixelForValue(H))}R=e.top,k=e.bottom,S=_+y,A=S+f}else if(n==="y"){if(o==="center")_=v((e.left+e.right)/2);else if(Te(o)){const V=Object.keys(o)[0],H=o[V];_=v(this.chart.scales[V].getPixelForValue(H))}x=_-y,I=x-f,C=e.left,P=e.right}const M=Ie(i.ticks.maxTicksLimit,d),D=Math.max(1,Math.ceil(d/M));for(b=0;b<d;b+=D){const V=this.getContext(b),H=s.setContext(V),O=a.setContext(V),$=H.lineWidth,L=H.color,z=O.dash||[],G=O.dashOffset,K=H.tickWidth,q=H.tickColor,Q=H.tickBorderDash||[],ee=H.tickBorderDashOffset;w=Mde(this,b,l),w!==void 0&&(E=Ao(r,w,$),c?x=I=C=P=E:S=A=R=k=E,h.push({tx1:x,ty1:S,tx2:I,ty2:A,x1:C,y1:R,x2:P,y2:k,width:$,color:L,borderDash:z,borderDashOffset:G,tickWidth:K,tickColor:q,tickBorderDash:Q,tickBorderDashOffset:ee}))}return this._ticksLength=d,this._borderValue=_,h}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,f=ou(r.grid),h=f+u,g=d?-u:h,m=-ii(this.labelRotation),y=[];let v,_,b,w,E,x,S,I,A,C,R,P,k="middle";if(i==="top")x=this.bottom-g,S=this._getXAxisLabelAlignment();else if(i==="bottom")x=this.top+g,S=this._getXAxisLabelAlignment();else if(i==="left"){const D=this._getYAxisLabelAlignment(f);S=D.textAlign,E=D.x}else if(i==="right"){const D=this._getYAxisLabelAlignment(f);S=D.textAlign,E=D.x}else if(n==="x"){if(i==="center")x=(e.top+e.bottom)/2+h;else if(Te(i)){const D=Object.keys(i)[0],V=i[D];x=this.chart.scales[D].getPixelForValue(V)+h}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")E=(e.left+e.right)/2-h;else if(Te(i)){const D=Object.keys(i)[0],V=i[D];E=this.chart.scales[D].getPixelForValue(V)}S=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?k="top":l==="end"&&(k="bottom"));const M=this._getLabelSizes();for(v=0,_=a.length;v<_;++v){b=a[v],w=b.label;const D=s.setContext(this.getContext(v));I=this.getPixelForTick(v)+s.labelOffset,A=this._resolveTickFontOptions(v),C=A.lineHeight,R=nt(w)?w.length:1;const V=R/2,H=D.color,O=D.textStrokeColor,$=D.textStrokeWidth;let L=S;o?(E=I,S==="inner"&&(v===_-1?L=this.options.reverse?"left":"right":v===0?L=this.options.reverse?"right":"left":L="center"),i==="top"?c==="near"||m!==0?P=-R*C+C/2:c==="center"?P=-M.highest.height/2-V*C+C:P=-M.highest.height+C/2:c==="near"||m!==0?P=C/2:c==="center"?P=M.highest.height/2-V*C:P=M.highest.height-R*C,d&&(P*=-1),m!==0&&!D.showLabelBackdrop&&(E+=C/2*Math.sin(m))):(x=I,P=(1-R)*C/2);let z;if(D.showLabelBackdrop){const G=gn(D.backdropPadding),K=M.heights[v],q=M.widths[v];let Q=P-G.top,ee=0-G.left;switch(k){case"middle":Q-=K/2;break;case"bottom":Q-=K;break}switch(S){case"center":ee-=q/2;break;case"right":ee-=q;break}z={left:ee,top:Q,width:q+G.width,height:K+G.height,color:D.backdropColor}}y.push({label:w,font:A,textOffset:P,options:{rotation:m,color:H,strokeColor:O,strokeWidth:$,textAlign:L,textBaseline:k,translation:[E,x],backdrop:z}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ii(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+s,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+s,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=Ao(e,this.left,o)-o/2,u=Ao(e,this.right,a)+a/2,d=f=l):(d=Ao(e,this.top,o)-o/2,f=Ao(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&UT(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,c=o.label,u=o.textOffset;dc(r,c,0,u,l,a)}i&&zT(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Ht(r.font),o=gn(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||Te(n)?(l+=o.bottom,nt(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=jde(this,l,n,a);dc(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:f,textAlign:Vde(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Ie(e.grid&&e.grid.z,-1),i=Ie(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Lc.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Ht(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class rp{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;Bde(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,Ude(e,o,r),this.override&&it.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in it[i]&&(delete it[i][r],this.override&&delete _a[r])}}function Ude(t,e,n){const r=of(Object.create(null),[n?it.get(n):{},it.get(e),t.defaults]);it.set(e,r),t.defaultRoutes&&zde(e,t.defaultRoutes),t.descriptors&&it.describe(e,t.descriptors)}function zde(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");it.route(s,i,l,a)})}function Bde(t){return"id"in t&&"defaults"in t}class Wde{constructor(){this.controllers=new rp(Ju,"datasets",!0),this.elements=new rp(th,"elements"),this.plugins=new rp(Object,"plugins"),this.scales=new rp(Lc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Ae(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=FT(e);Me(r["before"+i],[],r),n[e](r),Me(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var qr=new Wde;class Hde{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Me(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Ye(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Ie(r.options&&r.options.plugins,{}),s=qde(r);return i===!1&&!n?[]:Gde(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function qde(t){const e={},n=[],r=Object.keys(qr.plugins.items);for(let s=0;s<r.length;s++)n.push(qr.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function Kde(t,e){return!e&&t===!1?null:t===!0?{}:t}function Gde(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,c=Kde(r[l],i);c!==null&&s.push({plugin:a,options:Qde(t.config,{plugin:a,local:n[l]},c,o)})}return s}function Qde(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function q1(t,e){const n=it.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function Yde(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function Xde(t,e){return t===e?"_index_":"_value_"}function ER(t){if(t==="x"||t==="y"||t==="r")return t}function Jde(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function K1(t,...e){if(ER(t))return t;for(const n of e){const r=n.axis||Jde(n.position)||t.length>1&&ER(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function xR(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function Zde(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return xR(t,"x",n[0])||xR(t,"y",n[0])}return{}}function efe(t,e){const n=_a[t.type]||{scales:{}},r=e.scales||{},i=q1(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Te(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=K1(o,a,Zde(o,t),it.scales[a.type]),c=Xde(l,i),u=n.scales||{};s[o]=Qu(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||q1(a,e),u=(_a[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=Yde(d,l),h=o[f+"AxisID"]||f;s[h]=s[h]||Object.create(null),Qu(s[h],[{axis:f},r[h],u[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];Qu(a,[it.scales[a.type],it.scale])}),s}function $5(t){const e=t.options||(t.options={});e.plugins=Ie(e.plugins,{}),e.scales=efe(t,e)}function O5(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function tfe(t){return t=t||{},t.data=O5(t.data),$5(t),t}const TR=new Map,N5=new Set;function ip(t,e){let n=TR.get(t);return n||(n=e(),TR.set(t,n),N5.add(n)),n}const au=(t,e,n)=>{const r=af(e,n);r!==void 0&&t.add(r)};class nfe{constructor(e){this._config=tfe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=O5(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),$5(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ip(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ip(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ip(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return ip(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>au(l,e,d))),u.forEach(d=>au(l,i,d)),u.forEach(d=>au(l,_a[s]||{},d)),u.forEach(d=>au(l,it,d)),u.forEach(d=>au(l,W1,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),N5.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,_a[n]||{},it.datasets[n]||{},{type:n},it,W1]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=SR(this._resolverCache,e,i);let l=o;if(ife(o,n)){s.$shared=!1,r=fo(r)?r():r;const c=this.createResolver(e,r,a);l=fc(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(e,n,r=[""],i){const{resolver:s}=SR(this._resolverCache,e,r);return Te(n)?fc(s,n,void 0,i):s}}function SR(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:WT(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const rfe=t=>Te(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||fo(t[n]),!1);function ife(t,e){const{isScriptable:n,isIndexable:r}=y5(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(fo(a)||rfe(a))||o&&nt(a))return!0}return!1}var sfe="4.4.0";const ofe=["top","bottom","left","right","chartArea"];function IR(t,e){return t==="top"||t==="bottom"||ofe.indexOf(t)===-1&&e==="x"}function CR(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function AR(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Me(n&&n.onComplete,[t],e)}function afe(t){const e=t.chart,n=e.options.animation;Me(n&&n.onProgress,[t],e)}function M5(t){return E5()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Bp={},RR=t=>{const e=M5(t);return Object.values(Bp).filter(n=>n.canvas===e).pop()};function lfe(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function cfe(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function sp(t,e,n){return t.options.clip?t[n]:e[n]}function ufe(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:sp(n,e,"left"),right:sp(n,e,"right"),top:sp(r,e,"top"),bottom:sp(r,e,"bottom")}:e}var fs;let Uy=(fs=class{static register(...e){qr.add(...e),PR()}static unregister(...e){qr.remove(...e),PR()}constructor(e,n){const r=this.config=new nfe(n),i=M5(e),s=RR(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||Cde(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=Vce(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Hde,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=tue(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Bp[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}xi.listen(this,"complete",AR),xi.listen(this,"progress",afe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Ye(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return qr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():rR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ZA(this.canvas,this.ctx),this}stop(){return xi.stop(this),this}resize(e,n){xi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,rR(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Me(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ae(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=K1(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Ae(s,o=>{const a=o.options,l=a.id,c=K1(l,a),u=Ie(a.type,o.dtype);(a.position===void 0||IR(a.position,c)!==IR(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const f=qr.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),Ae(i,(o,a)=>{o||delete r[a]}),Ae(r,o=>{Ps.configure(this,o,o.options),Ps.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(CR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||q1(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=qr.getController(a),{datasetElementType:c,dataElementType:u}=it.datasets[a];Object.assign(l,{dataElementType:qr.getElement(u),datasetElementType:c&&qr.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ae(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||Ae(s,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(CR("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ae(this.scales,e=>{Ps.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!WA(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;lfe(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!WA(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ps.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],Ae(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,fo(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xi.has(this)?this.attached&&!xi.running(this)&&xi.start(this):(this.draw(),AR({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,s=ufe(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&UT(n,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&zT(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return wl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=ode.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Wa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);yg(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),xi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ZA(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Bp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Ae(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Ae(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Ae(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!gg(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=Hce(e),c=cfe(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Me(s.onHover,[e,a,this],this),l&&Me(s.onClick,[e,a,this],this));const u=!gg(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},ae(fs,"defaults",it),ae(fs,"instances",Bp),ae(fs,"overrides",_a),ae(fs,"registry",qr),ae(fs,"version",sfe),ae(fs,"getChart",RR),fs);function PR(){return Ae(Uy.instances,t=>t._plugins.invalidate())}function dfe(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+ft,r-ft),t.closePath(),t.clip()}function ffe(t){return BT(t,["outerStart","outerEnd","innerStart","innerEnd"])}function hfe(t,e,n,r){const i=ffe(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,r*e/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return dr(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:dr(i.innerStart,0,o),innerEnd:dr(i.innerEnd,0,o)}}function tl(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Cg(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+n-c,0),f=u>0?u+r+n+c:0;let h=0;const g=i-l;if(r){const D=u>0?u-r:0,V=d>0?d-r:0,H=(D+V)/2,O=H!==0?g*H/(H+r):g;h=(g-O)/2}const m=Math.max(.001,g*d-n/_t)/d,y=(g-m)/2,v=l+y+h,_=i-y-h,{outerStart:b,outerEnd:w,innerStart:E,innerEnd:x}=hfe(e,f,d,_-v),S=d-b,I=d-w,A=v+b/S,C=_-w/I,R=f+E,P=f+x,k=v+E/R,M=_-x/P;if(t.beginPath(),s){const D=(A+C)/2;if(t.arc(o,a,d,A,D),t.arc(o,a,d,D,C),w>0){const $=tl(I,C,o,a);t.arc($.x,$.y,w,C,_+ft)}const V=tl(P,_,o,a);if(t.lineTo(V.x,V.y),x>0){const $=tl(P,M,o,a);t.arc($.x,$.y,x,_+ft,M+Math.PI)}const H=(_-x/f+(v+E/f))/2;if(t.arc(o,a,f,_-x/f,H,!0),t.arc(o,a,f,H,v+E/f,!0),E>0){const $=tl(R,k,o,a);t.arc($.x,$.y,E,k+Math.PI,v-ft)}const O=tl(S,v,o,a);if(t.lineTo(O.x,O.y),b>0){const $=tl(S,A,o,a);t.arc($.x,$.y,b,v-ft,A)}}else{t.moveTo(o,a);const D=Math.cos(A)*d+o,V=Math.sin(A)*d+a;t.lineTo(D,V);const H=Math.cos(C)*d+o,O=Math.sin(C)*d+a;t.lineTo(H,O)}t.closePath()}function pfe(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){Cg(t,e,n,r,l,i);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%rt||rt))}return Cg(t,e,n,r,l,i),t.fill(),l}function mfe(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f}=l,h=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=f,h?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let g=e.endAngle;if(s){Cg(t,e,n,r,g,i);for(let m=0;m<s;++m)t.stroke();isNaN(a)||(g=o+(a%rt||rt))}h&&dfe(t,e,g),s||(Cg(t,e,n,r,g,i),t.stroke())}class Cu extends th{constructor(n){super();ae(this,"circumference");ae(this,"endAngle");ae(this,"fullCircles");ae(this,"innerRadius");ae(this,"outerRadius");ae(this,"pixelMargin");ae(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=u5(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=(this.options.spacing+this.options.borderWidth)/2,m=Ie(f,c-l)>=rt||Eg(o,l,c),y=Tu(a,u+h,d+h);return m&&y}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,d=(s+o)/2,f=(a+l+u+c)/2;return{x:r+Math.cos(d)*f,y:i+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>rt?Math.floor(i/rt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(_t,i||0)),u=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,pfe(n,this,u,o,a),mfe(n,this,u,o,a),n.restore()}}ae(Cu,"id","arc"),ae(Cu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ae(Cu,"defaultRoutes",{backgroundColor:"backgroundColor"}),ae(Cu,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});const kR=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},gfe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class $R extends th{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Me(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Ht(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=kR(r,s);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,h=-u;return this.legendItems.forEach((g,m)=>{const y=r+n/2+s.measureText(g.text).width;(m===0||c[c.length-1]+y+2*a>o)&&(d+=u,c[c.length-(m>0?0:1)]=0,h+=u,f++),l[m]={left:0,top:h,row:f,width:y,height:i},c[c.length-1]+=y+a}),d}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,f=0,h=0,g=0,m=0;return this.legendItems.forEach((y,v)=>{const{itemWidth:_,itemHeight:b}=vfe(r,n,s,y,i);v>0&&h+b+2*a>u&&(d+=f+a,c.push({width:f,height:h}),g+=f+a,m++,f=h=0),l[v]={left:g,top:h,col:m,width:_,height:b},f=Math.max(f,_),h+=b+a}),d+=f,c.push({width:f,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Vl(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=On(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=On(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=On(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=On(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;UT(e,this),this._draw(),zT(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=it.color,l=Vl(e.rtl,this.left,this.width),c=Ht(o.font),{padding:u}=o,d=c.size,f=d/2;let h;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:y}=kR(o,d),v=function(x,S,I){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;i.save();const A=Ie(I.lineWidth,1);if(i.fillStyle=Ie(I.fillStyle,a),i.lineCap=Ie(I.lineCap,"butt"),i.lineDashOffset=Ie(I.lineDashOffset,0),i.lineJoin=Ie(I.lineJoin,"miter"),i.lineWidth=A,i.strokeStyle=Ie(I.strokeStyle,a),i.setLineDash(Ie(I.lineDash,[])),o.usePointStyle){const C={radius:m*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:A},R=l.xPlus(x,g/2),P=S+f;v5(i,C,R,P,o.pointStyleWidth&&g)}else{const C=S+Math.max((d-m)/2,0),R=l.leftForLtr(x,g),P=Fl(I.borderRadius);i.beginPath(),Object.values(P).some(k=>k!==0)?Tg(i,{x:R,y:C,w:g,h:m,radius:P}):i.rect(R,C,g,m),i.fill(),A!==0&&i.stroke()}i.restore()},_=function(x,S,I){dc(i,I.text,x,S+y/2,c,{strikethrough:I.hidden,textAlign:l.textAlign(I.textAlign)})},b=this.isHorizontal(),w=this._computeTitleHeight();b?h={x:On(s,this.left+u,this.right-r[0]),y:this.top+u+w,line:0}:h={x:this.left+u,y:On(s,this.top+w+u,this.bottom-n[0].height),line:0},x5(this.ctx,e.textDirection);const E=y+u;this.legendItems.forEach((x,S)=>{i.strokeStyle=x.fontColor,i.fillStyle=x.fontColor;const I=i.measureText(x.text).width,A=l.textAlign(x.textAlign||(x.textAlign=o.textAlign)),C=g+f+I;let R=h.x,P=h.y;l.setWidth(this.width),b?S>0&&R+C+u>this.right&&(P=h.y+=E,h.line++,R=h.x=On(s,this.left+u,this.right-r[h.line])):S>0&&P+E>this.bottom&&(R=h.x=R+n[h.line].width+u,h.line++,P=h.y=On(s,this.top+w+u,this.bottom-n[h.line].height));const k=l.x(R);if(v(k,P,x),R=nue(A,R+g+f,b?R+C:this.right,e.rtl),_(l.x(R),P,x),b)h.x+=C+u;else if(typeof x.text!="string"){const M=c.lineHeight;h.y+=D5(x,M)+u}else h.y+=E}),T5(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Ht(n.font),i=gn(n.padding);if(!n.display)return;const s=Vl(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=On(e.align,d,this.right-f);else{const g=this.columnSizes.reduce((m,y)=>Math.max(m,y.height),0);u=c+On(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const h=On(a,d,d+f);o.textAlign=s.textAlign(p5(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,dc(o,n.text,h,u,r)}_computeTitleHeight(){const e=this.options.title,n=Ht(e.font),r=gn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Tu(e,this.left,this.right)&&Tu(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Tu(e,i.left,i.left+i.width)&&Tu(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!bfe(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=gfe(i,r);i&&!s&&Me(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Me(n.onHover,[e,r,this],this)}else r&&Me(n.onClick,[e,r,this],this)}}function vfe(t,e,n,r,i){const s=yfe(r,t,e,n),o=_fe(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function yfe(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function _fe(t,e,n){let r=t;return typeof e.text!="string"&&(r=D5(e,n)),r}function D5(t,e){const n=t.text?t.text.length:0;return e*n}function bfe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var wfe={id:"legend",_element:$R,start(t,e,n){const r=t.legend=new $R({ctx:t.ctx,options:n,chart:t});Ps.configure(t,r,n),Ps.addBox(t,r)},stop(t){Ps.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Ps.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=gn(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const Au={average(t){if(!t.length)return!1;let e,n,r=0,i=0,s=0;for(e=0,n=t.length;e<n;++e){const o=t[e].element;if(o&&o.hasValue()){const a=o.tooltipPosition();r+=a.x,i+=a.y,++s}}return{x:r/s,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Qce(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Wr(t,e){return e&&(nt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ti(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Efe(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function OR(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Ht(e.bodyFont),c=Ht(e.titleFont),u=Ht(e.footerFont),d=s.length,f=i.length,h=r.length,g=gn(e.padding);let m=g.height,y=0,v=r.reduce((w,E)=>w+E.before.length+E.lines.length+E.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),v){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=h*w+(v-h)*l.lineHeight+(v-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let _=0;const b=function(w){y=Math.max(y,n.measureText(w).width+_)};return n.save(),n.font=c.string,Ae(t.title,b),n.font=l.string,Ae(t.beforeBody.concat(t.afterBody),b),_=e.displayColors?o+2+e.boxPadding:0,Ae(r,w=>{Ae(w.before,b),Ae(w.lines,b),Ae(w.after,b)}),_=0,n.font=u.string,Ae(t.footer,b),n.restore(),y+=g.width,{width:y,height:m}}function xfe(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function Tfe(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function Sfe(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),Tfe(c,t,e,n)&&(c="center"),c}function NR(t,e,n){const r=n.yAlign||e.yAlign||xfe(t,n);return{xAlign:n.xAlign||e.xAlign||Sfe(t,e,n,r),yAlign:r}}function Ife(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function Cfe(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function MR(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:h}=Fl(o);let g=Ife(e,a);const m=Cfe(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,f)+i:a==="right"&&(g+=Math.max(d,h)+i),{x:dr(g,0,r.width-e.width),y:dr(m,0,r.height-e.height)}}function op(t,e,n){const r=gn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function DR(t){return Wr([],Ti(t))}function Afe(t,e,n){return Wa(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function LR(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const L5={beforeTitle:wi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:wi,beforeBody:wi,beforeLabel:wi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Ye(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:wi,afterBody:wi,beforeFooter:wi,footer:wi,afterFooter:wi};function _n(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?L5[e].call(n,r):i}class G1 extends th{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new S5(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Afe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=_n(r,"beforeTitle",this,e),s=_n(r,"title",this,e),o=_n(r,"afterTitle",this,e);let a=[];return a=Wr(a,Ti(i)),a=Wr(a,Ti(s)),a=Wr(a,Ti(o)),a}getBeforeBody(e,n){return DR(_n(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return Ae(e,s=>{const o={before:[],lines:[],after:[]},a=LR(r,s);Wr(o.before,Ti(_n(a,"beforeLabel",this,s))),Wr(o.lines,_n(a,"label",this,s)),Wr(o.after,Ti(_n(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return DR(_n(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=_n(r,"beforeFooter",this,e),s=_n(r,"footer",this,e),o=_n(r,"afterFooter",this,e);let a=[];return a=Wr(a,Ti(i)),a=Wr(a,Ti(s)),a=Wr(a,Ti(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(Efe(this.chart,n[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,r))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,r))),Ae(a,u=>{const d=LR(e.callbacks,u);i.push(_n(d,"labelColor",this,u)),s.push(_n(d,"labelPointStyle",this,u)),o.push(_n(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=Au[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=OR(this,r),c=Object.assign({},a,l),u=NR(this.chart,r,c),d=MR(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Fl(a),{x:f,y:h}=e,{width:g,height:m}=n;let y,v,_,b,w,E;return s==="center"?(w=h+m/2,i==="left"?(y=f,v=y-o,b=w+o,E=w-o):(y=f+g,v=y+o,b=w-o,E=w+o),_=y):(i==="left"?v=f+Math.max(l,u)+o:i==="right"?v=f+g-Math.max(c,d)-o:v=this.caretX,s==="top"?(b=h,w=b-o,y=v-o,_=v+o):(b=h+m,w=b+o,y=v+o,_=v-o),E=b),{x1:y,x2:v,x3:_,y1:b,y2:w,y3:E}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=Vl(r.rtl,this.x,this.width);for(e.x=op(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=Ht(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,u=Ht(s.bodyFont),d=op(this,"left",s),f=i.x(d),h=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+h;if(s.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=i.leftForLtr(f,c)+c/2,v=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,eR(e,m,y,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,eR(e,m,y,v)}else{e.lineWidth=Te(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(f,c),y=i.leftForLtr(i.xPlus(f,1),c-2),v=Fl(o.borderRadius);Object.values(v).some(_=>_!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Tg(e,{x:m,y:g,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Tg(e,{x:y,y:g+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,g,c,l),e.strokeRect(m,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=Ht(r.bodyFont);let f=d.lineHeight,h=0;const g=Vl(r.rtl,this.x,this.width),m=function(I){n.fillText(I,g.x(e.x+h),e.y+f/2),e.y+=f+s},y=g.textAlign(o);let v,_,b,w,E,x,S;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=op(this,y,r),n.fillStyle=r.bodyColor,Ae(this.beforeBody,m),h=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,x=i.length;w<x;++w){for(v=i[w],_=this.labelTextColors[w],n.fillStyle=_,Ae(v.before,m),b=v.lines,a&&b.length&&(this._drawColorBox(n,e,w,g,r),f=Math.max(d.lineHeight,l)),E=0,S=b.length;E<S;++E)m(b[E]),f=d.lineHeight;Ae(v.after,m)}h=0,f=d.lineHeight,Ae(this.afterBody,m),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Vl(r.rtl,this.x,this.width);for(e.x=op(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Ht(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:g}=Fl(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+h,l+u),n.quadraticCurveTo(a,l+u,a,l+u-h),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=Au[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=OR(this,e),l=Object.assign({},o,this._size),c=NR(n,e,l),u=MR(e,l,c,n);(i._to!==u.x||s._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=gn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),x5(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),T5(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!gg(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!gg(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n;const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=Au[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}ae(G1,"positioners",Au);var Rfe={id:"tooltip",_element:G1,positioners:Au,afterInit(t,e,n){n&&(t.tooltip=new G1({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:L5},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function Pfe(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,h=s||1,g=u-1,{min:m,max:y}=e,v=!Ye(o),_=!Ye(a),b=!Ye(c),w=(y-m)/(d+1);let E=qA((y-m)/g/h)*h,x,S,I,A;if(E<1e-14&&!v&&!_)return[{value:m},{value:y}];A=Math.ceil(y/E)-Math.floor(m/E),A>g&&(E=qA(A*E/g/h)*h),Ye(l)||(x=Math.pow(10,l),E=Math.ceil(E*x)/x),i==="ticks"?(S=Math.floor(m/E)*E,I=Math.ceil(y/E)*E):(S=m,I=y),v&&_&&s&&Gce((a-o)/s,E/1e3)?(A=Math.round(Math.min((a-o)/E,u)),E=(a-o)/A,S=o,I=a):b?(S=v?o:S,I=_?a:I,A=c-1,E=(I-S)/A):(A=(I-S)/E,Up(A,Math.round(A),E/1e3)?A=Math.round(A):A=Math.ceil(A));const C=Math.max(KA(E),KA(S));x=Math.pow(10,Ye(l)?C:l),S=Math.round(S*x)/x,I=Math.round(I*x)/x;let R=0;for(v&&(f&&S!==o?(n.push({value:o}),S<o&&R++,Up(Math.round((S+R*E)*x)/x,o,FR(o,w,t))&&R++):S<o&&R++);R<A;++R){const P=Math.round((S+R*E)*x)/x;if(_&&P>a)break;n.push({value:P})}return _&&f&&I!==a?n.length&&Up(n[n.length-1].value,a,FR(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!_||I===a)&&n.push({value:I}),n}function FR(t,e,{horizontal:n,minRotation:r}){const i=ii(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Ag extends Lc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Ye(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=bg(i),c=bg(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=Pfe(i,s);return e.bounds==="ticks"&&c5(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return Fy(e,this.chart.options.locale,this.options.ticks.format)}}class VR extends Ag{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=kt(e)?e:0,this.max=kt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=ii(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ae(VR,"id","linear"),ae(VR,"defaults",{ticks:{callback:Vy.formatters.numeric}});const cf=t=>Math.floor(Rs(t)),Po=(t,e)=>Math.pow(10,cf(t)+e);function jR(t){return t/Math.pow(10,cf(t))===1}function UR(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function kfe(t,e){const n=e-t;let r=cf(n);for(;UR(t,e,r)>10;)r++;for(;UR(t,e,r)<10;)r--;return Math.min(r,cf(t))}function $fe(t,{min:e,max:n}){e=Mn(t.min,e);const r=[],i=cf(e);let s=kfe(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=i>s?Math.pow(10,i):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,s)),f=Mn(t.min,Math.round((l+u+d*Math.pow(10,s))*o)/o);for(;f<n;)r.push({value:f,major:jR(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),f=Math.round((l+u+d*Math.pow(10,s))*o)/o;const h=Mn(t.max,f);return r.push({value:h,major:jR(h),significand:d}),r}class zR extends Lc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=Ag.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return kt(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=kt(e)?Math.max(0,e):null,this.max=kt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!kt(this._userMin)&&(this.min=e===Po(this.min,0)?Po(this.min,-1):Po(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const s=a=>r=e?r:a,o=a=>i=n?i:a;r===i&&(r<=0?(s(1),o(10)):(s(Po(r,-1)),o(Po(i,1)))),r<=0&&s(Po(i,-1)),i<=0&&o(Po(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=$fe(n,this);return e.bounds==="ticks"&&c5(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":Fy(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Rs(e),this._valueRange=Rs(this.max)-Rs(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Rs(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}ae(zR,"id","logarithmic"),ae(zR,"defaults",{ticks:{callback:Vy.formatters.logarithmic,major:{enabled:!0}}});function Q1(t){const e=t.ticks;if(e.display&&t.display){const n=gn(e.backdropPadding);return Ie(e.font&&e.font.size,it.font.size)+n.height}return 0}function Ofe(t,e,n){return n=nt(n)?n:[n],{w:fue(t,e.string,n),h:n.length*e.lineHeight}}function BR(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function Nfe(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?_t/s:0;for(let l=0;l<s;l++){const c=o.setContext(t.getPointLabelContext(l));i[l]=c.padding;const u=t.getPointPosition(l,t.drawingArea+i[l],a),d=Ht(c.font),f=Ofe(t.ctx,d,t._pointLabels[l]);r[l]=f;const h=Kr(t.getIndexAngle(l)+a),g=Math.round(VT(h)),m=BR(g,u.x,f.w,0,180),y=BR(g,u.y,f.h,90,270);Mfe(n,e,h,m,y)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=Ffe(t,r,i)}function Mfe(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function Dfe(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,r+i+o,s),c=Math.round(VT(Kr(l.angle+ft))),u=Ufe(l.y,a.h,c),d=Vfe(c),f=jfe(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:f,top:u,right:f+a.w,bottom:u+a.h}}function Lfe(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(wl({x:n,y:r},e)||wl({x:n,y:s},e)||wl({x:i,y:r},e)||wl({x:i,y:s},e))}function Ffe(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Q1(s)/2,additionalAngle:o?_t/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const d=Dfe(t,u,l);r.push(d),a==="auto"&&(d.visible=Lfe(d,c),d.visible&&(c=d))}return r}function Vfe(t){return t===0||t===180?"center":t<180?"left":"right"}function jfe(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function Ufe(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function zfe(t,e,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!Ye(a)){const l=Fl(e.borderRadius),c=gn(e.backdropPadding);t.fillStyle=a;const u=r-c.left,d=i-c.top,f=s-r+c.width,h=o-i+c.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),Tg(t,{x:u,y:d,w:f,h,radius:l}),t.fill()):t.fillRect(u,d,f,h)}}function Bfe(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const o=r.setContext(t.getPointLabelContext(i));zfe(n,o,s);const a=Ht(o.font),{x:l,y:c,textAlign:u}=s;dc(n,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function F5(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,rt);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let o=1;o<r;o++)s=t.getPointPosition(o,e),i.lineTo(s.x,s.y)}}function Wfe(t,e,n,r,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash),s.lineDashOffset=i.dashOffset,s.beginPath(),F5(t,n,o,r),s.closePath(),s.stroke(),s.restore())}function Hfe(t,e,n){return Wa(t,{label:n,index:e,type:"pointLabel"})}class ap extends Ag{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=gn(Q1(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=kt(e)&&!isNaN(e)?e:0,this.max=kt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Q1(this.options))}generateTickLabels(e){Ag.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=Me(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?Nfe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=rt/(this._pointLabels.length||1),r=this.options.startAngle||0;return Kr(e*n+ii(r))}getDistanceFromCenterForValue(e){if(Ye(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Ye(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return Hfe(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-ft+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),F5(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:s}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&Bfe(this,o),i.display&&this.ticks.forEach((u,d)=>{if(d!==0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(d),h=i.setContext(f),g=s.setContext(f);Wfe(this,h,l,o,g)}}),r.display){for(e.save(),a=o-1;a>=0;a--){const u=r.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=u;!f||!d||(e.lineWidth=f,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=r.setContext(this.getContext(l)),u=Ht(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const d=gn(c.backdropPadding);e.fillRect(-o/2-d.left,-s-u.size/2-d.top,o+d.width,u.size+d.height)}dc(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}ae(ap,"id","radialLinear"),ae(ap,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Vy.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),ae(ap,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ae(ap,"descriptors",{angleLines:{_fallback:"grid"}});const zy={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xn=Object.keys(zy);function WR(t,e){return t-e}function HR(t,e){if(Ye(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),kt(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(wg(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function qR(t,e,n,r){const i=xn.length;for(let s=xn.indexOf(t);s<i-1;++s){const o=zy[xn[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return xn[s]}return xn[i-1]}function qfe(t,e,n,r,i){for(let s=xn.length-1;s>=xn.indexOf(n);s--){const o=xn[s];if(zy[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return xn[n?xn.indexOf(n):0]}function Kfe(t){for(let e=xn.indexOf(t)+1,n=xn.length;e<n;++e)if(zy[xn[e]].common)return xn[e]}function KR(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=jT(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function Gfe(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function GR(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:Gfe(t,r,i,n)}class Rg extends Lc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new tde._date(e.adapters.date);i.init(n),Qu(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:HR(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=kt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=kt(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=Jce(i,s,o);return this._unit=n.unit||(r.autoSkip?qR(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):qfe(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Kfe(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),GR(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=dr(n,0,o),r=dr(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||qR(s.minUnit,n,r,this._getLabelCapacity(n)),a=Ie(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=wg(l)||l===!0,u={};let d=n,f,h;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,h=0;f<r;f=+e.add(f,a,o),h++)KR(u,f,g);return(f===r||i.bounds==="ticks"||h===1)&&KR(u,f,g),Object.keys(u).sort(WR).map(m=>+m)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Me(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=r[n],h=c&&d&&f&&f.major;return this._adapter.format(e,i||(h?d:u))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=ii(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,GR(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(HR(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return eue(e.sort(WR))}}ae(Rg,"id","time"),ae(Rg,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function lp(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=B1(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=B1(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const c=o-s;return c?a+(l-a)*(e-s)/c:a}class QR extends Rg{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=lp(n,this.min),this._tableRange=lp(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(lp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return lp(this._table,r*this._tableRange+this._minPos,!0)}}ae(QR,"id","timeseries"),ae(QR,"defaults",Rg.defaults);const V5="label";function YR(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function Qfe(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function j5(t,e){t.labels=e}function U5(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V5;const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function Yfe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:V5;const n={labels:[],datasets:[]};return j5(n,t.labels),U5(n,t.datasets,e),n}function Xfe(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=t,h=p.useRef(null),g=p.useRef(),m=()=>{h.current&&(g.current=new Uy(h.current,{type:o,data:Yfe(a,s),options:l&&{...l},plugins:c}),YR(e,g.current))},y=()=>{YR(e,null),g.current&&(g.current.destroy(),g.current=null)};return p.useEffect(()=>{!i&&g.current&&l&&Qfe(g.current,l)},[i,l]),p.useEffect(()=>{!i&&g.current&&j5(g.current.config.data,a.labels)},[i,a.labels]),p.useEffect(()=>{!i&&g.current&&a.datasets&&U5(g.current.config.data,a.datasets,s)},[i,a.datasets]),p.useEffect(()=>{g.current&&(i?(y(),setTimeout(m)):g.current.update(d))},[i,l,a.labels,a.datasets,d]),p.useEffect(()=>{g.current&&(y(),setTimeout(m))},[o]),p.useEffect(()=>(m(),()=>y()),[]),ne.createElement("canvas",Object.assign({ref:h,role:"img",height:n,width:r},f),u)}const Jfe=p.forwardRef(Xfe);function Zfe(t,e){return Uy.register(e),p.forwardRef((n,r)=>ne.createElement(Jfe,Object.assign({},n,{ref:r,type:t})))}const ehe=Zfe("pie",H1);Uy.register(Cu,Rfe,wfe);function the({chartData:t,groupName:e}){return T.jsxs("figure",{className:"w-72 h-72 md:w-80 md:h-80 flex flex-col items-center text-lg font-medium mb-16 ",children:[T.jsx("h2",{className:"py-4 text-neutral-600 ",children:e}),T.jsx(ehe,{data:t})]})}const nhe=()=>{var d,f;const t=W3(),[e,n]=p.useState([]),[r,i]=p.useState(0),s=Kt(pn),{data:o}=Na(s.email),a=(d=o==null?void 0:o[r])==null?void 0:d.id,l=((f=o==null?void 0:o[r])==null?void 0:f.user_group_name)||"",{data:c}=Ly(a),u=vQ(c);return p.useEffect(()=>{n([]),i(0)},[]),p.useEffect(()=>{u&&u.length!==0&&n(h=>[...h,{id:t,user_group_name:l,user_group_totals:[...u]}]),r<((o==null?void 0:o.length)||0)-1&&i(h=>h+1)},[c]),{totalUserExpensesData:e}};function rhe(){const{totalUserExpensesData:t}=nhe();return T.jsxs("main",{className:"w-full flex flex-col items-center ",children:[T.jsx("header",{className:"h-16 w-full flex justify-around items-center border-b-[.5px] border-slate-300 sm:px-6 xl:w-[32rem] ",children:T.jsx("h3",{className:"my-4 font-medium text-xl",children:"Group Expense Contributions"})}),t==null?void 0:t.map(e=>T.jsx("div",{children:T.jsx(the,{chartData:{labels:e==null?void 0:e.user_group_totals.map(n=>`${n==null?void 0:n.user_expense_name} - $${n==null?void 0:n.user_expense_amount}`),datasets:[{label:"Users contribution",data:e==null?void 0:e.user_group_totals.map(n=>n==null?void 0:n.user_expense_amount),backgroundColor:["#bbf7d0","#fbcfe8","#a5f3fc"],borderWidth:0}]},groupName:e.user_group_name})},e.id))]})}function ihe(){return T.jsxs("main",{className:"w-full bg-primary",children:[T.jsx(NT,{currentPage:"Dashboard"}),T.jsx(rhe,{})]})}const z5=p.forwardRef(({className:t,...e},n)=>T.jsx("div",{ref:n,className:_e("rounded-lg border border-slate-200 bg-secondary-bg-color  text-primary-font-color shadow-sm dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),...e}));z5.displayName="Card";const B5=p.forwardRef(({className:t,...e},n)=>T.jsx("div",{ref:n,className:_e("flex flex-col space-y-1.5 p-6",t),...e}));B5.displayName="CardHeader";const W5=p.forwardRef(({className:t,...e},n)=>T.jsx("h3",{ref:n,className:_e("text-2xl font-semibold leading-none tracking-tight",t),...e}));W5.displayName="CardTitle";const she=p.forwardRef(({className:t,...e},n)=>T.jsx("p",{ref:n,className:_e("text-sm text-slate-500 dark:text-slate-400",t),...e}));she.displayName="CardDescription";const H5=p.forwardRef(({className:t,...e},n)=>T.jsx("div",{ref:n,className:_e("p-6 pt-0",t),...e}));H5.displayName="CardContent";const ohe=p.forwardRef(({className:t,...e},n)=>T.jsx("div",{ref:n,className:_e("flex items-center p-6 pt-0",t),...e}));ohe.displayName="CardFooter";function q5({userName:t,userAmount:e}){return T.jsx("article",{children:T.jsxs(z5,{className:(t==null?void 0:t.split(" ")[0])==="You"?"text-rose-600":"text-primary-button-color",children:[T.jsxs(B5,{className:"flex flex-row items-center  justify-between space-y-0 pb-2",children:[T.jsx(W5,{className:"text-sm font-medium ",children:t}),T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-4 w-4 text-muted-foreground",children:T.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})})]}),T.jsx(H5,{children:T.jsxs("div",{className:"text-2xl font-bold",children:["$",e]})})]})})}function ahe(){const{groupId:t}=Kt(n=>n.groupId.groupId),{balanceArray:e}=r5(t);return T.jsx("article",{children:e==null?void 0:e.map(n=>T.jsx("div",{className:"mb-2",children:T.jsx(q5,{userName:n.userString,userAmount:n.userNumber||0})},n.groupId))})}const lhe=()=>{var c,u;const[t,e]=p.useState([]),[n,r]=p.useState(0),i=Kt(pn),{data:s}=Na(i.email),o=(c=s==null?void 0:s[n])==null?void 0:c.id,a=(u=s==null?void 0:s[n])==null?void 0:u.user_group_name,{data:l}=Ly(o);return p.useEffect(()=>{e([]),r(0)},[]),p.useEffect(()=>{if(l){const d=HD(l,i.displayName),f=qD(d,i.displayName),h=KD(f,o,a);e(g=>[...g,...h]),n<((s==null?void 0:s.length)||0)-1&&r(g=>g+1)}},[l]),{allBalanceSummary:t}};function che(){const{allBalanceSummary:t}=lhe(),e=n(t);function n(r){return r.reduce((i,s)=>(i[s.groupName]||(i[s.groupName]=[]),i[s.groupName].push(s),i),{})}return T.jsx("article",{children:Object.keys(e).map(r=>T.jsxs("div",{children:[T.jsx("h3",{className:"mt-2 ml-4 text-neutral-500 font-semibold text-lg mb-2",children:r}),e[r].map(i=>T.jsx("div",{className:"mb-2",children:T.jsx(q5,{userName:i==null?void 0:i.userString,userAmount:(i==null?void 0:i.userNumber)||0})},i==null?void 0:i.groupId))]},r))})}function QT(){const t=go();return T.jsx("section",{children:t.pathname==="/recentactivity"||t.pathname==="/"||t.pathname==="/profile"?T.jsx(T.Fragment,{children:T.jsx(che,{})}):T.jsx(T.Fragment,{children:T.jsx(ahe,{})})})}const K5=vs({name:"groupId",initialState:{groupId:{groupId:"feewfefw"}},reducers:{setGroupId:(t,e)=>{t.groupId=e.payload}}}),{setGroupId:uhe}=K5.actions,dhe=K5.reducer,fhe=t=>{const e=mf();p.useEffect(()=>{e(uhe({groupId:t}))},[e,t])},G5=(t,e)=>{p.useEffect(()=>{var n,r;((n=t[t.length])==null?void 0:n.id)!==((r=t[t.length-1])==null?void 0:r.id)&&(console.log("test"),e(i=>[...i,...t]))},[t,e])},hhe="/assets/power-outline-07fff2c8.svg",phe="/assets/wifi-outline-30607d72.svg",mhe="/assets/car-outline-8e9e8932.svg",ghe="/assets/call-outline-9bcbf7db.svg",XR="/assets/document-outline-516e823b.svg",vhe="/assets/boat-outline-80e3e08d.svg",yhe="/assets/bed-outline-b29dfce1.svg",_he="/assets/fast-food-outline-bf46d05f.svg",bhe="/assets/home-outline-df19bcea.svg",Q5=t=>{const e=typeof t=="string"?t:t==null?void 0:t.toString();return e.toLowerCase().includes("power")?T.jsx("img",{className:"w-7",src:hhe,alt:"Power Icon"}):e.toLowerCase().includes("internet")?T.jsx("img",{className:"w-7",src:phe,alt:"Wifi icon"}):e.toLowerCase().includes("car")?T.jsx("img",{className:"w-7",src:mhe,alt:"Car icon"}):e.toLowerCase().includes("phone")?T.jsx("img",{className:"w-7",src:ghe,alt:"Phone icon"}):e.toLowerCase().includes("parking")?T.jsx("img",{className:"w-7",src:XR,alt:"parking icon"}):e.toLowerCase().includes("boat")?T.jsx("img",{className:"w-7",src:vhe,alt:"boat icon"}):e.toLowerCase().includes("hotel")?T.jsx("img",{className:"w-7",src:yhe,alt:"hotel icon"}):e.toLowerCase().includes("groceries")?T.jsx("img",{className:"w-7",src:_he,alt:"food icon"}):e.toLowerCase().includes("house")?T.jsx("img",{className:"w-7",src:bhe,alt:"house icon"}):T.jsx("img",{className:"w-7",src:XR})},whe=nae,Ehe=rae,xhe=p.forwardRef(({className:t,inset:e,children:n,...r},i)=>T.jsxs(R3,{ref:i,className:_e("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-slate-100 data-[state=open]:bg-slate-100 dark:focus:bg-slate-800 dark:data-[state=open]:bg-slate-800",e&&"pl-8",t),...r,children:[n,T.jsx(lY,{className:"ml-auto h-4 w-4"})]}));xhe.displayName=R3.displayName;const The=p.forwardRef(({className:t,...e},n)=>T.jsx(P3,{ref:n,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-slate-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),...e}));The.displayName=P3.displayName;const Y5=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>T.jsx(iae,{children:T.jsx(x3,{ref:r,sideOffset:e,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-primary-font-color shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",t),...n})}));Y5.displayName=x3.displayName;const Y1=p.forwardRef(({className:t,inset:e,...n},r)=>T.jsx(T3,{ref:r,className:_e("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",e&&"pl-8",t),...n}));Y1.displayName=T3.displayName;const She=p.forwardRef(({className:t,children:e,checked:n,...r},i)=>T.jsxs(S3,{ref:i,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",t),checked:n,...r,children:[T.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:T.jsx(C3,{children:T.jsx(aY,{className:"h-4 w-4"})})}),e]}));She.displayName=S3.displayName;const Ihe=p.forwardRef(({className:t,children:e,...n},r)=>T.jsxs(I3,{ref:r,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",t),...n,children:[T.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:T.jsx(C3,{children:T.jsx(cY,{className:"h-2 w-2 fill-current"})})}),e]}));Ihe.displayName=I3.displayName;const X5=p.forwardRef(({className:t,inset:e,...n},r)=>T.jsx(co,{ref:r,className:_e("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));X5.displayName=co.displayName;const J5=p.forwardRef(({className:t,...e},n)=>T.jsx(A3,{ref:n,className:_e("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",t),...e}));J5.displayName=A3.displayName;function Z5({expenseDescription:t,expenseDate:e,expenseAmount:n,expenseId:r,billPaidBy:i,expenseIcon:s}){var f,h,g;const o=(f=E$())==null?void 0:f.id,a=(h=Kt(pn))==null?void 0:h.email,{data:l}=Na(a),c=(g=l==null?void 0:l.find(m=>m.id===o))==null?void 0:g.user_group_email,[u]=nJ(),d=async()=>{u({groupId:o,expenseId:r,expenseGroupsArray:c})};return T.jsx("article",{className:"",children:T.jsx("div",{className:"pr-4 bg-primary-bg-color text-primary-font-color border shadow-md dark:bg-gray-800 dark:border-gray-700 ",children:T.jsx("div",{className:"flow-root",children:T.jsx("ul",{role:"list",className:"divide-y divide-gray-200 dark:divide-gray-700",children:T.jsx("li",{className:"py-3 sm:py-4",children:T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx("div",{className:"flex-shrink-0"}),s,T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("p",{className:"text-sm font-medium truncate dark:text-white",children:t}),T.jsx("p",{className:"text-sm text-secondary-font-color truncate dark:text-gray-400",children:e})]}),T.jsxs("div",{className:"w-20 flex flex-col text-base font-semibold dark:text-white",children:[T.jsx("p",{className:"text-secondary-font-color",children:i}),T.jsx("p",{children:n})]}),o?T.jsxs(whe,{children:[T.jsx(Ehe,{asChild:!0,children:T.jsxs(kn,{variant:"ghost",className:"h-8 w-8 p-0",children:[T.jsx("span",{className:"sr-only",children:"Open menu"}),T.jsx(uY,{className:"h-4 w-4"})]})}),T.jsxs(Y5,{align:"end",children:[T.jsx(X5,{children:"Actions"}),T.jsx(J5,{}),T.jsx(Y1,{onClick:d,children:"Delete"}),T.jsx(Y1,{children:"Update"})]})]}):T.jsx("div",{className:"w-4"})]})})})})})})}function Che(){var g;const t=(g=E$())==null?void 0:g.id,e=Kt(pn),[n,r]=p.useState([]);fhe(t);const{data:i,refetch:s,isError:o,error:a}=k9(t),{data:l,refetch:c,isFetching:u,isError:d,error:f}=ZX(t);p.useEffect(()=>{i&&(r(i),s())},[t,i]);const h=()=>{c()};return G5(l||[],r),o||d?(console.error(a||f),T.jsx("div",{className:"w-full h-screen flex justify-center items-center",children:T.jsx("div",{className:"text-red-500 text-2xl",children:T.jsx("p",{children:'"Server Error, Please try again later"'})})})):T.jsxs(T.Fragment,{children:[T.jsxs("article",{className:"w-full",children:[T.jsx(NT,{currentPage:"Group"}),T.jsx("div",{className:"lg:hidden",children:T.jsx(QT,{})}),n==null?void 0:n.map(m=>{var y,v,_,b;return T.jsx("div",{children:T.jsx(Z5,{expenseIcon:Q5(m==null?void 0:m.user_expense_description),expenseDescription:m==null?void 0:m.user_expense_description,expenseDate:GD((y=m==null?void 0:m.created_at)==null?void 0:y.seconds,(v=m==null?void 0:m.created_at)==null?void 0:v.nanoseconds),expenseAmount:`$${m.user_expense_amount}`,expenseId:m.id,billPaidBy:e.displayName===(m==null?void 0:m.user_expense_name)?"You paid":((b=(_=m==null?void 0:m.user_expense_name)==null?void 0:_.split(" "))==null?void 0:b.slice(0,1))+" paid"})},m.id)}),T.jsx("div",{className:"w-full flex justify-center mt-4",children:T.jsx(kn,{className:"bg-gray-200 w-40 text-black hover:bg-gray-300 ",onClick:h,children:u?"Loading...":"Show more"})})]})," "]})}function Ahe(){return T.jsx("section",{className:"w-full",children:T.jsx(Che,{})})}const Rhe=new Cr,eL=(t,e)=>({googleSignIn:async()=>{const r=Sf();t(!0);try{await uN(r,Rhe)}catch(i){e(i.message)}finally{t(!1)}}}),tL=t=>{const e=_c();p.useEffect(()=>{(async()=>{try{t(!0),await dN(Dx)&&e("/dashboard")}catch(r){console.log(r)}finally{t(!1)}})()},[])};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Phe{constructor(e,n){this._delegate=e,this.firebase=n,Pm(e,new Bi("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),gO(this._delegate)))}_getService(e,n=Js){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Js){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Pm(this._delegate,e)}_addOrOverwriteComponent(e){mO(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const khe={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},JR=new Sa("app-compat","Firebase",khe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $he(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:kr,setLogLevel:yO,onLog:vO,apps:null,SDK_VERSION:vo,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:Xj}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||Js,!DI(e,c))throw JR.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,u={}){const d=wv(c,u);if(DI(e,d.name))return e[d.name];const f=new t(d,n);return e[d.name]=f,f}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const u=c.name,d=u.replace("-compat","");if(eo(c)&&c.type==="PUBLIC"){const f=(h=i())=>{if(typeof h[d]!="function")throw JR.create("invalid-app-argument",{appName:u});return h[d]()};c.serviceProps!==void 0&&Cm(f,c.serviceProps),n[d]=f,t.prototype[d]=function(...h){return this._getService.bind(this,u).apply(this,c.multipleInstances?h:[])}}return c.type==="PUBLIC"?n[d]:null}function l(c,u){return u==="serverAuth"?null:u}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(){const t=$he(Phe);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:nL,extendNamespace:e,createSubscribe:dO,ErrorFactory:Sa,deepExtend:Cm});function e(n){Cm(t,n)}return t}const Ohe=nL();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new bv("@firebase/app-compat"),Nhe="@firebase/app-compat",Mhe="0.2.23";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dhe(t){kr(Nhe,Mhe,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(MV()&&self.firebase!==void 0){ZR.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&ZR.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const YT=Ohe;Dhe();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lhe=2e3;async function Fhe(t,e,n){var r;const{BuildInfo:i}=ba();Dr(e.sessionId,"AuthEvent did not contain a session ID");const s=await Bhe(e.sessionId),o={};return xc()?o.ibi=i.packageName:wf()?o.apn=i.packageName:Ot(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,Fb(t,n,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function Vhe(t){const{BuildInfo:e}=ba(),n={};xc()?n.iosBundleId=e.packageName:wf()?n.androidPackageName=e.packageName:Ot(t,"operation-not-supported-in-this-environment"),await mN(t,n)}function jhe(t){const{cordova:e}=ba();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,IU()?"_blank":"_system","location=yes"),n(i)})})}async function Uhe(t,e,n){const{cordova:r}=ba();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function l(){var d;s();const f=(d=r.plugins.browsertab)===null||d===void 0?void 0:d.close;typeof f=="function"&&f(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(Gt(t,"redirect-cancelled-by-user"))},Lhe))}function u(){(document==null?void 0:document.visibilityState)==="visible"&&c()}e.addPassiveListener(l),document.addEventListener("resume",c,!1),wf()&&document.addEventListener("visibilitychange",u,!1),i=()=>{e.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}}function zhe(t){var e,n,r,i,s,o,a,l,c,u;const d=ba();B(typeof((e=d==null?void 0:d.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),B(typeof((n=d==null?void 0:d.BuildInfo)===null||n===void 0?void 0:n.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),B(typeof((s=(i=(r=d==null?void 0:d.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B(typeof((l=(a=(o=d==null?void 0:d.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||l===void 0?void 0:l.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),B(typeof((u=(c=d==null?void 0:d.cordova)===null||c===void 0?void 0:c.InAppBrowser)===null||u===void 0?void 0:u.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function Bhe(t){const e=Whe(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function Whe(t){if(Dr(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hhe=20;class qhe extends hN{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function Khe(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Yhe(),postBody:null,tenantId:t.tenantId,error:Gt(t,"no-auth-event")}}function Ghe(t,e){return X1()._set(J1(t),e)}async function eP(t){const e=await X1()._get(J1(t));return e&&await X1()._remove(J1(t)),e}function Qhe(t,e){var n,r;const i=Jhe(e);if(i.includes("/__/auth/callback")){const s=Wp(i),o=s.firebaseError?Xhe(decodeURIComponent(s.firebaseError)):null,a=(r=(n=o==null?void 0:o.code)===null||n===void 0?void 0:n.split("auth/"))===null||r===void 0?void 0:r[1],l=a?Gt(a):null;return l?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:l,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}function Yhe(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Hhe;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function X1(){return Wn(Av)}function J1(t){return Xo("authEvent",t.config.apiKey,t.name)}function Xhe(t){try{return JSON.parse(t)}catch{return null}}function Jhe(t){const e=Wp(t),n=e.link?decodeURIComponent(e.link):void 0,r=Wp(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Wp(i).link||i||r||n||t}function Wp(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return vl(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zhe=500;class epe{constructor(){this._redirectPersistence=to,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=$v,this._overrideRedirectResult=NE}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new qhe(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Ot(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){zhe(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),RB(),await this._originValidation(e);const o=Khe(e,r,i);await Ghe(e,o);const a=await Fhe(e,o,n),l=await jhe(a);return Uhe(e,s,l)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Vhe(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:s}=ba(),o=setTimeout(async()=>{await eP(e),n.onEvent(tP())},Zhe),a=async u=>{clearTimeout(o);const d=await eP(e);let f=null;d&&(u!=null&&u.url)&&(f=Qhe(d,u.url)),n.onEvent(f||tP())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);const l=i,c=`${s.packageName.toLowerCase()}://`;ba().handleOpenURL=async u=>{if(u.toLowerCase().startsWith(c)&&a({url:u}),typeof l=="function")try{l(u)}catch(d){console.error(d)}}}}const tpe=epe;function tP(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Gt("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function npe(t,e){ot(t)._logFramework(e)}var rpe="@firebase/auth-compat",ipe="0.4.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const spe=1e3;function Zu(){var t;return((t=self==null?void 0:self.location)===null||t===void 0?void 0:t.protocol)||null}function ope(){return Zu()==="http:"||Zu()==="https:"}function rL(t=bt()){return!!((Zu()==="file:"||Zu()==="ionic:"||Zu()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function ape(){return mE()||lO()}function lpe(){return uO()&&(document==null?void 0:document.documentMode)===11}function cpe(t=bt()){return/Edge\/\d+/.test(t)}function upe(t=bt()){return lpe()||cpe(t)}function iL(){try{const t=self.localStorage,e=xf();if(t)return t.setItem(e,"1"),t.removeItem(e),upe()?Am():!0}catch{return XT()&&Am()}return!1}function XT(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function P_(){return(ope()||cO()||rL())&&!ape()&&iL()&&!XT()}function sL(){return rL()&&typeof document<"u"}async function dpe(){return sL()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},spe);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function fpe(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn={LOCAL:"local",NONE:"none",SESSION:"session"},lu=B,oL="persistence";function hpe(t,e){if(lu(Object.values(zn).includes(e),t,"invalid-persistence-type"),mE()){lu(e!==zn.SESSION,t,"unsupported-persistence-type");return}if(lO()){lu(e===zn.NONE,t,"unsupported-persistence-type");return}if(XT()){lu(e===zn.NONE||e===zn.LOCAL&&Am(),t,"unsupported-persistence-type");return}lu(e===zn.NONE||iL(),t,"unsupported-persistence-type")}async function Z1(t){await t._initializationPromise;const e=aL(),n=Xo(oL,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistence())}function ppe(t,e){const n=aL();if(!n)return[];const r=Xo(oL,t,e);switch(n.getItem(r)){case zn.NONE:return[Yl];case zn.LOCAL:return[Jl,to];case zn.SESSION:return[to];default:return[]}}function aL(){var t;try{return((t=fpe())===null||t===void 0?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mpe=B;class ks{constructor(){this.browserResolver=Wn(gN),this.cordovaResolver=Wn(tpe),this.underlyingResolver=null,this._redirectPersistence=to,this._completeRedirectFn=$v,this._overrideRedirectResult=NE}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return sL()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mpe(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await dpe();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t){return t.unwrap()}function gpe(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vpe(t){return cL(t)}function ype(t,e){var n;const r=(n=e.customData)===null||n===void 0?void 0:n._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new _pe(t,Mz(t,e))}else if(r){const i=cL(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function cL(t){const{_tokenResponse:e}=t instanceof mn?t.customData:t;if(!e)return null;if(!(t instanceof mn)&&"temporaryProof"in e&&"phoneNumber"in e)return da.credentialFromResult(t);const n=e.providerId;if(!n||n===Gc.PASSWORD)return null;let r;switch(n){case Gc.GOOGLE:r=Cr;break;case Gc.FACEBOOK:r=Xr;break;case Gc.GITHUB:r=Jr;break;case Gc.TWITTER:r=Zr;break;default:const{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:l}=e;return!s&&!o&&!i&&!a?null:a?n.startsWith("saml.")?Xl._create(n,a):fi._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:i,accessToken:s}):new Pl(n).credential({idToken:i,accessToken:s,rawNonce:l})}return t instanceof mn?r.credentialFromError(t):r.credentialFromResult(t)}function bn(t,e){return e.catch(n=>{throw n instanceof mn&&ype(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:vpe(n),additionalUserInfo:$z(n),user:Mi.getOrCreate(i)}})}async function ew(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>bn(t,n.confirm(r))}}class _pe{constructor(e,n){this.resolver=n,this.auth=gpe(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return bn(lL(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this._delegate=e,this.multiFactor=Vz(e)}static getOrCreate(e){return Mi.USER_MAP.has(e)||Mi.USER_MAP.set(e,new Mi(e)),Mi.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return bn(this.auth,HO(this._delegate,e))}async linkWithPhoneNumber(e,n){return ew(this.auth,gB(this._delegate,e,n))}async linkWithPopup(e){return bn(this.auth,SB(this._delegate,e,ks))}async linkWithRedirect(e){return await Z1(ot(this.auth)),OB(this._delegate,e,ks)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return bn(this.auth,qO(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return ew(this.auth,vB(this._delegate,e,n))}reauthenticateWithPopup(e){return bn(this.auth,TB(this._delegate,e,ks))}async reauthenticateWithRedirect(e){return await Z1(ot(this.auth)),kB(this._delegate,e,ks)}sendEmailVerification(e){return xz(this._delegate,e)}async unlink(e){return await dz(this._delegate,e),this}updateEmail(e){return XO(this._delegate,e)}updatePassword(e){return Iz(this._delegate,e)}updatePhoneNumber(e){return yB(this._delegate,e)}updateProfile(e){return YO(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return Tz(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mi.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=B;class tw{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;cu(r,"invalid-api-key",{appName:e.name}),cu(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?ks:void 0;this._delegate=n.initialize({options:{persistence:bpe(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(nU),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){LO(this._delegate,e,n)}applyActionCode(e){return gz(this._delegate,e)}checkActionCode(e){return KO(this._delegate,e)}confirmPasswordReset(e,n){return mz(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return bn(this._delegate,GO(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Ez(this._delegate,e)}isSignInWithEmailLink(e){return _z(this._delegate,e)}async getRedirectResult(){cu(P_(),this._delegate,"operation-not-supported-in-this-environment");const e=await dN(this._delegate,ks);return e?bn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){npe(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:s,complete:o}=nP(e,n,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,n,r){const{next:i,error:s,complete:o}=nP(e,n,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,n){return yz(this._delegate,e,n)}sendPasswordResetEmail(e,n){return pz(this._delegate,e,n||void 0)}async setPersistence(e){hpe(this._delegate,e);let n;switch(e){case zn.SESSION:n=to;break;case zn.LOCAL:n=await Wn(Jl)._isAvailable()?Jl:Av;break;case zn.NONE:n=Yl;break;default:return Ot("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return bn(this._delegate,uz(this._delegate))}signInWithCredential(e){return bn(this._delegate,Iv(this._delegate,e))}signInWithCustomToken(e){return bn(this._delegate,hz(this._delegate,e))}signInWithEmailAndPassword(e,n){return bn(this._delegate,QO(this._delegate,e,n))}signInWithEmailLink(e,n){return bn(this._delegate,bz(this._delegate,e,n))}signInWithPhoneNumber(e,n){return ew(this._delegate,mB(this._delegate,e,n))}async signInWithPopup(e){return cu(P_(),this._delegate,"operation-not-supported-in-this-environment"),bn(this._delegate,xB(this._delegate,e,ks))}async signInWithRedirect(e){return cu(P_(),this._delegate,"operation-not-supported-in-this-environment"),await Z1(this._delegate),uN(this._delegate,e,ks)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return vz(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}tw.Persistence=zn;function nP(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:o=>i(o&&Mi.getOrCreate(o)),error:e,complete:n}}function bpe(t,e){const n=ppe(t,e);if(typeof self<"u"&&!n.includes(Jl)&&n.push(Jl),typeof window<"u")for(const r of[Av,to])n.includes(r)||n.push(r);return n.includes(Yl)||n.push(Yl),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.providerId="phone",this._delegate=new da(lL(YT.auth()))}static credential(e,n){return da.credential(e,n)}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}JT.PHONE_SIGN_IN_METHOD=da.PHONE_SIGN_IN_METHOD;JT.PROVIDER_ID=da.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wpe=B;class Epe{constructor(e,n,r=YT.app()){var i;wpe((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new hB(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xpe="auth-compat";function Tpe(t){t.INTERNAL.registerComponent(new Bi(xpe,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new tw(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ga.EMAIL_SIGNIN,PASSWORD_RESET:Ga.PASSWORD_RESET,RECOVER_EMAIL:Ga.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Ga.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Ga.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Ga.VERIFY_EMAIL}},EmailAuthProvider:yo,FacebookAuthProvider:Xr,GithubAuthProvider:Jr,GoogleAuthProvider:Cr,OAuthProvider:Pl,SAMLAuthProvider:$m,PhoneAuthProvider:JT,PhoneMultiFactorGenerator:vN,RecaptchaVerifier:Epe,TwitterAuthProvider:Zr,Auth:tw,AuthCredential:Tc,Error:mn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion(rpe,ipe)}Tpe(YT);const Spe=t=>{const[e,n]=p.useState(""),r=mf(),i=_c();return{passwordErrorMessage:e,signInWithEmailPassword:async o=>{try{t(!0);const a=Sf(),c=(await QO(a,o.email,o.password)).user;r(pE({email:c==null?void 0:c.email,displayName:c==null?void 0:c.displayName})),i("/dashboard")}catch(a){const l=a==null?void 0:a.code,c=a==null?void 0:a.message;t(!1),n(c??"An error occured"),console.log(l)}}}},uL=()=>{const t=mf();p.useEffect(()=>{const e=Dx.onAuthStateChanged(n=>{n&&t(pE({email:n==null?void 0:n.email,displayName:(n==null?void 0:n.displayName)||null,photoUrl:n==null?void 0:n.photoURL,userId:n==null?void 0:n.uid}))});return()=>e()},[])},dL=()=>{const t="h-8 w-8 bg-current   rounded-full";return T.jsxs("div",{className:"flex",children:[T.jsx("div",{className:`${t} mr-1 animate-bounce bg-primary-button-color `}),T.jsx("div",{className:`${t} mr-1 animate-bounce200 bg-primary-button-color`}),T.jsx("div",{className:`${t} animate-bounce400 bg-primary-button-color`})]})};function Ipe(){const[t,e]=p.useState(!1),[n,r]=p.useState(""),i=Nc().shape({email:jr().email("Invalid email").required("Email is required"),password:jr().required("Password is required")}),s=()=>{n!==""&&r(""),o()},{googleSignIn:o}=eL(e,r);tL(e);const{passwordErrorMessage:a,signInWithEmailPassword:l}=Spe(e);return uL(),t?T.jsx("div",{className:"w-full h-screen flex justify-center items-center",children:T.jsx(dL,{})}):T.jsx("section",{className:"px-4 w-full flex justify-center",children:T.jsx(a4,{initialValues:{password:"",email:""},validationSchema:i,onSubmit:c=>{l(c),r(a)},children:({errors:c,touched:u})=>T.jsxs(tT,{children:[T.jsxs("div",{className:"h-screen mx-auto flex w-full flex-col justify-center space-y-6 sm:w-[350px]",children:[T.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[T.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Login"}),T.jsx("p",{className:"text-sm text-muted-foreground",children:"Welcome to EvenShare! Please Login here"}),T.jsxs("p",{className:"text-sm text-muted-foreground text-red-600",children:["Guest Login: ",T.jsx("br",{}),"Email:steve@gmail.com ",T.jsx("br",{})," Password:gKwJkvn7WYDuyxi"]})]}),T.jsxs("div",{className:"grid gap-2",children:[T.jsx("div",{className:"grid gap-1",children:T.jsxs("label",{children:[T.jsx("p",{className:"font-medium text-slate-700 pb-2",children:"Email"}),T.jsx(sg,{id:"email",name:"email",type:"email",className:`w-full py-3 border border-slate-200 rounded-lg px-3 focus:outline-none ${c.email&&u.email?"border-red-500":""}`,placeholder:"Enter email address"}),c.email&&u.email&&T.jsx("p",{className:"text-red-500",children:c.email})]})}),T.jsxs("label",{children:[T.jsx("p",{className:"font-medium text-slate-700 pb-2",children:"Password"}),T.jsx(sg,{id:"password",name:"password",type:"password",autoComplete:"password",className:`w-full py-3 border border-slate-200 rounded-lg px-3 focus:outline-none ${c.password&&u.password?"border-red-500":""}`,placeholder:"Enter your password"}),c.password&&u.password&&T.jsx("p",{className:"text-red-500",children:c.password})]}),T.jsx(kn,{className:"mb-4 mt-2",children:"Sign In"}),T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("span",{className:"w-full border-t"})}),T.jsxs("div",{className:" relative flex justify-center text-sm uppercase",children:[T.jsx(Ar,{to:"/signup",className:"text-primary-button-color bg-primary-bg-color pl-1.5",children:"Signup"}),T.jsx("span",{className:"bg-background px-2 text-muted-foreground z-10 bg-primary-bg-color ",children:"Or continue with"})]})]}),T.jsx("div",{className:"my-5",children:T.jsxs("button",{className:"w-full h-12 text-center border flex space-x-2 items-center justify-center opacity-90 border-slate-400 rounded-lg text-slate-700 hover:border-slate-400 hover:text-slate-900 hover:shadow transition duration-150",disabled:t,onClick:s,children:[T.jsx("img",{src:"https://www.svgrepo.com/show/355037/google.svg",className:"w-6 h-6",alt:""})," ",T.jsx("span",{children:"Login with Google"})]})})]}),T.jsxs("p",{className:"px-8 text-center text-sm text-muted-foreground",children:["By clicking continue, you agree to our"," ",T.jsx(Ar,{to:"/login",className:"underline underline-offset-4 hover:text-primary",children:"Terms of Service"})," ","and"," ",T.jsx(Ar,{to:"/login",className:"underline underline-offset-4 hover:text-primary",children:"Privacy Policy"}),"."]})]}),n||a&&T.jsx("div",{className:"w-full mt-6 rounded border border-red-400",children:T.jsx("p",{className:" text-red-500 text-center py-2 font-medium",children:n||a})})]})})})}function Cpe(){return T.jsx(Ipe,{})}const Ape=t=>{const e=mf(),[n,r]=p.useState(""),i=_c();return{passwordErrorMessage:n,signUpEmailPassword:async o=>{try{t(!0);const a=Sf(),c=(await GO(a,o.email,o.password)).user;e(pE({email:c==null?void 0:c.email,displayName:c==null?void 0:c.displayName})),i("/setprofile")}catch(a){const l=a==null?void 0:a.code,c=a==null?void 0:a.message;t(!1),r(c??"An error occured"),console.log(l)}}}};function Rpe(){const[t,e]=p.useState(!1),[n,r]=p.useState(""),i=Nc().shape({email:jr().email("Invalid email").required("Email is required"),password:jr().required("Password is required")}),s=()=>{n!==""&&r(""),o()},{googleSignIn:o}=eL(e,r);tL(e);const{passwordErrorMessage:a,signUpEmailPassword:l}=Ape(e);return uL(),t?T.jsx("div",{className:"w-full h-screen flex justify-center items-center",children:T.jsx(dL,{})}):T.jsx("section",{className:"w-full flex justify-center px-4",children:T.jsx(a4,{initialValues:{password:"",email:""},validationSchema:i,onSubmit:c=>{l(c),r(a)},children:({errors:c,touched:u})=>T.jsxs(tT,{children:[T.jsxs("div",{className:"h-screen mx-auto flex w-full flex-col justify-center space-y-6 sm:w-[350px]",children:[T.jsxs("div",{className:"flex flex-col space-y-2 text-center",children:[T.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Sign Up"}),T.jsx("p",{className:"text-sm text-muted-foreground",children:"Welcome to EvenShare! Please Sign up here"})]}),T.jsxs("div",{className:"grid gap-2",children:[T.jsx("div",{className:"grid gap-1",children:T.jsxs("label",{children:[T.jsx("p",{className:"font-medium text-slate-700 pb-2",children:"Email"}),T.jsx(sg,{id:"email",name:"email",type:"email",className:`w-full py-3 border border-slate-200 rounded-lg px-3 focus:outline-none ${c.email&&u.email?"border-red-500":""}`,placeholder:"Enter email address"}),c.email&&u.email&&T.jsx("p",{className:"text-red-500",children:c.email})]})}),T.jsxs("label",{children:[T.jsx("p",{className:"font-medium text-slate-700 pb-2",children:"Password"}),T.jsx(sg,{id:"password",name:"password",type:"password",autoComplete:"password",className:`w-full py-3 border border-slate-200 rounded-lg px-3 focus:outline-none ${c.password&&u.password?"border-red-500":""}`,placeholder:"Enter your password"}),c.password&&u.password&&T.jsx("p",{className:"text-red-500",children:c.password})]}),T.jsx(kn,{className:"mb-4 mt-2",children:"Sign Up"}),T.jsxs("div",{className:"relative",children:[T.jsx("div",{className:"absolute inset-0 flex items-center",children:T.jsx("span",{className:"w-full border-t"})}),T.jsxs("div",{className:" relative flex justify-center text-sm uppercase",children:[T.jsx(Ar,{to:"/login",className:"text-primary-button-color pl-1.5 bg-primary-bg-color",children:"Sign In"}),T.jsx("span",{className:"bg-background px-2 text-muted-foreground bg-primary-bg-color",children:"Or continue with"})]})]}),T.jsx("div",{className:"my-5",children:T.jsxs("button",{className:"w-full h-12 text-center border flex space-x-2 items-center justify-center opacity-90 border-slate-400 rounded-lg text-slate-700 hover:border-slate-400 hover:text-slate-900 hover:shadow transition duration-150",disabled:t,onClick:s,children:[T.jsx("img",{src:"https://www.svgrepo.com/show/355037/google.svg",className:"w-6 h-6",alt:""})," ",T.jsx("span",{children:"Sign up"})]})})]}),T.jsxs("p",{className:"px-8 text-center text-sm text-muted-foreground",children:["By clicking continue, you agree to our"," ",T.jsx(Ar,{to:"/login",className:"underline underline-offset-4 hover:text-primary",children:"Terms of Service"})," ","and"," ",T.jsx(Ar,{to:"/login",className:"underline underline-offset-4 hover:text-primary",children:"Privacy Policy"}),"."]})]}),n||a&&T.jsx("div",{className:"w-full mt-6 rounded border border-red-400",children:T.jsx("p",{className:" text-red-500 text-center py-2 font-medium",children:n||a})})]})})})}function Ppe(){return T.jsx(Rpe,{})}let uu=null;const kpe=Dl.injectEndpoints({endpoints:t=>({fetchRecentActivity:t.query({async queryFn(e){uu=null;const n=Ln(It(Vt,"recentExpenses"),Gr("user_email","==",e));try{const r=await Fn(n),i=Ln(It(Vt,`recentExpenses/${r.docs[0].id}/expenses`),Wd("created_at","desc"),Ku(9)),s=await Fn(i);uu=s.docs[s.docs.length-1];const o=[];return s==null||s.forEach(a=>{const l=a.data(),c=l.created_at;o.push({id:a.id,...l,created_at:{seconds:c.seconds,nanoseconds:c.nanoseconds}})}),{data:o}}catch(r){return console.error(r.message),{error:r.message}}},providesTags:["recentActivity"]}),fetchRecentActivityPagination:t.query({async queryFn(e){const n=Ln(It(Vt,"recentExpenses"),Gr("user_email","==",e));try{if(!uu)return{data:[]};const r=await Fn(n),i=Ln(It(Vt,`recentExpenses/${r.docs[0].id}/expenses`),Wd("created_at","desc"),RD(uu),Ku(4)),s=await Fn(i);uu=s.docs[s.docs.length-1];const o=[];return s==null||s.forEach(a=>{const l=a.data(),c=l.created_at;o.push({id:a.id,...l,created_at:{seconds:c.seconds,nanoseconds:c.nanoseconds}})}),{data:o}}catch(r){return console.error(r.message),{error:r.message}}},providesTags:["recentActivity"]})})}),{useFetchRecentActivityQuery:$pe,useFetchRecentActivityPaginationQuery:Ope}=kpe;function Npe(){const{email:t,displayName:e}=Kt(pn),{data:n}=Na(t),[r,i]=p.useState([]),{data:s,refetch:o,isError:a,error:l}=$pe(t),{data:c,refetch:u,isFetching:d,isError:f,error:h}=Ope(t);p.useEffect(()=>{s&&(i(s),o())},[n,s,o]);const g=async()=>{u()};return G5(c||[],i),a||f?(console.error(l||h),T.jsx("div",{className:"w-full h-screen flex justify-center items-center",children:T.jsx("div",{className:"text-red-500 text-2xl",children:T.jsx("p",{children:'"Server Error, Please try again later"'})})})):T.jsxs("section",{className:"w-full",children:[T.jsx(NT,{currentPage:"Recent Activity"}),T.jsx("div",{className:"lg:hidden",children:T.jsx(QT,{})}),r==null?void 0:r.map(m=>{var y,v,_,b;return T.jsx("div",{children:T.jsx(Z5,{expenseIcon:Q5(m==null?void 0:m.user_expense_description),expenseDescription:m==null?void 0:m.user_expense_description,expenseDate:GD((y=m==null?void 0:m.created_at)==null?void 0:y.seconds,(v=m==null?void 0:m.created_at)==null?void 0:v.nanoseconds),expenseAmount:`$${m==null?void 0:m.user_expense_amount}`,expenseId:m==null?void 0:m.id,billPaidBy:e===(m==null?void 0:m.user_expense_name)?"You paid":((b=(_=m==null?void 0:m.user_expense_name)==null?void 0:_.split(" "))==null?void 0:b.slice(0,1))+" paid"})},m.id)}),T.jsx("div",{className:"w-full flex justify-center mt-4",children:T.jsx(kn,{className:"bg-gray-200 w-40 text-black hover:bg-gray-300",onClick:g,children:d?"Loading...":"Show more"})}),T.jsx("div",{className:"h-4"})]})}function Mpe(){const t=Kt(pn),[e,n]=p.useState(null),r=Nc({userName:jr().required("Description is required"),userEmail:jr().email("Invalid email").required("Email is required")}),i=_y({initialValues:{userName:t.displayName,userEmail:t.email},validationSchema:r,onSubmit:async s=>{const o=Oe.loading("Updating profile..."),l=Sf().currentUser;if(l)try{await YO(l,{displayName:s.userName}),await XO(l,s.userEmail),Oe.dismiss(o),Oe.success("Profile updated successfully!")}catch(c){console.log(c),n(c.message)}},validateOnChange:!1,validateOnBlur:!1});return e?T.jsx("div",{className:"w-full h-screen flex justify-center mt-16",children:T.jsx("div",{className:"text-red-500 text-2xl",children:T.jsx("p",{children:'"Server Error, Please try again later"'})||e})}):T.jsxs("section",{className:"",children:[T.jsx("h1",{className:"text-2xl flex justify-center items-center mt-12",children:"Profile"}),T.jsxs("form",{className:"px-16 ",onSubmit:i.handleSubmit,children:[T.jsx("p",{className:"mt-4 font-medium",children:"You can update your profile info here"}),T.jsxs("div",{className:"",children:[T.jsxs("div",{className:"mt-6",children:[T.jsx(co,{className:"text-left text-lg",children:"Username"}),T.jsx(va,{id:"userName",name:"userName",type:"text",onChange:i.handleChange,value:i.values.userName,placeholder:t.displayName,className:"col-span-3 mt-1"})]}),i.touched.userName&&i.errors.userName?T.jsx("div",{className:"text-red-500",children:i.errors.userName}):null,T.jsxs("div",{className:"mt-4",children:[T.jsx(co,{className:"text-left text-lg",children:"Email"}),T.jsx(va,{id:"userEmail",name:"userEmail",type:"text",onChange:i.handleChange,onBlur:i.handleBlur,value:i.values.userEmail,placeholder:t.email,className:"col-span-3 mt-1 mb-8"})]}),i.touched.userEmail&&i.errors.userEmail?T.jsx("div",{className:"text-red-500",children:i.errors.userEmail}):null]}),T.jsx(kn,{style:{width:"100%"},type:"submit",children:"Save"})]})]})}function Dpe(){return T.jsx("div",{children:T.jsx(Mpe,{})})}function Lpe(){return T.jsx("section",{className:"w-full",children:T.jsx(Dpe,{})})}function Fpe({children:t}){return T.jsxs("article",{className:"hidden lg:flex flex-col lg:sticky lg:top-0 lg:w-[32rem] lg:h-screen lg:bg-primary-bg-color  lg:dark:bg-gray-800 lg:rounded-l lg:shadow-lg lg:pt-0 ",children:[T.jsx("h2",{className:"mt-4 ml-4 font-semibold text-lg mb-5",children:"Your Balance"}),t]})}function Vpe(){const[t,e]=p.useState(!0),n=Kt(pn);return T.jsxs("div",{className:"w-full h-full bg-primary-bg-color text-primary-font-color",children:[n&&T.jsx(gY,{showNavBar:t,setShowNavBar:e}),T.jsx("div",{className:"border-b-[.5px]"}),T.jsxs("div",{className:"flex m-auto h-full max-w-5xl",children:[n&&T.jsx(Bae,{showNavBar:t,setShowNavBar:e}),T.jsxs(P7,{children:[T.jsx(Oo,{path:"/login",element:n?T.jsx(Ka,{to:"/"}):T.jsx(Cpe,{})}),T.jsx(Oo,{path:"/signup",element:n?T.jsx(Ka,{to:"/"}):T.jsx(Ppe,{})}),T.jsx(Oo,{path:"/",element:n?T.jsx(ihe,{}):T.jsx(Ka,{to:"/login"})}),T.jsx(Oo,{path:"/group/:id",element:n?T.jsx(Ahe,{}):T.jsx(Ka,{to:"/login"})}),T.jsx(Oo,{path:"/recentactivity",element:n?T.jsx(Npe,{}):T.jsx(Ka,{to:"/login"})}),T.jsx(Oo,{path:"/profile",element:n?T.jsx(Lpe,{}):T.jsx(Ka,{to:"/login"})})]}),n&&T.jsx(Fpe,{children:T.jsx(QT,{})})]})]})}const jpe=()=>dV({reducer:{user:EV,groupId:dhe,[Dl.reducerPath]:Dl.reducer},middleware:t=>t().concat(Dl.middleware)}),Upe=jpe();k_.createRoot(document.getElementById("root")).render(T.jsx(ne.StrictMode,{children:T.jsx(C8,{store:Upe,children:T.jsxs(D7,{children:[T.jsx(Vpe,{}),T.jsx(XX,{})]})})}))});export default zpe();
